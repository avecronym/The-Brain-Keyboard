/*
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
if you want to view the source, please visit the github repository of this plugin
*/

(function initCjs() {
  const globalThisRecord = globalThis;
  globalThisRecord["__name"] ??= name;
  const originalRequire = require;
  if (originalRequire && !originalRequire.__isPatched) {
    require = Object.assign(
      (id) => requirePatched(id),
      originalRequire,
      {
        __isPatched: true
      }
    );
  }
  const newFuncs = {
    __extractDefault() {
      return extractDefault;
    },
    process() {
      const browserProcess = {
        browser: true,
        cwd() {
          return "/";
        },
        env: {},
        platform: "android"
      };
      return browserProcess;
    }
  };
  for (const key of Object.keys(newFuncs)) {
    globalThisRecord[key] ??= newFuncs[key]?.();
  }
  function name(obj) {
    return obj;
  }
  function extractDefault(module2) {
    return module2 && module2.__esModule && "default" in module2 ? module2.default : module2;
  }
  function requirePatched(id) {
    const module2 = originalRequire?.(id);
    if (module2) {
      return extractDefault(module2);
    }
    if (id === "process" || id === "node:process") {
      console.error(`Module not found: ${id}. Fake process object is returned instead.`);
      return globalThis.process;
    }
    console.error(`Module not found: ${id}. Empty object is returned instead.`);
    return {};
  }
})();

"use strict";var kg=Object.create;var Si=Object.defineProperty;var vg=Object.getOwnPropertyDescriptor;var Ag=Object.getOwnPropertyNames;var Cg=Object.getPrototypeOf,xg=Object.prototype.hasOwnProperty;var kt=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),cu=(t,e)=>{for(var n in e)Si(t,n,{get:e[n],enumerable:!0})},fu=(t,e,n,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let o of Ag(e))!xg.call(t,o)&&o!==n&&Si(t,o,{get:()=>e[o],enumerable:!(r=vg(e,o))||r.enumerable});return t};var it=(t,e,n)=>(n=t!=null?kg(Cg(t)):{},fu(e||!t||!t.__esModule?Si(n,"default",{value:t,enumerable:!0}):n,t)),Eg=t=>fu(Si({},"__esModule",{value:!0}),t);var bu=kt((Hb,yu)=>{"use strict";function Ft(t){if(typeof t!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(t))}function wu(t,e){for(var n="",r=0,o=-1,s=0,l,u=0;u<=t.length;++u){if(u<t.length)l=t.charCodeAt(u);else{if(l===47)break;l=47}if(l===47){if(!(o===u-1||s===1))if(o!==u-1&&s===2){if(n.length<2||r!==2||n.charCodeAt(n.length-1)!==46||n.charCodeAt(n.length-2)!==46){if(n.length>2){var f=n.lastIndexOf("/");if(f!==n.length-1){f===-1?(n="",r=0):(n=n.slice(0,f),r=n.length-1-n.lastIndexOf("/")),o=u,s=0;continue}}else if(n.length===2||n.length===1){n="",r=0,o=u,s=0;continue}}e&&(n.length>0?n+="/..":n="..",r=2)}else n.length>0?n+="/"+t.slice(o+1,u):n=t.slice(o+1,u),r=u-o-1;o=u,s=0}else l===46&&s!==-1?++s:s=-1}return n}function Fg(t,e){var n=e.dir||e.root,r=e.base||(e.name||"")+(e.ext||"");return n?n===e.root?n+r:n+t+r:r}var Un={resolve:function(){for(var e="",n=!1,r,o=arguments.length-1;o>=-1&&!n;o--){var s;o>=0?s=arguments[o]:(r===void 0&&(r=process.cwd()),s=r),Ft(s),s.length!==0&&(e=s+"/"+e,n=s.charCodeAt(0)===47)}return e=wu(e,!n),n?e.length>0?"/"+e:"/":e.length>0?e:"."},normalize:function(e){if(Ft(e),e.length===0)return".";var n=e.charCodeAt(0)===47,r=e.charCodeAt(e.length-1)===47;return e=wu(e,!n),e.length===0&&!n&&(e="."),e.length>0&&r&&(e+="/"),n?"/"+e:e},isAbsolute:function(e){return Ft(e),e.length>0&&e.charCodeAt(0)===47},join:function(){if(arguments.length===0)return".";for(var e,n=0;n<arguments.length;++n){var r=arguments[n];Ft(r),r.length>0&&(e===void 0?e=r:e+="/"+r)}return e===void 0?".":Un.normalize(e)},relative:function(e,n){if(Ft(e),Ft(n),e===n||(e=Un.resolve(e),n=Un.resolve(n),e===n))return"";for(var r=1;r<e.length&&e.charCodeAt(r)===47;++r);for(var o=e.length,s=o-r,l=1;l<n.length&&n.charCodeAt(l)===47;++l);for(var u=n.length,f=u-l,p=s<f?s:f,h=-1,m=0;m<=p;++m){if(m===p){if(f>p){if(n.charCodeAt(l+m)===47)return n.slice(l+m+1);if(m===0)return n.slice(l+m)}else s>p&&(e.charCodeAt(r+m)===47?h=m:m===0&&(h=0));break}var g=e.charCodeAt(r+m),y=n.charCodeAt(l+m);if(g!==y)break;g===47&&(h=m)}var A="";for(m=r+h+1;m<=o;++m)(m===o||e.charCodeAt(m)===47)&&(A.length===0?A+="..":A+="/..");return A.length>0?A+n.slice(l+h):(l+=h,n.charCodeAt(l)===47&&++l,n.slice(l))},_makeLong:function(e){return e},dirname:function(e){if(Ft(e),e.length===0)return".";for(var n=e.charCodeAt(0),r=n===47,o=-1,s=!0,l=e.length-1;l>=1;--l)if(n=e.charCodeAt(l),n===47){if(!s){o=l;break}}else s=!1;return o===-1?r?"/":".":r&&o===1?"//":e.slice(0,o)},basename:function(e,n){if(n!==void 0&&typeof n!="string")throw new TypeError('"ext" argument must be a string');Ft(e);var r=0,o=-1,s=!0,l;if(n!==void 0&&n.length>0&&n.length<=e.length){if(n.length===e.length&&n===e)return"";var u=n.length-1,f=-1;for(l=e.length-1;l>=0;--l){var p=e.charCodeAt(l);if(p===47){if(!s){r=l+1;break}}else f===-1&&(s=!1,f=l+1),u>=0&&(p===n.charCodeAt(u)?--u===-1&&(o=l):(u=-1,o=f))}return r===o?o=f:o===-1&&(o=e.length),e.slice(r,o)}else{for(l=e.length-1;l>=0;--l)if(e.charCodeAt(l)===47){if(!s){r=l+1;break}}else o===-1&&(s=!1,o=l+1);return o===-1?"":e.slice(r,o)}},extname:function(e){Ft(e);for(var n=-1,r=0,o=-1,s=!0,l=0,u=e.length-1;u>=0;--u){var f=e.charCodeAt(u);if(f===47){if(!s){r=u+1;break}continue}o===-1&&(s=!1,o=u+1),f===46?n===-1?n=u:l!==1&&(l=1):n!==-1&&(l=-1)}return n===-1||o===-1||l===0||l===1&&n===o-1&&n===r+1?"":e.slice(n,o)},format:function(e){if(e===null||typeof e!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof e);return Fg("/",e)},parse:function(e){Ft(e);var n={root:"",dir:"",base:"",ext:"",name:""};if(e.length===0)return n;var r=e.charCodeAt(0),o=r===47,s;o?(n.root="/",s=1):s=0;for(var l=-1,u=0,f=-1,p=!0,h=e.length-1,m=0;h>=s;--h){if(r=e.charCodeAt(h),r===47){if(!p){u=h+1;break}continue}f===-1&&(p=!1,f=h+1),r===46?l===-1?l=h:m!==1&&(m=1):l!==-1&&(m=-1)}return l===-1||f===-1||m===0||m===1&&l===f-1&&l===u+1?f!==-1&&(u===0&&o?n.base=n.name=e.slice(1,f):n.base=n.name=e.slice(u,f)):(u===0&&o?(n.name=e.slice(1,l),n.base=e.slice(1,f)):(n.name=e.slice(u,l),n.base=e.slice(u,f)),n.ext=e.slice(l,f)),u>0?n.dir=e.slice(0,u-1):o&&(n.dir="/"),n},sep:"/",delimiter:":",win32:null,posix:null};Un.posix=Un;yu.exports=Un});var Wu=kt((bk,Nu)=>{var qn=1e3,Kn=qn*60,Zn=Kn*60,Cn=Zn*24,Vg=Cn*7,zg=Cn*365.25;Nu.exports=function(t,e){e=e||{};var n=typeof t;if(n==="string"&&t.length>0)return Ug(t);if(n==="number"&&isFinite(t))return e.long?Hg(t):$g(t);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(t))};function Ug(t){if(t=String(t),!(t.length>100)){var e=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(t);if(e){var n=parseFloat(e[1]),r=(e[2]||"ms").toLowerCase();switch(r){case"years":case"year":case"yrs":case"yr":case"y":return n*zg;case"weeks":case"week":case"w":return n*Vg;case"days":case"day":case"d":return n*Cn;case"hours":case"hour":case"hrs":case"hr":case"h":return n*Zn;case"minutes":case"minute":case"mins":case"min":case"m":return n*Kn;case"seconds":case"second":case"secs":case"sec":case"s":return n*qn;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return n;default:return}}}}function $g(t){var e=Math.abs(t);return e>=Cn?Math.round(t/Cn)+"d":e>=Zn?Math.round(t/Zn)+"h":e>=Kn?Math.round(t/Kn)+"m":e>=qn?Math.round(t/qn)+"s":t+"ms"}function Hg(t){var e=Math.abs(t);return e>=Cn?Mi(t,e,Cn,"day"):e>=Zn?Mi(t,e,Zn,"hour"):e>=Kn?Mi(t,e,Kn,"minute"):e>=qn?Mi(t,e,qn,"second"):t+" ms"}function Mi(t,e,n,r){var o=e>=n*1.5;return Math.round(t/n)+" "+r+(o?"s":"")}});var Ks=kt((kk,Bu)=>{function jg(t){n.debug=n,n.default=n,n.coerce=f,n.disable=l,n.enable=o,n.enabled=u,n.humanize=Wu(),n.destroy=p,Object.keys(t).forEach(h=>{n[h]=t[h]}),n.names=[],n.skips=[],n.formatters={};function e(h){let m=0;for(let g=0;g<h.length;g++)m=(m<<5)-m+h.charCodeAt(g),m|=0;return n.colors[Math.abs(m)%n.colors.length]}n.selectColor=e;function n(h){let m,g=null,y,A;function F(...S){if(!F.enabled)return;let C=F,_=Number(new Date),P=_-(m||_);C.diff=P,C.prev=m,C.curr=_,m=_,S[0]=n.coerce(S[0]),typeof S[0]!="string"&&S.unshift("%O");let B=0;S[0]=S[0].replace(/%([a-zA-Z%])/g,(E,Q)=>{if(E==="%%")return"%";B++;let j=n.formatters[Q];if(typeof j=="function"){let G=S[B];E=j.call(C,G),S.splice(B,1),B--}return E}),n.formatArgs.call(C,S),(C.log||n.log).apply(C,S)}return F.namespace=h,F.useColors=n.useColors(),F.color=n.selectColor(h),F.extend=r,F.destroy=n.destroy,Object.defineProperty(F,"enabled",{enumerable:!0,configurable:!1,get:()=>g!==null?g:(y!==n.namespaces&&(y=n.namespaces,A=n.enabled(h)),A),set:S=>{g=S}}),typeof n.init=="function"&&n.init(F),F}function r(h,m){let g=n(this.namespace+(typeof m>"u"?":":m)+h);return g.log=this.log,g}function o(h){n.save(h),n.namespaces=h,n.names=[],n.skips=[];let m=(typeof h=="string"?h:"").trim().replace(/\s+/g,",").split(",").filter(Boolean);for(let g of m)g[0]==="-"?n.skips.push(g.slice(1)):n.names.push(g)}function s(h,m){let g=0,y=0,A=-1,F=0;for(;g<h.length;)if(y<m.length&&(m[y]===h[g]||m[y]==="*"))m[y]==="*"?(A=y,F=g,y++):(g++,y++);else if(A!==-1)y=A+1,F++,g=F;else return!1;for(;y<m.length&&m[y]==="*";)y++;return y===m.length}function l(){let h=[...n.names,...n.skips.map(m=>"-"+m)].join(",");return n.enable(""),h}function u(h){for(let m of n.skips)if(s(h,m))return!1;for(let m of n.names)if(s(h,m))return!0;return!1}function f(h){return h instanceof Error?h.stack||h.message:h}function p(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return n.enable(n.load()),n}Bu.exports=jg});var Yu=kt((Ke,Oi)=>{Ke.formatArgs=qg;Ke.save=Kg;Ke.load=Zg;Ke.useColors=Gg;Ke.storage=Qg();Ke.destroy=(()=>{let t=!1;return()=>{t||(t=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})();Ke.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function Gg(){if(typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs))return!0;if(typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;let t;return typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&(t=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/))&&parseInt(t[1],10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function qg(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+Oi.exports.humanize(this.diff),!this.useColors)return;let e="color: "+this.color;t.splice(1,0,e,"color: inherit");let n=0,r=0;t[0].replace(/%[a-zA-Z%]/g,o=>{o!=="%%"&&(n++,o==="%c"&&(r=n))}),t.splice(r,0,e)}Ke.log=console.debug||console.log||(()=>{});function Kg(t){try{t?Ke.storage.setItem("debug",t):Ke.storage.removeItem("debug")}catch{}}function Zg(){let t;try{t=Ke.storage.getItem("debug")||Ke.storage.getItem("DEBUG")}catch{}return!t&&typeof process<"u"&&"env"in process&&(t=process.env.DEBUG),t}function Qg(){try{return localStorage}catch{}}Oi.exports=Ks()(Ke);var{formatters:Jg}=Oi.exports;Jg.j=function(t){try{return JSON.stringify(t)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}});var zu=kt((vk,Vu)=>{"use strict";Vu.exports=(t,e=process.argv)=>{let n=t.startsWith("-")?"":t.length===1?"-":"--",r=e.indexOf(n+t),o=e.indexOf("--");return r!==-1&&(o===-1||r<o)}});var Hu=kt((Ak,$u)=>{"use strict";var Xg=require("os"),Uu=require("tty"),at=zu(),{env:Ae}=process,Li;at("no-color")||at("no-colors")||at("color=false")||at("color=never")?Li=0:(at("color")||at("colors")||at("color=true")||at("color=always"))&&(Li=1);function e0(){if("FORCE_COLOR"in Ae)return Ae.FORCE_COLOR==="true"?1:Ae.FORCE_COLOR==="false"?0:Ae.FORCE_COLOR.length===0?1:Math.min(Number.parseInt(Ae.FORCE_COLOR,10),3)}function t0(t){return t===0?!1:{level:t,hasBasic:!0,has256:t>=2,has16m:t>=3}}function n0(t,{streamIsTTY:e,sniffFlags:n=!0}={}){let r=e0();r!==void 0&&(Li=r);let o=n?Li:r;if(o===0)return 0;if(n){if(at("color=16m")||at("color=full")||at("color=truecolor"))return 3;if(at("color=256"))return 2}if(t&&!e&&o===void 0)return 0;let s=o||0;if(Ae.TERM==="dumb")return s;if(process.platform==="win32"){let l=Xg.release().split(".");return Number(l[0])>=10&&Number(l[2])>=10586?Number(l[2])>=14931?3:2:1}if("CI"in Ae)return["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI","GITHUB_ACTIONS","BUILDKITE","DRONE"].some(l=>l in Ae)||Ae.CI_NAME==="codeship"?1:s;if("TEAMCITY_VERSION"in Ae)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(Ae.TEAMCITY_VERSION)?1:0;if(Ae.COLORTERM==="truecolor")return 3;if("TERM_PROGRAM"in Ae){let l=Number.parseInt((Ae.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(Ae.TERM_PROGRAM){case"iTerm.app":return l>=3?3:2;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(Ae.TERM)?2:/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(Ae.TERM)||"COLORTERM"in Ae?1:s}function Zs(t,e={}){let n=n0(t,{streamIsTTY:t&&t.isTTY,...e});return t0(n)}$u.exports={supportsColor:Zs,stdout:Zs({isTTY:Uu.isatty(1)}),stderr:Zs({isTTY:Uu.isatty(2)})}});var Gu=kt((Ce,Ni)=>{var r0=require("tty"),Ri=require("util");Ce.init=c0;Ce.log=a0;Ce.formatArgs=o0;Ce.save=l0;Ce.load=u0;Ce.useColors=i0;Ce.destroy=Ri.deprecate(()=>{},"Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.");Ce.colors=[6,2,3,4,5,1];try{let t=Hu();t&&(t.stderr||t).level>=2&&(Ce.colors=[20,21,26,27,32,33,38,39,40,41,42,43,44,45,56,57,62,63,68,69,74,75,76,77,78,79,80,81,92,93,98,99,112,113,128,129,134,135,148,149,160,161,162,163,164,165,166,167,168,169,170,171,172,173,178,179,184,185,196,197,198,199,200,201,202,203,204,205,206,207,208,209,214,215,220,221])}catch{}Ce.inspectOpts=Object.keys(process.env).filter(t=>/^debug_/i.test(t)).reduce((t,e)=>{let n=e.substring(6).toLowerCase().replace(/_([a-z])/g,(o,s)=>s.toUpperCase()),r=process.env[e];return/^(yes|on|true|enabled)$/i.test(r)?r=!0:/^(no|off|false|disabled)$/i.test(r)?r=!1:r==="null"?r=null:r=Number(r),t[n]=r,t},{});function i0(){return"colors"in Ce.inspectOpts?!!Ce.inspectOpts.colors:r0.isatty(process.stderr.fd)}function o0(t){let{namespace:e,useColors:n}=this;if(n){let r=this.color,o="\x1B[3"+(r<8?r:"8;5;"+r),s=`  ${o};1m${e} \x1B[0m`;t[0]=s+t[0].split(`
`).join(`
`+s),t.push(o+"m+"+Ni.exports.humanize(this.diff)+"\x1B[0m")}else t[0]=s0()+e+" "+t[0]}function s0(){return Ce.inspectOpts.hideDate?"":new Date().toISOString()+" "}function a0(...t){return process.stderr.write(Ri.formatWithOptions(Ce.inspectOpts,...t)+`
`)}function l0(t){t?process.env.DEBUG=t:delete process.env.DEBUG}function u0(){return process.env.DEBUG}function c0(t){t.inspectOpts={};let e=Object.keys(Ce.inspectOpts);for(let n=0;n<e.length;n++)t.inspectOpts[e[n]]=Ce.inspectOpts[e[n]]}Ni.exports=Ks()(Ce);var{formatters:ju}=Ni.exports;ju.o=function(t){return this.inspectOpts.colors=this.useColors,Ri.inspect(t,this.inspectOpts).split(`
`).map(e=>e.trim()).join(" ")};ju.O=function(t){return this.inspectOpts.colors=this.useColors,Ri.inspect(t,this.inspectOpts)}});var qu=kt((Ck,Qs)=>{typeof process>"u"||process.type==="renderer"||process.browser===!0||process.__nwjs?Qs.exports=Yu():Qs.exports=Gu()});var sc=kt((Hi,oc)=>{(function(t,e){typeof Hi=="object"&&typeof oc<"u"?e(Hi):typeof define=="function"&&define.amd?define(["exports"],e):(t=typeof globalThis<"u"?globalThis:t||self,e(t.compareVersions={}))})(Hi,(function(t){"use strict";let e=/^[v^~<>=]*?(\d+)(?:\.([x*]|\d+)(?:\.([x*]|\d+)(?:\.([x*]|\d+))?(?:-([\da-z\-]+(?:\.[\da-z\-]+)*))?(?:\+[\da-z\-]+(?:\.[\da-z\-]+)*)?)?)?$/i,n=S=>{if(typeof S!="string")throw new TypeError("Invalid argument expected string");let C=S.match(e);if(!C)throw new Error(`Invalid argument not valid semver ('${S}' received)`);return C.shift(),C},r=S=>S==="*"||S==="x"||S==="X",o=S=>{let C=parseInt(S,10);return isNaN(C)?S:C},s=(S,C)=>typeof S!=typeof C?[String(S),String(C)]:[S,C],l=(S,C)=>{if(r(S)||r(C))return 0;let[_,P]=s(o(S),o(C));return _>P?1:_<P?-1:0},u=(S,C)=>{for(let _=0;_<Math.max(S.length,C.length);_++){let P=l(S[_]||"0",C[_]||"0");if(P!==0)return P}return 0},f=(S,C)=>{let _=n(S),P=n(C),B=_.pop(),Y=P.pop(),E=u(_,P);return E!==0?E:B&&Y?u(B.split("."),Y.split(".")):B||Y?B?-1:1:0},p=(S,C,_)=>{g(_);let P=f(S,C);return h[_].includes(P)},h={">":[1],">=":[0,1],"=":[0],"<=":[-1,0],"<":[-1],"!=":[-1,1]},m=Object.keys(h),g=S=>{if(typeof S!="string")throw new TypeError(`Invalid operator type, expected string but got ${typeof S}`);if(m.indexOf(S)===-1)throw new Error(`Invalid operator, expected one of ${m.join("|")}`)},y=(S,C)=>{if(C=C.replace(/([><=]+)\s+/g,"$1"),C.includes("||"))return C.split("||").some(ee=>y(S,ee));if(C.includes(" - ")){let[ee,ce]=C.split(" - ",2);return y(S,`>=${ee} <=${ce}`)}else if(C.includes(" "))return C.trim().replace(/\s{2,}/g," ").split(" ").every(ee=>y(S,ee));let _=C.match(/^([<>=~^]+)/),P=_?_[1]:"=";if(P!=="^"&&P!=="~")return p(S,C,P);let[B,Y,E,,Q]=n(S),[j,G,ne,,ae]=n(C),X=[B,Y,E],N=[j,G??"x",ne??"x"];if(ae&&(!Q||u(X,N)!==0||u(Q.split("."),ae.split("."))===-1))return!1;let U=N.findIndex(ee=>ee!=="0")+1,V=P==="~"?2:U>1?U:1;return!(u(X.slice(0,V),N.slice(0,V))!==0||u(X.slice(V),N.slice(V))===-1)},A=S=>typeof S=="string"&&/^[v\d]/.test(S)&&e.test(S),F=S=>typeof S=="string"&&/^(0|[1-9]\d*)\.(0|[1-9]\d*)\.(0|[1-9]\d*)(?:-((?:0|[1-9]\d*|\d*[a-zA-Z-][0-9a-zA-Z-]*)(?:\.(?:0|[1-9]\d*|\d*[a-zA-Z-][0-9a-zA-Z-]*))*))?(?:\+([0-9a-zA-Z-]+(?:\.[0-9a-zA-Z-]+)*))?$/.test(S);t.compare=p,t.compareVersions=f,t.satisfies=y,t.validate=A,t.validateStrict=F}))});var Wf=kt((FS,Nf)=>{"use strict";var ko=Object.prototype.hasOwnProperty,Rf=Object.prototype.toString,Pf=Object.defineProperty,Df=Object.getOwnPropertyDescriptor,If=function(e){return typeof Array.isArray=="function"?Array.isArray(e):Rf.call(e)==="[object Array]"},Mf=function(e){if(!e||Rf.call(e)!=="[object Object]")return!1;var n=ko.call(e,"constructor"),r=e.constructor&&e.constructor.prototype&&ko.call(e.constructor.prototype,"isPrototypeOf");if(e.constructor&&!n&&!r)return!1;var o;for(o in e);return typeof o>"u"||ko.call(e,o)},Of=function(e,n){Pf&&n.name==="__proto__"?Pf(e,n.name,{enumerable:!0,configurable:!0,value:n.newValue,writable:!0}):e[n.name]=n.newValue},Lf=function(e,n){if(n==="__proto__")if(ko.call(e,n)){if(Df)return Df(e,n).value}else return;return e[n]};Nf.exports=function t(){var e,n,r,o,s,l,u=arguments[0],f=1,p=arguments.length,h=!1;for(typeof u=="boolean"&&(h=u,u=arguments[1]||{},f=2),(u==null||typeof u!="object"&&typeof u!="function")&&(u={});f<p;++f)if(e=arguments[f],e!=null)for(n in e)r=Lf(u,n),o=Lf(e,n),u!==o&&(h&&o&&(Mf(o)||(s=If(o)))?(s?(s=!1,l=r&&If(r)?r:[]):l=r&&Mf(r)?r:{},Of(u,{name:n,newValue:t(h,l,o)})):typeof o<"u"&&Of(u,{name:n,newValue:o}));return u}});var Mn=kt((wl,mr)=>{(function(t,e){typeof wl=="object"&&typeof mr<"u"?mr.exports=e():typeof define=="function"&&define.amd?define(e):t.moment=e()})(wl,(function(){"use strict";var t;function e(){return t.apply(null,arguments)}function n(i){t=i}function r(i){return i instanceof Array||Object.prototype.toString.call(i)==="[object Array]"}function o(i){return i!=null&&Object.prototype.toString.call(i)==="[object Object]"}function s(i,a){return Object.prototype.hasOwnProperty.call(i,a)}function l(i){if(Object.getOwnPropertyNames)return Object.getOwnPropertyNames(i).length===0;var a;for(a in i)if(s(i,a))return!1;return!0}function u(i){return i===void 0}function f(i){return typeof i=="number"||Object.prototype.toString.call(i)==="[object Number]"}function p(i){return i instanceof Date||Object.prototype.toString.call(i)==="[object Date]"}function h(i,a){var c=[],d,w=i.length;for(d=0;d<w;++d)c.push(a(i[d],d));return c}function m(i,a){for(var c in a)s(a,c)&&(i[c]=a[c]);return s(a,"toString")&&(i.toString=a.toString),s(a,"valueOf")&&(i.valueOf=a.valueOf),i}function g(i,a,c,d){return Vl(i,a,c,d,!0).utc()}function y(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function A(i){return i._pf==null&&(i._pf=y()),i._pf}var F;Array.prototype.some?F=Array.prototype.some:F=function(i){var a=Object(this),c=a.length>>>0,d;for(d=0;d<c;d++)if(d in a&&i.call(this,a[d],d,a))return!0;return!1};function S(i){var a=null,c=!1,d=i._d&&!isNaN(i._d.getTime());if(d&&(a=A(i),c=F.call(a.parsedDateParts,function(w){return w!=null}),d=a.overflow<0&&!a.empty&&!a.invalidEra&&!a.invalidMonth&&!a.invalidWeekday&&!a.weekdayMismatch&&!a.nullInput&&!a.invalidFormat&&!a.userInvalidated&&(!a.meridiem||a.meridiem&&c),i._strict&&(d=d&&a.charsLeftOver===0&&a.unusedTokens.length===0&&a.bigHour===void 0)),Object.isFrozen==null||!Object.isFrozen(i))i._isValid=d;else return d;return i._isValid}function C(i){var a=g(NaN);return i!=null?m(A(a),i):A(a).userInvalidated=!0,a}var _=e.momentProperties=[],P=!1;function B(i,a){var c,d,w,k=_.length;if(u(a._isAMomentObject)||(i._isAMomentObject=a._isAMomentObject),u(a._i)||(i._i=a._i),u(a._f)||(i._f=a._f),u(a._l)||(i._l=a._l),u(a._strict)||(i._strict=a._strict),u(a._tzm)||(i._tzm=a._tzm),u(a._isUTC)||(i._isUTC=a._isUTC),u(a._offset)||(i._offset=a._offset),u(a._pf)||(i._pf=A(a)),u(a._locale)||(i._locale=a._locale),k>0)for(c=0;c<k;c++)d=_[c],w=a[d],u(w)||(i[d]=w);return i}function Y(i){B(this,i),this._d=new Date(i._d!=null?i._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),P===!1&&(P=!0,e.updateOffset(this),P=!1)}function E(i){return i instanceof Y||i!=null&&i._isAMomentObject!=null}function Q(i){e.suppressDeprecationWarnings===!1&&typeof console<"u"&&console.warn&&console.warn("Deprecation warning: "+i)}function j(i,a){var c=!0;return m(function(){if(e.deprecationHandler!=null&&e.deprecationHandler(null,i),c){var d=[],w,k,x,O=arguments.length;for(k=0;k<O;k++){if(w="",typeof arguments[k]=="object"){w+=`
[`+k+"] ";for(x in arguments[0])s(arguments[0],x)&&(w+=x+": "+arguments[0][x]+", ");w=w.slice(0,-2)}else w=arguments[k];d.push(w)}Q(i+`
Arguments: `+Array.prototype.slice.call(d).join("")+`
`+new Error().stack),c=!1}return a.apply(this,arguments)},a)}var G={};function ne(i,a){e.deprecationHandler!=null&&e.deprecationHandler(i,a),G[i]||(Q(a),G[i]=!0)}e.suppressDeprecationWarnings=!1,e.deprecationHandler=null;function ae(i){return typeof Function<"u"&&i instanceof Function||Object.prototype.toString.call(i)==="[object Function]"}function X(i){var a,c;for(c in i)s(i,c)&&(a=i[c],ae(a)?this[c]=a:this["_"+c]=a);this._config=i,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function N(i,a){var c=m({},i),d;for(d in a)s(a,d)&&(o(i[d])&&o(a[d])?(c[d]={},m(c[d],i[d]),m(c[d],a[d])):a[d]!=null?c[d]=a[d]:delete c[d]);for(d in i)s(i,d)&&!s(a,d)&&o(i[d])&&(c[d]=m({},c[d]));return c}function U(i){i!=null&&this.set(i)}var V;Object.keys?V=Object.keys:V=function(i){var a,c=[];for(a in i)s(i,a)&&c.push(a);return c};var ee={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function ce(i,a,c){var d=this._calendar[i]||this._calendar.sameElse;return ae(d)?d.call(a,c):d}function de(i,a,c){var d=""+Math.abs(i),w=a-d.length,k=i>=0;return(k?c?"+":"":"-")+Math.pow(10,Math.max(0,w)).toString().substr(1)+d}var He=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,v=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,_e={},Fe={};function b(i,a,c,d){var w=d;typeof d=="string"&&(w=function(){return this[d]()}),i&&(Fe[i]=w),a&&(Fe[a[0]]=function(){return de(w.apply(this,arguments),a[1],a[2])}),c&&(Fe[c]=function(){return this.localeData().ordinal(w.apply(this,arguments),i)})}function Le(i){return i.match(/\[[\s\S]/)?i.replace(/^\[|\]$/g,""):i.replace(/\\/g,"")}function Rt(i){var a=i.match(He),c,d;for(c=0,d=a.length;c<d;c++)Fe[a[c]]?a[c]=Fe[a[c]]:a[c]=Le(a[c]);return function(w){var k="",x;for(x=0;x<d;x++)k+=ae(a[x])?a[x].call(w,i):a[x];return k}}function en(i,a){return i.isValid()?(a=mn(a,i.localeData()),_e[a]=_e[a]||Rt(a),_e[a](i)):i.localeData().invalidDate()}function mn(i,a){var c=5;function d(w){return a.longDateFormat(w)||w}for(v.lastIndex=0;c>=0&&v.test(i);)i=i.replace(v,d),v.lastIndex=0,c-=1;return i}var we={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function gn(i){var a=this._longDateFormat[i],c=this._longDateFormat[i.toUpperCase()];return a||!c?a:(this._longDateFormat[i]=c.match(He).map(function(d){return d==="MMMM"||d==="MM"||d==="DD"||d==="dddd"?d.slice(1):d}).join(""),this._longDateFormat[i])}var pt="Invalid date";function Nt(){return this._invalidDate}var tn="%d",yr=/\d{1,2}/;function As(i){return this._ordinal.replace("%d",i)}var ai={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function li(i,a,c,d){var w=this._relativeTime[c];return ae(w)?w(i,a,c,d):w.replace(/%d/i,i)}function ui(i,a){var c=this._relativeTime[i>0?"future":"past"];return ae(c)?c(a):c.replace(/%s/i,a)}var ci={D:"date",dates:"date",date:"date",d:"day",days:"day",day:"day",e:"weekday",weekdays:"weekday",weekday:"weekday",E:"isoWeekday",isoweekdays:"isoWeekday",isoweekday:"isoWeekday",DDD:"dayOfYear",dayofyears:"dayOfYear",dayofyear:"dayOfYear",h:"hour",hours:"hour",hour:"hour",ms:"millisecond",milliseconds:"millisecond",millisecond:"millisecond",m:"minute",minutes:"minute",minute:"minute",M:"month",months:"month",month:"month",Q:"quarter",quarters:"quarter",quarter:"quarter",s:"second",seconds:"second",second:"second",gg:"weekYear",weekyears:"weekYear",weekyear:"weekYear",GG:"isoWeekYear",isoweekyears:"isoWeekYear",isoweekyear:"isoWeekYear",w:"week",weeks:"week",week:"week",W:"isoWeek",isoweeks:"isoWeek",isoweek:"isoWeek",y:"year",years:"year",year:"year"};function Re(i){return typeof i=="string"?ci[i]||ci[i.toLowerCase()]:void 0}function Ln(i){var a={},c,d;for(d in i)s(i,d)&&(c=Re(d),c&&(a[c]=i[d]));return a}var Cs={date:9,day:11,weekday:11,isoWeekday:11,dayOfYear:4,hour:13,millisecond:16,minute:14,month:8,quarter:7,second:15,weekYear:1,isoWeekYear:1,week:5,isoWeek:5,year:1};function xs(i){var a=[],c;for(c in i)s(i,c)&&a.push({unit:c,priority:Cs[c]});return a.sort(function(d,w){return d.priority-w.priority}),a}var fi=/\d/,Ne=/\d\d/,di=/\d{3}/,T=/\d{4}/,I=/[+-]?\d{6}/,M=/\d\d?/,q=/\d\d\d\d?/,re=/\d\d\d\d\d\d?/,Pe=/\d{1,3}/,mt=/\d{1,4}/,je=/[+-]?\d{1,6}/,nt=/\d+/,St=/[+-]?\d+/,We=/Z|[+-]\d\d:?\d\d/gi,gt=/Z|[+-]\d\d(?::?\d\d)?/gi,wt=/[+-]?\d+(\.\d{1,3})?/,br=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,Rn=/^[1-9]\d?/,Es=/^([1-9]\d|\d)/,hi;hi={};function L(i,a,c){hi[i]=ae(a)?a:function(d,w){return d&&c?c:a}}function Vd(i,a){return s(hi,i)?hi[i](a._strict,a._locale):new RegExp(zd(i))}function zd(i){return Wt(i.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(a,c,d,w,k){return c||d||w||k}))}function Wt(i){return i.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function rt(i){return i<0?Math.ceil(i)||0:Math.floor(i)}function K(i){var a=+i,c=0;return a!==0&&isFinite(a)&&(c=rt(a)),c}var Ss={};function ie(i,a){var c,d=a,w;for(typeof i=="string"&&(i=[i]),f(a)&&(d=function(k,x){x[a]=K(k)}),w=i.length,c=0;c<w;c++)Ss[i[c]]=d}function kr(i,a){ie(i,function(c,d,w,k){w._w=w._w||{},a(c,w._w,w,k)})}function Ud(i,a,c){a!=null&&s(Ss,i)&&Ss[i](a,c._a,c,i)}function pi(i){return i%4===0&&i%100!==0||i%400===0}var De=0,Bt=1,Tt=2,ye=3,yt=4,Yt=5,wn=6,$d=7,Hd=8;b("Y",0,0,function(){var i=this.year();return i<=9999?de(i,4):"+"+i}),b(0,["YY",2],0,function(){return this.year()%100}),b(0,["YYYY",4],0,"year"),b(0,["YYYYY",5],0,"year"),b(0,["YYYYYY",6,!0],0,"year"),L("Y",St),L("YY",M,Ne),L("YYYY",mt,T),L("YYYYY",je,I),L("YYYYYY",je,I),ie(["YYYYY","YYYYYY"],De),ie("YYYY",function(i,a){a[De]=i.length===2?e.parseTwoDigitYear(i):K(i)}),ie("YY",function(i,a){a[De]=e.parseTwoDigitYear(i)}),ie("Y",function(i,a){a[De]=parseInt(i,10)});function vr(i){return pi(i)?366:365}e.parseTwoDigitYear=function(i){return K(i)+(K(i)>68?1900:2e3)};var El=Nn("FullYear",!0);function jd(){return pi(this.year())}function Nn(i,a){return function(c){return c!=null?(Sl(this,i,c),e.updateOffset(this,a),this):Ar(this,i)}}function Ar(i,a){if(!i.isValid())return NaN;var c=i._d,d=i._isUTC;switch(a){case"Milliseconds":return d?c.getUTCMilliseconds():c.getMilliseconds();case"Seconds":return d?c.getUTCSeconds():c.getSeconds();case"Minutes":return d?c.getUTCMinutes():c.getMinutes();case"Hours":return d?c.getUTCHours():c.getHours();case"Date":return d?c.getUTCDate():c.getDate();case"Day":return d?c.getUTCDay():c.getDay();case"Month":return d?c.getUTCMonth():c.getMonth();case"FullYear":return d?c.getUTCFullYear():c.getFullYear();default:return NaN}}function Sl(i,a,c){var d,w,k,x,O;if(!(!i.isValid()||isNaN(c))){switch(d=i._d,w=i._isUTC,a){case"Milliseconds":return void(w?d.setUTCMilliseconds(c):d.setMilliseconds(c));case"Seconds":return void(w?d.setUTCSeconds(c):d.setSeconds(c));case"Minutes":return void(w?d.setUTCMinutes(c):d.setMinutes(c));case"Hours":return void(w?d.setUTCHours(c):d.setHours(c));case"Date":return void(w?d.setUTCDate(c):d.setDate(c));case"FullYear":break;default:return}k=c,x=i.month(),O=i.date(),O=O===29&&x===1&&!pi(k)?28:O,w?d.setUTCFullYear(k,x,O):d.setFullYear(k,x,O)}}function Gd(i){return i=Re(i),ae(this[i])?this[i]():this}function qd(i,a){if(typeof i=="object"){i=Ln(i);var c=xs(i),d,w=c.length;for(d=0;d<w;d++)this[c[d].unit](i[c[d].unit])}else if(i=Re(i),ae(this[i]))return this[i](a);return this}function Kd(i,a){return(i%a+a)%a}var pe;Array.prototype.indexOf?pe=Array.prototype.indexOf:pe=function(i){var a;for(a=0;a<this.length;++a)if(this[a]===i)return a;return-1};function Ts(i,a){if(isNaN(i)||isNaN(a))return NaN;var c=Kd(a,12);return i+=(a-c)/12,c===1?pi(i)?29:28:31-c%7%2}b("M",["MM",2],"Mo",function(){return this.month()+1}),b("MMM",0,0,function(i){return this.localeData().monthsShort(this,i)}),b("MMMM",0,0,function(i){return this.localeData().months(this,i)}),L("M",M,Rn),L("MM",M,Ne),L("MMM",function(i,a){return a.monthsShortRegex(i)}),L("MMMM",function(i,a){return a.monthsRegex(i)}),ie(["M","MM"],function(i,a){a[Bt]=K(i)-1}),ie(["MMM","MMMM"],function(i,a,c,d){var w=c._locale.monthsParse(i,d,c._strict);w!=null?a[Bt]=w:A(c).invalidMonth=i});var Zd="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),Tl="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),_l=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,Qd=br,Jd=br;function Xd(i,a){return i?r(this._months)?this._months[i.month()]:this._months[(this._months.isFormat||_l).test(a)?"format":"standalone"][i.month()]:r(this._months)?this._months:this._months.standalone}function eh(i,a){return i?r(this._monthsShort)?this._monthsShort[i.month()]:this._monthsShort[_l.test(a)?"format":"standalone"][i.month()]:r(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function th(i,a,c){var d,w,k,x=i.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],d=0;d<12;++d)k=g([2e3,d]),this._shortMonthsParse[d]=this.monthsShort(k,"").toLocaleLowerCase(),this._longMonthsParse[d]=this.months(k,"").toLocaleLowerCase();return c?a==="MMM"?(w=pe.call(this._shortMonthsParse,x),w!==-1?w:null):(w=pe.call(this._longMonthsParse,x),w!==-1?w:null):a==="MMM"?(w=pe.call(this._shortMonthsParse,x),w!==-1?w:(w=pe.call(this._longMonthsParse,x),w!==-1?w:null)):(w=pe.call(this._longMonthsParse,x),w!==-1?w:(w=pe.call(this._shortMonthsParse,x),w!==-1?w:null))}function nh(i,a,c){var d,w,k;if(this._monthsParseExact)return th.call(this,i,a,c);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),d=0;d<12;d++){if(w=g([2e3,d]),c&&!this._longMonthsParse[d]&&(this._longMonthsParse[d]=new RegExp("^"+this.months(w,"").replace(".","")+"$","i"),this._shortMonthsParse[d]=new RegExp("^"+this.monthsShort(w,"").replace(".","")+"$","i")),!c&&!this._monthsParse[d]&&(k="^"+this.months(w,"")+"|^"+this.monthsShort(w,""),this._monthsParse[d]=new RegExp(k.replace(".",""),"i")),c&&a==="MMMM"&&this._longMonthsParse[d].test(i))return d;if(c&&a==="MMM"&&this._shortMonthsParse[d].test(i))return d;if(!c&&this._monthsParse[d].test(i))return d}}function Fl(i,a){if(!i.isValid())return i;if(typeof a=="string"){if(/^\d+$/.test(a))a=K(a);else if(a=i.localeData().monthsParse(a),!f(a))return i}var c=a,d=i.date();return d=d<29?d:Math.min(d,Ts(i.year(),c)),i._isUTC?i._d.setUTCMonth(c,d):i._d.setMonth(c,d),i}function Pl(i){return i!=null?(Fl(this,i),e.updateOffset(this,!0),this):Ar(this,"Month")}function rh(){return Ts(this.year(),this.month())}function ih(i){return this._monthsParseExact?(s(this,"_monthsRegex")||Dl.call(this),i?this._monthsShortStrictRegex:this._monthsShortRegex):(s(this,"_monthsShortRegex")||(this._monthsShortRegex=Qd),this._monthsShortStrictRegex&&i?this._monthsShortStrictRegex:this._monthsShortRegex)}function oh(i){return this._monthsParseExact?(s(this,"_monthsRegex")||Dl.call(this),i?this._monthsStrictRegex:this._monthsRegex):(s(this,"_monthsRegex")||(this._monthsRegex=Jd),this._monthsStrictRegex&&i?this._monthsStrictRegex:this._monthsRegex)}function Dl(){function i(z,Z){return Z.length-z.length}var a=[],c=[],d=[],w,k,x,O;for(w=0;w<12;w++)k=g([2e3,w]),x=Wt(this.monthsShort(k,"")),O=Wt(this.months(k,"")),a.push(x),c.push(O),d.push(O),d.push(x);a.sort(i),c.sort(i),d.sort(i),this._monthsRegex=new RegExp("^("+d.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+c.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+a.join("|")+")","i")}function sh(i,a,c,d,w,k,x){var O;return i<100&&i>=0?(O=new Date(i+400,a,c,d,w,k,x),isFinite(O.getFullYear())&&O.setFullYear(i)):O=new Date(i,a,c,d,w,k,x),O}function Cr(i){var a,c;return i<100&&i>=0?(c=Array.prototype.slice.call(arguments),c[0]=i+400,a=new Date(Date.UTC.apply(null,c)),isFinite(a.getUTCFullYear())&&a.setUTCFullYear(i)):a=new Date(Date.UTC.apply(null,arguments)),a}function mi(i,a,c){var d=7+a-c,w=(7+Cr(i,0,d).getUTCDay()-a)%7;return-w+d-1}function Il(i,a,c,d,w){var k=(7+c-d)%7,x=mi(i,d,w),O=1+7*(a-1)+k+x,z,Z;return O<=0?(z=i-1,Z=vr(z)+O):O>vr(i)?(z=i+1,Z=O-vr(i)):(z=i,Z=O),{year:z,dayOfYear:Z}}function xr(i,a,c){var d=mi(i.year(),a,c),w=Math.floor((i.dayOfYear()-d-1)/7)+1,k,x;return w<1?(x=i.year()-1,k=w+Vt(x,a,c)):w>Vt(i.year(),a,c)?(k=w-Vt(i.year(),a,c),x=i.year()+1):(x=i.year(),k=w),{week:k,year:x}}function Vt(i,a,c){var d=mi(i,a,c),w=mi(i+1,a,c);return(vr(i)-d+w)/7}b("w",["ww",2],"wo","week"),b("W",["WW",2],"Wo","isoWeek"),L("w",M,Rn),L("ww",M,Ne),L("W",M,Rn),L("WW",M,Ne),kr(["w","ww","W","WW"],function(i,a,c,d){a[d.substr(0,1)]=K(i)});function ah(i){return xr(i,this._week.dow,this._week.doy).week}var lh={dow:0,doy:6};function uh(){return this._week.dow}function ch(){return this._week.doy}function fh(i){var a=this.localeData().week(this);return i==null?a:this.add((i-a)*7,"d")}function dh(i){var a=xr(this,1,4).week;return i==null?a:this.add((i-a)*7,"d")}b("d",0,"do","day"),b("dd",0,0,function(i){return this.localeData().weekdaysMin(this,i)}),b("ddd",0,0,function(i){return this.localeData().weekdaysShort(this,i)}),b("dddd",0,0,function(i){return this.localeData().weekdays(this,i)}),b("e",0,0,"weekday"),b("E",0,0,"isoWeekday"),L("d",M),L("e",M),L("E",M),L("dd",function(i,a){return a.weekdaysMinRegex(i)}),L("ddd",function(i,a){return a.weekdaysShortRegex(i)}),L("dddd",function(i,a){return a.weekdaysRegex(i)}),kr(["dd","ddd","dddd"],function(i,a,c,d){var w=c._locale.weekdaysParse(i,d,c._strict);w!=null?a.d=w:A(c).invalidWeekday=i}),kr(["d","e","E"],function(i,a,c,d){a[d]=K(i)});function hh(i,a){return typeof i!="string"?i:isNaN(i)?(i=a.weekdaysParse(i),typeof i=="number"?i:null):parseInt(i,10)}function ph(i,a){return typeof i=="string"?a.weekdaysParse(i)%7||7:isNaN(i)?null:i}function _s(i,a){return i.slice(a,7).concat(i.slice(0,a))}var mh="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Ml="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),gh="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),wh=br,yh=br,bh=br;function kh(i,a){var c=r(this._weekdays)?this._weekdays:this._weekdays[i&&i!==!0&&this._weekdays.isFormat.test(a)?"format":"standalone"];return i===!0?_s(c,this._week.dow):i?c[i.day()]:c}function vh(i){return i===!0?_s(this._weekdaysShort,this._week.dow):i?this._weekdaysShort[i.day()]:this._weekdaysShort}function Ah(i){return i===!0?_s(this._weekdaysMin,this._week.dow):i?this._weekdaysMin[i.day()]:this._weekdaysMin}function Ch(i,a,c){var d,w,k,x=i.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],d=0;d<7;++d)k=g([2e3,1]).day(d),this._minWeekdaysParse[d]=this.weekdaysMin(k,"").toLocaleLowerCase(),this._shortWeekdaysParse[d]=this.weekdaysShort(k,"").toLocaleLowerCase(),this._weekdaysParse[d]=this.weekdays(k,"").toLocaleLowerCase();return c?a==="dddd"?(w=pe.call(this._weekdaysParse,x),w!==-1?w:null):a==="ddd"?(w=pe.call(this._shortWeekdaysParse,x),w!==-1?w:null):(w=pe.call(this._minWeekdaysParse,x),w!==-1?w:null):a==="dddd"?(w=pe.call(this._weekdaysParse,x),w!==-1||(w=pe.call(this._shortWeekdaysParse,x),w!==-1)?w:(w=pe.call(this._minWeekdaysParse,x),w!==-1?w:null)):a==="ddd"?(w=pe.call(this._shortWeekdaysParse,x),w!==-1||(w=pe.call(this._weekdaysParse,x),w!==-1)?w:(w=pe.call(this._minWeekdaysParse,x),w!==-1?w:null)):(w=pe.call(this._minWeekdaysParse,x),w!==-1||(w=pe.call(this._weekdaysParse,x),w!==-1)?w:(w=pe.call(this._shortWeekdaysParse,x),w!==-1?w:null))}function xh(i,a,c){var d,w,k;if(this._weekdaysParseExact)return Ch.call(this,i,a,c);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),d=0;d<7;d++){if(w=g([2e3,1]).day(d),c&&!this._fullWeekdaysParse[d]&&(this._fullWeekdaysParse[d]=new RegExp("^"+this.weekdays(w,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[d]=new RegExp("^"+this.weekdaysShort(w,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[d]=new RegExp("^"+this.weekdaysMin(w,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[d]||(k="^"+this.weekdays(w,"")+"|^"+this.weekdaysShort(w,"")+"|^"+this.weekdaysMin(w,""),this._weekdaysParse[d]=new RegExp(k.replace(".",""),"i")),c&&a==="dddd"&&this._fullWeekdaysParse[d].test(i))return d;if(c&&a==="ddd"&&this._shortWeekdaysParse[d].test(i))return d;if(c&&a==="dd"&&this._minWeekdaysParse[d].test(i))return d;if(!c&&this._weekdaysParse[d].test(i))return d}}function Eh(i){if(!this.isValid())return i!=null?this:NaN;var a=Ar(this,"Day");return i!=null?(i=hh(i,this.localeData()),this.add(i-a,"d")):a}function Sh(i){if(!this.isValid())return i!=null?this:NaN;var a=(this.day()+7-this.localeData()._week.dow)%7;return i==null?a:this.add(i-a,"d")}function Th(i){if(!this.isValid())return i!=null?this:NaN;if(i!=null){var a=ph(i,this.localeData());return this.day(this.day()%7?a:a-7)}else return this.day()||7}function _h(i){return this._weekdaysParseExact?(s(this,"_weekdaysRegex")||Fs.call(this),i?this._weekdaysStrictRegex:this._weekdaysRegex):(s(this,"_weekdaysRegex")||(this._weekdaysRegex=wh),this._weekdaysStrictRegex&&i?this._weekdaysStrictRegex:this._weekdaysRegex)}function Fh(i){return this._weekdaysParseExact?(s(this,"_weekdaysRegex")||Fs.call(this),i?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(s(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=yh),this._weekdaysShortStrictRegex&&i?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function Ph(i){return this._weekdaysParseExact?(s(this,"_weekdaysRegex")||Fs.call(this),i?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(s(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=bh),this._weekdaysMinStrictRegex&&i?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function Fs(){function i(Be,jt){return jt.length-Be.length}var a=[],c=[],d=[],w=[],k,x,O,z,Z;for(k=0;k<7;k++)x=g([2e3,1]).day(k),O=Wt(this.weekdaysMin(x,"")),z=Wt(this.weekdaysShort(x,"")),Z=Wt(this.weekdays(x,"")),a.push(O),c.push(z),d.push(Z),w.push(O),w.push(z),w.push(Z);a.sort(i),c.sort(i),d.sort(i),w.sort(i),this._weekdaysRegex=new RegExp("^("+w.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+d.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+c.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+a.join("|")+")","i")}function Ps(){return this.hours()%12||12}function Dh(){return this.hours()||24}b("H",["HH",2],0,"hour"),b("h",["hh",2],0,Ps),b("k",["kk",2],0,Dh),b("hmm",0,0,function(){return""+Ps.apply(this)+de(this.minutes(),2)}),b("hmmss",0,0,function(){return""+Ps.apply(this)+de(this.minutes(),2)+de(this.seconds(),2)}),b("Hmm",0,0,function(){return""+this.hours()+de(this.minutes(),2)}),b("Hmmss",0,0,function(){return""+this.hours()+de(this.minutes(),2)+de(this.seconds(),2)});function Ol(i,a){b(i,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),a)})}Ol("a",!0),Ol("A",!1);function Ll(i,a){return a._meridiemParse}L("a",Ll),L("A",Ll),L("H",M,Es),L("h",M,Rn),L("k",M,Rn),L("HH",M,Ne),L("hh",M,Ne),L("kk",M,Ne),L("hmm",q),L("hmmss",re),L("Hmm",q),L("Hmmss",re),ie(["H","HH"],ye),ie(["k","kk"],function(i,a,c){var d=K(i);a[ye]=d===24?0:d}),ie(["a","A"],function(i,a,c){c._isPm=c._locale.isPM(i),c._meridiem=i}),ie(["h","hh"],function(i,a,c){a[ye]=K(i),A(c).bigHour=!0}),ie("hmm",function(i,a,c){var d=i.length-2;a[ye]=K(i.substr(0,d)),a[yt]=K(i.substr(d)),A(c).bigHour=!0}),ie("hmmss",function(i,a,c){var d=i.length-4,w=i.length-2;a[ye]=K(i.substr(0,d)),a[yt]=K(i.substr(d,2)),a[Yt]=K(i.substr(w)),A(c).bigHour=!0}),ie("Hmm",function(i,a,c){var d=i.length-2;a[ye]=K(i.substr(0,d)),a[yt]=K(i.substr(d))}),ie("Hmmss",function(i,a,c){var d=i.length-4,w=i.length-2;a[ye]=K(i.substr(0,d)),a[yt]=K(i.substr(d,2)),a[Yt]=K(i.substr(w))});function Ih(i){return(i+"").toLowerCase().charAt(0)==="p"}var Mh=/[ap]\.?m?\.?/i,Oh=Nn("Hours",!0);function Lh(i,a,c){return i>11?c?"pm":"PM":c?"am":"AM"}var Rl={calendar:ee,longDateFormat:we,invalidDate:pt,ordinal:tn,dayOfMonthOrdinalParse:yr,relativeTime:ai,months:Zd,monthsShort:Tl,week:lh,weekdays:mh,weekdaysMin:gh,weekdaysShort:Ml,meridiemParse:Mh},ue={},Er={},Sr;function Rh(i,a){var c,d=Math.min(i.length,a.length);for(c=0;c<d;c+=1)if(i[c]!==a[c])return c;return d}function Nl(i){return i&&i.toLowerCase().replace("_","-")}function Nh(i){for(var a=0,c,d,w,k;a<i.length;){for(k=Nl(i[a]).split("-"),c=k.length,d=Nl(i[a+1]),d=d?d.split("-"):null;c>0;){if(w=gi(k.slice(0,c).join("-")),w)return w;if(d&&d.length>=c&&Rh(k,d)>=c-1)break;c--}a++}return Sr}function Wh(i){return!!(i&&i.match("^[^/\\\\]*$"))}function gi(i){var a=null,c;if(ue[i]===void 0&&typeof mr<"u"&&mr&&mr.exports&&Wh(i))try{a=Sr._abbr,c=require,c("./locale/"+i),nn(a)}catch{ue[i]=null}return ue[i]}function nn(i,a){var c;return i&&(u(a)?c=zt(i):c=Ds(i,a),c?Sr=c:typeof console<"u"&&console.warn&&console.warn("Locale "+i+" not found. Did you forget to load it?")),Sr._abbr}function Ds(i,a){if(a!==null){var c,d=Rl;if(a.abbr=i,ue[i]!=null)ne("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),d=ue[i]._config;else if(a.parentLocale!=null)if(ue[a.parentLocale]!=null)d=ue[a.parentLocale]._config;else if(c=gi(a.parentLocale),c!=null)d=c._config;else return Er[a.parentLocale]||(Er[a.parentLocale]=[]),Er[a.parentLocale].push({name:i,config:a}),null;return ue[i]=new U(N(d,a)),Er[i]&&Er[i].forEach(function(w){Ds(w.name,w.config)}),nn(i),ue[i]}else return delete ue[i],null}function Bh(i,a){if(a!=null){var c,d,w=Rl;ue[i]!=null&&ue[i].parentLocale!=null?ue[i].set(N(ue[i]._config,a)):(d=gi(i),d!=null&&(w=d._config),a=N(w,a),d==null&&(a.abbr=i),c=new U(a),c.parentLocale=ue[i],ue[i]=c),nn(i)}else ue[i]!=null&&(ue[i].parentLocale!=null?(ue[i]=ue[i].parentLocale,i===nn()&&nn(i)):ue[i]!=null&&delete ue[i]);return ue[i]}function zt(i){var a;if(i&&i._locale&&i._locale._abbr&&(i=i._locale._abbr),!i)return Sr;if(!r(i)){if(a=gi(i),a)return a;i=[i]}return Nh(i)}function Yh(){return V(ue)}function Is(i){var a,c=i._a;return c&&A(i).overflow===-2&&(a=c[Bt]<0||c[Bt]>11?Bt:c[Tt]<1||c[Tt]>Ts(c[De],c[Bt])?Tt:c[ye]<0||c[ye]>24||c[ye]===24&&(c[yt]!==0||c[Yt]!==0||c[wn]!==0)?ye:c[yt]<0||c[yt]>59?yt:c[Yt]<0||c[Yt]>59?Yt:c[wn]<0||c[wn]>999?wn:-1,A(i)._overflowDayOfYear&&(a<De||a>Tt)&&(a=Tt),A(i)._overflowWeeks&&a===-1&&(a=$d),A(i)._overflowWeekday&&a===-1&&(a=Hd),A(i).overflow=a),i}var Vh=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,zh=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Uh=/Z|[+-]\d\d(?::?\d\d)?/,wi=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],Ms=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],$h=/^\/?Date\((-?\d+)/i,Hh=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,jh={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function Wl(i){var a,c,d=i._i,w=Vh.exec(d)||zh.exec(d),k,x,O,z,Z=wi.length,Be=Ms.length;if(w){for(A(i).iso=!0,a=0,c=Z;a<c;a++)if(wi[a][1].exec(w[1])){x=wi[a][0],k=wi[a][2]!==!1;break}if(x==null){i._isValid=!1;return}if(w[3]){for(a=0,c=Be;a<c;a++)if(Ms[a][1].exec(w[3])){O=(w[2]||" ")+Ms[a][0];break}if(O==null){i._isValid=!1;return}}if(!k&&O!=null){i._isValid=!1;return}if(w[4])if(Uh.exec(w[4]))z="Z";else{i._isValid=!1;return}i._f=x+(O||"")+(z||""),Ls(i)}else i._isValid=!1}function Gh(i,a,c,d,w,k){var x=[qh(i),Tl.indexOf(a),parseInt(c,10),parseInt(d,10),parseInt(w,10)];return k&&x.push(parseInt(k,10)),x}function qh(i){var a=parseInt(i,10);return a<=49?2e3+a:a<=999?1900+a:a}function Kh(i){return i.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function Zh(i,a,c){if(i){var d=Ml.indexOf(i),w=new Date(a[0],a[1],a[2]).getDay();if(d!==w)return A(c).weekdayMismatch=!0,c._isValid=!1,!1}return!0}function Qh(i,a,c){if(i)return jh[i];if(a)return 0;var d=parseInt(c,10),w=d%100,k=(d-w)/100;return k*60+w}function Bl(i){var a=Hh.exec(Kh(i._i)),c;if(a){if(c=Gh(a[4],a[3],a[2],a[5],a[6],a[7]),!Zh(a[1],c,i))return;i._a=c,i._tzm=Qh(a[8],a[9],a[10]),i._d=Cr.apply(null,i._a),i._d.setUTCMinutes(i._d.getUTCMinutes()-i._tzm),A(i).rfc2822=!0}else i._isValid=!1}function Jh(i){var a=$h.exec(i._i);if(a!==null){i._d=new Date(+a[1]);return}if(Wl(i),i._isValid===!1)delete i._isValid;else return;if(Bl(i),i._isValid===!1)delete i._isValid;else return;i._strict?i._isValid=!1:e.createFromInputFallback(i)}e.createFromInputFallback=j("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(i){i._d=new Date(i._i+(i._useUTC?" UTC":""))});function Wn(i,a,c){return i??a??c}function Xh(i){var a=new Date(e.now());return i._useUTC?[a.getUTCFullYear(),a.getUTCMonth(),a.getUTCDate()]:[a.getFullYear(),a.getMonth(),a.getDate()]}function Os(i){var a,c,d=[],w,k,x;if(!i._d){for(w=Xh(i),i._w&&i._a[Tt]==null&&i._a[Bt]==null&&ep(i),i._dayOfYear!=null&&(x=Wn(i._a[De],w[De]),(i._dayOfYear>vr(x)||i._dayOfYear===0)&&(A(i)._overflowDayOfYear=!0),c=Cr(x,0,i._dayOfYear),i._a[Bt]=c.getUTCMonth(),i._a[Tt]=c.getUTCDate()),a=0;a<3&&i._a[a]==null;++a)i._a[a]=d[a]=w[a];for(;a<7;a++)i._a[a]=d[a]=i._a[a]==null?a===2?1:0:i._a[a];i._a[ye]===24&&i._a[yt]===0&&i._a[Yt]===0&&i._a[wn]===0&&(i._nextDay=!0,i._a[ye]=0),i._d=(i._useUTC?Cr:sh).apply(null,d),k=i._useUTC?i._d.getUTCDay():i._d.getDay(),i._tzm!=null&&i._d.setUTCMinutes(i._d.getUTCMinutes()-i._tzm),i._nextDay&&(i._a[ye]=24),i._w&&typeof i._w.d<"u"&&i._w.d!==k&&(A(i).weekdayMismatch=!0)}}function ep(i){var a,c,d,w,k,x,O,z,Z;a=i._w,a.GG!=null||a.W!=null||a.E!=null?(k=1,x=4,c=Wn(a.GG,i._a[De],xr(le(),1,4).year),d=Wn(a.W,1),w=Wn(a.E,1),(w<1||w>7)&&(z=!0)):(k=i._locale._week.dow,x=i._locale._week.doy,Z=xr(le(),k,x),c=Wn(a.gg,i._a[De],Z.year),d=Wn(a.w,Z.week),a.d!=null?(w=a.d,(w<0||w>6)&&(z=!0)):a.e!=null?(w=a.e+k,(a.e<0||a.e>6)&&(z=!0)):w=k),d<1||d>Vt(c,k,x)?A(i)._overflowWeeks=!0:z!=null?A(i)._overflowWeekday=!0:(O=Il(c,d,w,k,x),i._a[De]=O.year,i._dayOfYear=O.dayOfYear)}e.ISO_8601=function(){},e.RFC_2822=function(){};function Ls(i){if(i._f===e.ISO_8601){Wl(i);return}if(i._f===e.RFC_2822){Bl(i);return}i._a=[],A(i).empty=!0;var a=""+i._i,c,d,w,k,x,O=a.length,z=0,Z,Be;for(w=mn(i._f,i._locale).match(He)||[],Be=w.length,c=0;c<Be;c++)k=w[c],d=(a.match(Vd(k,i))||[])[0],d&&(x=a.substr(0,a.indexOf(d)),x.length>0&&A(i).unusedInput.push(x),a=a.slice(a.indexOf(d)+d.length),z+=d.length),Fe[k]?(d?A(i).empty=!1:A(i).unusedTokens.push(k),Ud(k,d,i)):i._strict&&!d&&A(i).unusedTokens.push(k);A(i).charsLeftOver=O-z,a.length>0&&A(i).unusedInput.push(a),i._a[ye]<=12&&A(i).bigHour===!0&&i._a[ye]>0&&(A(i).bigHour=void 0),A(i).parsedDateParts=i._a.slice(0),A(i).meridiem=i._meridiem,i._a[ye]=tp(i._locale,i._a[ye],i._meridiem),Z=A(i).era,Z!==null&&(i._a[De]=i._locale.erasConvertYear(Z,i._a[De])),Os(i),Is(i)}function tp(i,a,c){var d;return c==null?a:i.meridiemHour!=null?i.meridiemHour(a,c):(i.isPM!=null&&(d=i.isPM(c),d&&a<12&&(a+=12),!d&&a===12&&(a=0)),a)}function np(i){var a,c,d,w,k,x,O=!1,z=i._f.length;if(z===0){A(i).invalidFormat=!0,i._d=new Date(NaN);return}for(w=0;w<z;w++)k=0,x=!1,a=B({},i),i._useUTC!=null&&(a._useUTC=i._useUTC),a._f=i._f[w],Ls(a),S(a)&&(x=!0),k+=A(a).charsLeftOver,k+=A(a).unusedTokens.length*10,A(a).score=k,O?k<d&&(d=k,c=a):(d==null||k<d||x)&&(d=k,c=a,x&&(O=!0));m(i,c||a)}function rp(i){if(!i._d){var a=Ln(i._i),c=a.day===void 0?a.date:a.day;i._a=h([a.year,a.month,c,a.hour,a.minute,a.second,a.millisecond],function(d){return d&&parseInt(d,10)}),Os(i)}}function ip(i){var a=new Y(Is(Yl(i)));return a._nextDay&&(a.add(1,"d"),a._nextDay=void 0),a}function Yl(i){var a=i._i,c=i._f;return i._locale=i._locale||zt(i._l),a===null||c===void 0&&a===""?C({nullInput:!0}):(typeof a=="string"&&(i._i=a=i._locale.preparse(a)),E(a)?new Y(Is(a)):(p(a)?i._d=a:r(c)?np(i):c?Ls(i):op(i),S(i)||(i._d=null),i))}function op(i){var a=i._i;u(a)?i._d=new Date(e.now()):p(a)?i._d=new Date(a.valueOf()):typeof a=="string"?Jh(i):r(a)?(i._a=h(a.slice(0),function(c){return parseInt(c,10)}),Os(i)):o(a)?rp(i):f(a)?i._d=new Date(a):e.createFromInputFallback(i)}function Vl(i,a,c,d,w){var k={};return(a===!0||a===!1)&&(d=a,a=void 0),(c===!0||c===!1)&&(d=c,c=void 0),(o(i)&&l(i)||r(i)&&i.length===0)&&(i=void 0),k._isAMomentObject=!0,k._useUTC=k._isUTC=w,k._l=c,k._i=i,k._f=a,k._strict=d,ip(k)}function le(i,a,c,d){return Vl(i,a,c,d,!1)}var sp=j("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var i=le.apply(null,arguments);return this.isValid()&&i.isValid()?i<this?this:i:C()}),ap=j("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var i=le.apply(null,arguments);return this.isValid()&&i.isValid()?i>this?this:i:C()});function zl(i,a){var c,d;if(a.length===1&&r(a[0])&&(a=a[0]),!a.length)return le();for(c=a[0],d=1;d<a.length;++d)(!a[d].isValid()||a[d][i](c))&&(c=a[d]);return c}function lp(){var i=[].slice.call(arguments,0);return zl("isBefore",i)}function up(){var i=[].slice.call(arguments,0);return zl("isAfter",i)}var cp=function(){return Date.now?Date.now():+new Date},Tr=["year","quarter","month","week","day","hour","minute","second","millisecond"];function fp(i){var a,c=!1,d,w=Tr.length;for(a in i)if(s(i,a)&&!(pe.call(Tr,a)!==-1&&(i[a]==null||!isNaN(i[a]))))return!1;for(d=0;d<w;++d)if(i[Tr[d]]){if(c)return!1;parseFloat(i[Tr[d]])!==K(i[Tr[d]])&&(c=!0)}return!0}function dp(){return this._isValid}function hp(){return bt(NaN)}function yi(i){var a=Ln(i),c=a.year||0,d=a.quarter||0,w=a.month||0,k=a.week||a.isoWeek||0,x=a.day||0,O=a.hour||0,z=a.minute||0,Z=a.second||0,Be=a.millisecond||0;this._isValid=fp(a),this._milliseconds=+Be+Z*1e3+z*6e4+O*1e3*60*60,this._days=+x+k*7,this._months=+w+d*3+c*12,this._data={},this._locale=zt(),this._bubble()}function bi(i){return i instanceof yi}function Rs(i){return i<0?Math.round(-1*i)*-1:Math.round(i)}function pp(i,a,c){var d=Math.min(i.length,a.length),w=Math.abs(i.length-a.length),k=0,x;for(x=0;x<d;x++)(c&&i[x]!==a[x]||!c&&K(i[x])!==K(a[x]))&&k++;return k+w}function Ul(i,a){b(i,0,0,function(){var c=this.utcOffset(),d="+";return c<0&&(c=-c,d="-"),d+de(~~(c/60),2)+a+de(~~c%60,2)})}Ul("Z",":"),Ul("ZZ",""),L("Z",gt),L("ZZ",gt),ie(["Z","ZZ"],function(i,a,c){c._useUTC=!0,c._tzm=Ns(gt,i)});var mp=/([\+\-]|\d\d)/gi;function Ns(i,a){var c=(a||"").match(i),d,w,k;return c===null?null:(d=c[c.length-1]||[],w=(d+"").match(mp)||["-",0,0],k=+(w[1]*60)+K(w[2]),k===0?0:w[0]==="+"?k:-k)}function Ws(i,a){var c,d;return a._isUTC?(c=a.clone(),d=(E(i)||p(i)?i.valueOf():le(i).valueOf())-c.valueOf(),c._d.setTime(c._d.valueOf()+d),e.updateOffset(c,!1),c):le(i).local()}function Bs(i){return-Math.round(i._d.getTimezoneOffset())}e.updateOffset=function(){};function gp(i,a,c){var d=this._offset||0,w;if(!this.isValid())return i!=null?this:NaN;if(i!=null){if(typeof i=="string"){if(i=Ns(gt,i),i===null)return this}else Math.abs(i)<16&&!c&&(i=i*60);return!this._isUTC&&a&&(w=Bs(this)),this._offset=i,this._isUTC=!0,w!=null&&this.add(w,"m"),d!==i&&(!a||this._changeInProgress?Gl(this,bt(i-d,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,e.updateOffset(this,!0),this._changeInProgress=null)),this}else return this._isUTC?d:Bs(this)}function wp(i,a){return i!=null?(typeof i!="string"&&(i=-i),this.utcOffset(i,a),this):-this.utcOffset()}function yp(i){return this.utcOffset(0,i)}function bp(i){return this._isUTC&&(this.utcOffset(0,i),this._isUTC=!1,i&&this.subtract(Bs(this),"m")),this}function kp(){if(this._tzm!=null)this.utcOffset(this._tzm,!1,!0);else if(typeof this._i=="string"){var i=Ns(We,this._i);i!=null?this.utcOffset(i):this.utcOffset(0,!0)}return this}function vp(i){return this.isValid()?(i=i?le(i).utcOffset():0,(this.utcOffset()-i)%60===0):!1}function Ap(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function Cp(){if(!u(this._isDSTShifted))return this._isDSTShifted;var i={},a;return B(i,this),i=Yl(i),i._a?(a=i._isUTC?g(i._a):le(i._a),this._isDSTShifted=this.isValid()&&pp(i._a,a.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function xp(){return this.isValid()?!this._isUTC:!1}function Ep(){return this.isValid()?this._isUTC:!1}function $l(){return this.isValid()?this._isUTC&&this._offset===0:!1}var Sp=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,Tp=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function bt(i,a){var c=i,d=null,w,k,x;return bi(i)?c={ms:i._milliseconds,d:i._days,M:i._months}:f(i)||!isNaN(+i)?(c={},a?c[a]=+i:c.milliseconds=+i):(d=Sp.exec(i))?(w=d[1]==="-"?-1:1,c={y:0,d:K(d[Tt])*w,h:K(d[ye])*w,m:K(d[yt])*w,s:K(d[Yt])*w,ms:K(Rs(d[wn]*1e3))*w}):(d=Tp.exec(i))?(w=d[1]==="-"?-1:1,c={y:yn(d[2],w),M:yn(d[3],w),w:yn(d[4],w),d:yn(d[5],w),h:yn(d[6],w),m:yn(d[7],w),s:yn(d[8],w)}):c==null?c={}:typeof c=="object"&&("from"in c||"to"in c)&&(x=_p(le(c.from),le(c.to)),c={},c.ms=x.milliseconds,c.M=x.months),k=new yi(c),bi(i)&&s(i,"_locale")&&(k._locale=i._locale),bi(i)&&s(i,"_isValid")&&(k._isValid=i._isValid),k}bt.fn=yi.prototype,bt.invalid=hp;function yn(i,a){var c=i&&parseFloat(i.replace(",","."));return(isNaN(c)?0:c)*a}function Hl(i,a){var c={};return c.months=a.month()-i.month()+(a.year()-i.year())*12,i.clone().add(c.months,"M").isAfter(a)&&--c.months,c.milliseconds=+a-+i.clone().add(c.months,"M"),c}function _p(i,a){var c;return i.isValid()&&a.isValid()?(a=Ws(a,i),i.isBefore(a)?c=Hl(i,a):(c=Hl(a,i),c.milliseconds=-c.milliseconds,c.months=-c.months),c):{milliseconds:0,months:0}}function jl(i,a){return function(c,d){var w,k;return d!==null&&!isNaN(+d)&&(ne(a,"moment()."+a+"(period, number) is deprecated. Please use moment()."+a+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),k=c,c=d,d=k),w=bt(c,d),Gl(this,w,i),this}}function Gl(i,a,c,d){var w=a._milliseconds,k=Rs(a._days),x=Rs(a._months);i.isValid()&&(d=d??!0,x&&Fl(i,Ar(i,"Month")+x*c),k&&Sl(i,"Date",Ar(i,"Date")+k*c),w&&i._d.setTime(i._d.valueOf()+w*c),d&&e.updateOffset(i,k||x))}var Fp=jl(1,"add"),Pp=jl(-1,"subtract");function ql(i){return typeof i=="string"||i instanceof String}function Dp(i){return E(i)||p(i)||ql(i)||f(i)||Mp(i)||Ip(i)||i===null||i===void 0}function Ip(i){var a=o(i)&&!l(i),c=!1,d=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],w,k,x=d.length;for(w=0;w<x;w+=1)k=d[w],c=c||s(i,k);return a&&c}function Mp(i){var a=r(i),c=!1;return a&&(c=i.filter(function(d){return!f(d)&&ql(i)}).length===0),a&&c}function Op(i){var a=o(i)&&!l(i),c=!1,d=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],w,k;for(w=0;w<d.length;w+=1)k=d[w],c=c||s(i,k);return a&&c}function Lp(i,a){var c=i.diff(a,"days",!0);return c<-6?"sameElse":c<-1?"lastWeek":c<0?"lastDay":c<1?"sameDay":c<2?"nextDay":c<7?"nextWeek":"sameElse"}function Rp(i,a){arguments.length===1&&(arguments[0]?Dp(arguments[0])?(i=arguments[0],a=void 0):Op(arguments[0])&&(a=arguments[0],i=void 0):(i=void 0,a=void 0));var c=i||le(),d=Ws(c,this).startOf("day"),w=e.calendarFormat(this,d)||"sameElse",k=a&&(ae(a[w])?a[w].call(this,c):a[w]);return this.format(k||this.localeData().calendar(w,this,le(c)))}function Np(){return new Y(this)}function Wp(i,a){var c=E(i)?i:le(i);return this.isValid()&&c.isValid()?(a=Re(a)||"millisecond",a==="millisecond"?this.valueOf()>c.valueOf():c.valueOf()<this.clone().startOf(a).valueOf()):!1}function Bp(i,a){var c=E(i)?i:le(i);return this.isValid()&&c.isValid()?(a=Re(a)||"millisecond",a==="millisecond"?this.valueOf()<c.valueOf():this.clone().endOf(a).valueOf()<c.valueOf()):!1}function Yp(i,a,c,d){var w=E(i)?i:le(i),k=E(a)?a:le(a);return this.isValid()&&w.isValid()&&k.isValid()?(d=d||"()",(d[0]==="("?this.isAfter(w,c):!this.isBefore(w,c))&&(d[1]===")"?this.isBefore(k,c):!this.isAfter(k,c))):!1}function Vp(i,a){var c=E(i)?i:le(i),d;return this.isValid()&&c.isValid()?(a=Re(a)||"millisecond",a==="millisecond"?this.valueOf()===c.valueOf():(d=c.valueOf(),this.clone().startOf(a).valueOf()<=d&&d<=this.clone().endOf(a).valueOf())):!1}function zp(i,a){return this.isSame(i,a)||this.isAfter(i,a)}function Up(i,a){return this.isSame(i,a)||this.isBefore(i,a)}function $p(i,a,c){var d,w,k;if(!this.isValid())return NaN;if(d=Ws(i,this),!d.isValid())return NaN;switch(w=(d.utcOffset()-this.utcOffset())*6e4,a=Re(a),a){case"year":k=ki(this,d)/12;break;case"month":k=ki(this,d);break;case"quarter":k=ki(this,d)/3;break;case"second":k=(this-d)/1e3;break;case"minute":k=(this-d)/6e4;break;case"hour":k=(this-d)/36e5;break;case"day":k=(this-d-w)/864e5;break;case"week":k=(this-d-w)/6048e5;break;default:k=this-d}return c?k:rt(k)}function ki(i,a){if(i.date()<a.date())return-ki(a,i);var c=(a.year()-i.year())*12+(a.month()-i.month()),d=i.clone().add(c,"months"),w,k;return a-d<0?(w=i.clone().add(c-1,"months"),k=(a-d)/(d-w)):(w=i.clone().add(c+1,"months"),k=(a-d)/(w-d)),-(c+k)||0}e.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",e.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";function Hp(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function jp(i){if(!this.isValid())return null;var a=i!==!0,c=a?this.clone().utc():this;return c.year()<0||c.year()>9999?en(c,a?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):ae(Date.prototype.toISOString)?a?this.toDate().toISOString():new Date(this.valueOf()+this.utcOffset()*60*1e3).toISOString().replace("Z",en(c,"Z")):en(c,a?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function Gp(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var i="moment",a="",c,d,w,k;return this.isLocal()||(i=this.utcOffset()===0?"moment.utc":"moment.parseZone",a="Z"),c="["+i+'("]',d=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",w="-MM-DD[T]HH:mm:ss.SSS",k=a+'[")]',this.format(c+d+w+k)}function qp(i){i||(i=this.isUtc()?e.defaultFormatUtc:e.defaultFormat);var a=en(this,i);return this.localeData().postformat(a)}function Kp(i,a){return this.isValid()&&(E(i)&&i.isValid()||le(i).isValid())?bt({to:this,from:i}).locale(this.locale()).humanize(!a):this.localeData().invalidDate()}function Zp(i){return this.from(le(),i)}function Qp(i,a){return this.isValid()&&(E(i)&&i.isValid()||le(i).isValid())?bt({from:this,to:i}).locale(this.locale()).humanize(!a):this.localeData().invalidDate()}function Jp(i){return this.to(le(),i)}function Kl(i){var a;return i===void 0?this._locale._abbr:(a=zt(i),a!=null&&(this._locale=a),this)}var Zl=j("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(i){return i===void 0?this.localeData():this.locale(i)});function Ql(){return this._locale}var vi=1e3,Bn=60*vi,Ai=60*Bn,Jl=(365*400+97)*24*Ai;function Yn(i,a){return(i%a+a)%a}function Xl(i,a,c){return i<100&&i>=0?new Date(i+400,a,c)-Jl:new Date(i,a,c).valueOf()}function eu(i,a,c){return i<100&&i>=0?Date.UTC(i+400,a,c)-Jl:Date.UTC(i,a,c)}function Xp(i){var a,c;if(i=Re(i),i===void 0||i==="millisecond"||!this.isValid())return this;switch(c=this._isUTC?eu:Xl,i){case"year":a=c(this.year(),0,1);break;case"quarter":a=c(this.year(),this.month()-this.month()%3,1);break;case"month":a=c(this.year(),this.month(),1);break;case"week":a=c(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":a=c(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":a=c(this.year(),this.month(),this.date());break;case"hour":a=this._d.valueOf(),a-=Yn(a+(this._isUTC?0:this.utcOffset()*Bn),Ai);break;case"minute":a=this._d.valueOf(),a-=Yn(a,Bn);break;case"second":a=this._d.valueOf(),a-=Yn(a,vi);break}return this._d.setTime(a),e.updateOffset(this,!0),this}function em(i){var a,c;if(i=Re(i),i===void 0||i==="millisecond"||!this.isValid())return this;switch(c=this._isUTC?eu:Xl,i){case"year":a=c(this.year()+1,0,1)-1;break;case"quarter":a=c(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":a=c(this.year(),this.month()+1,1)-1;break;case"week":a=c(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":a=c(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":a=c(this.year(),this.month(),this.date()+1)-1;break;case"hour":a=this._d.valueOf(),a+=Ai-Yn(a+(this._isUTC?0:this.utcOffset()*Bn),Ai)-1;break;case"minute":a=this._d.valueOf(),a+=Bn-Yn(a,Bn)-1;break;case"second":a=this._d.valueOf(),a+=vi-Yn(a,vi)-1;break}return this._d.setTime(a),e.updateOffset(this,!0),this}function tm(){return this._d.valueOf()-(this._offset||0)*6e4}function nm(){return Math.floor(this.valueOf()/1e3)}function rm(){return new Date(this.valueOf())}function im(){var i=this;return[i.year(),i.month(),i.date(),i.hour(),i.minute(),i.second(),i.millisecond()]}function om(){var i=this;return{years:i.year(),months:i.month(),date:i.date(),hours:i.hours(),minutes:i.minutes(),seconds:i.seconds(),milliseconds:i.milliseconds()}}function sm(){return this.isValid()?this.toISOString():null}function am(){return S(this)}function lm(){return m({},A(this))}function um(){return A(this).overflow}function cm(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}b("N",0,0,"eraAbbr"),b("NN",0,0,"eraAbbr"),b("NNN",0,0,"eraAbbr"),b("NNNN",0,0,"eraName"),b("NNNNN",0,0,"eraNarrow"),b("y",["y",1],"yo","eraYear"),b("y",["yy",2],0,"eraYear"),b("y",["yyy",3],0,"eraYear"),b("y",["yyyy",4],0,"eraYear"),L("N",Ys),L("NN",Ys),L("NNN",Ys),L("NNNN",vm),L("NNNNN",Am),ie(["N","NN","NNN","NNNN","NNNNN"],function(i,a,c,d){var w=c._locale.erasParse(i,d,c._strict);w?A(c).era=w:A(c).invalidEra=i}),L("y",nt),L("yy",nt),L("yyy",nt),L("yyyy",nt),L("yo",Cm),ie(["y","yy","yyy","yyyy"],De),ie(["yo"],function(i,a,c,d){var w;c._locale._eraYearOrdinalRegex&&(w=i.match(c._locale._eraYearOrdinalRegex)),c._locale.eraYearOrdinalParse?a[De]=c._locale.eraYearOrdinalParse(i,w):a[De]=parseInt(i,10)});function fm(i,a){var c,d,w,k=this._eras||zt("en")._eras;for(c=0,d=k.length;c<d;++c){switch(typeof k[c].since){case"string":w=e(k[c].since).startOf("day"),k[c].since=w.valueOf();break}switch(typeof k[c].until){case"undefined":k[c].until=1/0;break;case"string":w=e(k[c].until).startOf("day").valueOf(),k[c].until=w.valueOf();break}}return k}function dm(i,a,c){var d,w,k=this.eras(),x,O,z;for(i=i.toUpperCase(),d=0,w=k.length;d<w;++d)if(x=k[d].name.toUpperCase(),O=k[d].abbr.toUpperCase(),z=k[d].narrow.toUpperCase(),c)switch(a){case"N":case"NN":case"NNN":if(O===i)return k[d];break;case"NNNN":if(x===i)return k[d];break;case"NNNNN":if(z===i)return k[d];break}else if([x,O,z].indexOf(i)>=0)return k[d]}function hm(i,a){var c=i.since<=i.until?1:-1;return a===void 0?e(i.since).year():e(i.since).year()+(a-i.offset)*c}function pm(){var i,a,c,d=this.localeData().eras();for(i=0,a=d.length;i<a;++i)if(c=this.clone().startOf("day").valueOf(),d[i].since<=c&&c<=d[i].until||d[i].until<=c&&c<=d[i].since)return d[i].name;return""}function mm(){var i,a,c,d=this.localeData().eras();for(i=0,a=d.length;i<a;++i)if(c=this.clone().startOf("day").valueOf(),d[i].since<=c&&c<=d[i].until||d[i].until<=c&&c<=d[i].since)return d[i].narrow;return""}function gm(){var i,a,c,d=this.localeData().eras();for(i=0,a=d.length;i<a;++i)if(c=this.clone().startOf("day").valueOf(),d[i].since<=c&&c<=d[i].until||d[i].until<=c&&c<=d[i].since)return d[i].abbr;return""}function wm(){var i,a,c,d,w=this.localeData().eras();for(i=0,a=w.length;i<a;++i)if(c=w[i].since<=w[i].until?1:-1,d=this.clone().startOf("day").valueOf(),w[i].since<=d&&d<=w[i].until||w[i].until<=d&&d<=w[i].since)return(this.year()-e(w[i].since).year())*c+w[i].offset;return this.year()}function ym(i){return s(this,"_erasNameRegex")||Vs.call(this),i?this._erasNameRegex:this._erasRegex}function bm(i){return s(this,"_erasAbbrRegex")||Vs.call(this),i?this._erasAbbrRegex:this._erasRegex}function km(i){return s(this,"_erasNarrowRegex")||Vs.call(this),i?this._erasNarrowRegex:this._erasRegex}function Ys(i,a){return a.erasAbbrRegex(i)}function vm(i,a){return a.erasNameRegex(i)}function Am(i,a){return a.erasNarrowRegex(i)}function Cm(i,a){return a._eraYearOrdinalRegex||nt}function Vs(){var i=[],a=[],c=[],d=[],w,k,x,O,z,Z=this.eras();for(w=0,k=Z.length;w<k;++w)x=Wt(Z[w].name),O=Wt(Z[w].abbr),z=Wt(Z[w].narrow),a.push(x),i.push(O),c.push(z),d.push(x),d.push(O),d.push(z);this._erasRegex=new RegExp("^("+d.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+a.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+i.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+c.join("|")+")","i")}b(0,["gg",2],0,function(){return this.weekYear()%100}),b(0,["GG",2],0,function(){return this.isoWeekYear()%100});function Ci(i,a){b(0,[i,i.length],0,a)}Ci("gggg","weekYear"),Ci("ggggg","weekYear"),Ci("GGGG","isoWeekYear"),Ci("GGGGG","isoWeekYear"),L("G",St),L("g",St),L("GG",M,Ne),L("gg",M,Ne),L("GGGG",mt,T),L("gggg",mt,T),L("GGGGG",je,I),L("ggggg",je,I),kr(["gggg","ggggg","GGGG","GGGGG"],function(i,a,c,d){a[d.substr(0,2)]=K(i)}),kr(["gg","GG"],function(i,a,c,d){a[d]=e.parseTwoDigitYear(i)});function xm(i){return tu.call(this,i,this.week(),this.weekday()+this.localeData()._week.dow,this.localeData()._week.dow,this.localeData()._week.doy)}function Em(i){return tu.call(this,i,this.isoWeek(),this.isoWeekday(),1,4)}function Sm(){return Vt(this.year(),1,4)}function Tm(){return Vt(this.isoWeekYear(),1,4)}function _m(){var i=this.localeData()._week;return Vt(this.year(),i.dow,i.doy)}function Fm(){var i=this.localeData()._week;return Vt(this.weekYear(),i.dow,i.doy)}function tu(i,a,c,d,w){var k;return i==null?xr(this,d,w).year:(k=Vt(i,d,w),a>k&&(a=k),Pm.call(this,i,a,c,d,w))}function Pm(i,a,c,d,w){var k=Il(i,a,c,d,w),x=Cr(k.year,0,k.dayOfYear);return this.year(x.getUTCFullYear()),this.month(x.getUTCMonth()),this.date(x.getUTCDate()),this}b("Q",0,"Qo","quarter"),L("Q",fi),ie("Q",function(i,a){a[Bt]=(K(i)-1)*3});function Dm(i){return i==null?Math.ceil((this.month()+1)/3):this.month((i-1)*3+this.month()%3)}b("D",["DD",2],"Do","date"),L("D",M,Rn),L("DD",M,Ne),L("Do",function(i,a){return i?a._dayOfMonthOrdinalParse||a._ordinalParse:a._dayOfMonthOrdinalParseLenient}),ie(["D","DD"],Tt),ie("Do",function(i,a){a[Tt]=K(i.match(M)[0])});var nu=Nn("Date",!0);b("DDD",["DDDD",3],"DDDo","dayOfYear"),L("DDD",Pe),L("DDDD",di),ie(["DDD","DDDD"],function(i,a,c){c._dayOfYear=K(i)});function Im(i){var a=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return i==null?a:this.add(i-a,"d")}b("m",["mm",2],0,"minute"),L("m",M,Es),L("mm",M,Ne),ie(["m","mm"],yt);var Mm=Nn("Minutes",!1);b("s",["ss",2],0,"second"),L("s",M,Es),L("ss",M,Ne),ie(["s","ss"],Yt);var Om=Nn("Seconds",!1);b("S",0,0,function(){return~~(this.millisecond()/100)}),b(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),b(0,["SSS",3],0,"millisecond"),b(0,["SSSS",4],0,function(){return this.millisecond()*10}),b(0,["SSSSS",5],0,function(){return this.millisecond()*100}),b(0,["SSSSSS",6],0,function(){return this.millisecond()*1e3}),b(0,["SSSSSSS",7],0,function(){return this.millisecond()*1e4}),b(0,["SSSSSSSS",8],0,function(){return this.millisecond()*1e5}),b(0,["SSSSSSSSS",9],0,function(){return this.millisecond()*1e6}),L("S",Pe,fi),L("SS",Pe,Ne),L("SSS",Pe,di);var rn,ru;for(rn="SSSS";rn.length<=9;rn+="S")L(rn,nt);function Lm(i,a){a[wn]=K(("0."+i)*1e3)}for(rn="S";rn.length<=9;rn+="S")ie(rn,Lm);ru=Nn("Milliseconds",!1),b("z",0,0,"zoneAbbr"),b("zz",0,0,"zoneName");function Rm(){return this._isUTC?"UTC":""}function Nm(){return this._isUTC?"Coordinated Universal Time":""}var D=Y.prototype;D.add=Fp,D.calendar=Rp,D.clone=Np,D.diff=$p,D.endOf=em,D.format=qp,D.from=Kp,D.fromNow=Zp,D.to=Qp,D.toNow=Jp,D.get=Gd,D.invalidAt=um,D.isAfter=Wp,D.isBefore=Bp,D.isBetween=Yp,D.isSame=Vp,D.isSameOrAfter=zp,D.isSameOrBefore=Up,D.isValid=am,D.lang=Zl,D.locale=Kl,D.localeData=Ql,D.max=ap,D.min=sp,D.parsingFlags=lm,D.set=qd,D.startOf=Xp,D.subtract=Pp,D.toArray=im,D.toObject=om,D.toDate=rm,D.toISOString=jp,D.inspect=Gp,typeof Symbol<"u"&&Symbol.for!=null&&(D[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"}),D.toJSON=sm,D.toString=Hp,D.unix=nm,D.valueOf=tm,D.creationData=cm,D.eraName=pm,D.eraNarrow=mm,D.eraAbbr=gm,D.eraYear=wm,D.year=El,D.isLeapYear=jd,D.weekYear=xm,D.isoWeekYear=Em,D.quarter=D.quarters=Dm,D.month=Pl,D.daysInMonth=rh,D.week=D.weeks=fh,D.isoWeek=D.isoWeeks=dh,D.weeksInYear=_m,D.weeksInWeekYear=Fm,D.isoWeeksInYear=Sm,D.isoWeeksInISOWeekYear=Tm,D.date=nu,D.day=D.days=Eh,D.weekday=Sh,D.isoWeekday=Th,D.dayOfYear=Im,D.hour=D.hours=Oh,D.minute=D.minutes=Mm,D.second=D.seconds=Om,D.millisecond=D.milliseconds=ru,D.utcOffset=gp,D.utc=yp,D.local=bp,D.parseZone=kp,D.hasAlignedHourOffset=vp,D.isDST=Ap,D.isLocal=xp,D.isUtcOffset=Ep,D.isUtc=$l,D.isUTC=$l,D.zoneAbbr=Rm,D.zoneName=Nm,D.dates=j("dates accessor is deprecated. Use date instead.",nu),D.months=j("months accessor is deprecated. Use month instead",Pl),D.years=j("years accessor is deprecated. Use year instead",El),D.zone=j("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",wp),D.isDSTShifted=j("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",Cp);function Wm(i){return le(i*1e3)}function Bm(){return le.apply(null,arguments).parseZone()}function iu(i){return i}var te=U.prototype;te.calendar=ce,te.longDateFormat=gn,te.invalidDate=Nt,te.ordinal=As,te.preparse=iu,te.postformat=iu,te.relativeTime=li,te.pastFuture=ui,te.set=X,te.eras=fm,te.erasParse=dm,te.erasConvertYear=hm,te.erasAbbrRegex=bm,te.erasNameRegex=ym,te.erasNarrowRegex=km,te.months=Xd,te.monthsShort=eh,te.monthsParse=nh,te.monthsRegex=oh,te.monthsShortRegex=ih,te.week=ah,te.firstDayOfYear=ch,te.firstDayOfWeek=uh,te.weekdays=kh,te.weekdaysMin=Ah,te.weekdaysShort=vh,te.weekdaysParse=xh,te.weekdaysRegex=_h,te.weekdaysShortRegex=Fh,te.weekdaysMinRegex=Ph,te.isPM=Ih,te.meridiem=Lh;function xi(i,a,c,d){var w=zt(),k=g().set(d,a);return w[c](k,i)}function ou(i,a,c){if(f(i)&&(a=i,i=void 0),i=i||"",a!=null)return xi(i,a,c,"month");var d,w=[];for(d=0;d<12;d++)w[d]=xi(i,d,c,"month");return w}function zs(i,a,c,d){typeof i=="boolean"?(f(a)&&(c=a,a=void 0),a=a||""):(a=i,c=a,i=!1,f(a)&&(c=a,a=void 0),a=a||"");var w=zt(),k=i?w._week.dow:0,x,O=[];if(c!=null)return xi(a,(c+k)%7,d,"day");for(x=0;x<7;x++)O[x]=xi(a,(x+k)%7,d,"day");return O}function Ym(i,a){return ou(i,a,"months")}function Vm(i,a){return ou(i,a,"monthsShort")}function zm(i,a,c){return zs(i,a,c,"weekdays")}function Um(i,a,c){return zs(i,a,c,"weekdaysShort")}function $m(i,a,c){return zs(i,a,c,"weekdaysMin")}nn("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(i){var a=i%10,c=K(i%100/10)===1?"th":a===1?"st":a===2?"nd":a===3?"rd":"th";return i+c}}),e.lang=j("moment.lang is deprecated. Use moment.locale instead.",nn),e.langData=j("moment.langData is deprecated. Use moment.localeData instead.",zt);var Ut=Math.abs;function Hm(){var i=this._data;return this._milliseconds=Ut(this._milliseconds),this._days=Ut(this._days),this._months=Ut(this._months),i.milliseconds=Ut(i.milliseconds),i.seconds=Ut(i.seconds),i.minutes=Ut(i.minutes),i.hours=Ut(i.hours),i.months=Ut(i.months),i.years=Ut(i.years),this}function su(i,a,c,d){var w=bt(a,c);return i._milliseconds+=d*w._milliseconds,i._days+=d*w._days,i._months+=d*w._months,i._bubble()}function jm(i,a){return su(this,i,a,1)}function Gm(i,a){return su(this,i,a,-1)}function au(i){return i<0?Math.floor(i):Math.ceil(i)}function qm(){var i=this._milliseconds,a=this._days,c=this._months,d=this._data,w,k,x,O,z;return i>=0&&a>=0&&c>=0||i<=0&&a<=0&&c<=0||(i+=au(Us(c)+a)*864e5,a=0,c=0),d.milliseconds=i%1e3,w=rt(i/1e3),d.seconds=w%60,k=rt(w/60),d.minutes=k%60,x=rt(k/60),d.hours=x%24,a+=rt(x/24),z=rt(lu(a)),c+=z,a-=au(Us(z)),O=rt(c/12),c%=12,d.days=a,d.months=c,d.years=O,this}function lu(i){return i*4800/146097}function Us(i){return i*146097/4800}function Km(i){if(!this.isValid())return NaN;var a,c,d=this._milliseconds;if(i=Re(i),i==="month"||i==="quarter"||i==="year")switch(a=this._days+d/864e5,c=this._months+lu(a),i){case"month":return c;case"quarter":return c/3;case"year":return c/12}else switch(a=this._days+Math.round(Us(this._months)),i){case"week":return a/7+d/6048e5;case"day":return a+d/864e5;case"hour":return a*24+d/36e5;case"minute":return a*1440+d/6e4;case"second":return a*86400+d/1e3;case"millisecond":return Math.floor(a*864e5)+d;default:throw new Error("Unknown unit "+i)}}function $t(i){return function(){return this.as(i)}}var uu=$t("ms"),Zm=$t("s"),Qm=$t("m"),Jm=$t("h"),Xm=$t("d"),eg=$t("w"),tg=$t("M"),ng=$t("Q"),rg=$t("y"),ig=uu;function og(){return bt(this)}function sg(i){return i=Re(i),this.isValid()?this[i+"s"]():NaN}function bn(i){return function(){return this.isValid()?this._data[i]:NaN}}var ag=bn("milliseconds"),lg=bn("seconds"),ug=bn("minutes"),cg=bn("hours"),fg=bn("days"),dg=bn("months"),hg=bn("years");function pg(){return rt(this.days()/7)}var Ht=Math.round,Vn={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function mg(i,a,c,d,w){return w.relativeTime(a||1,!!c,i,d)}function gg(i,a,c,d){var w=bt(i).abs(),k=Ht(w.as("s")),x=Ht(w.as("m")),O=Ht(w.as("h")),z=Ht(w.as("d")),Z=Ht(w.as("M")),Be=Ht(w.as("w")),jt=Ht(w.as("y")),on=k<=c.ss&&["s",k]||k<c.s&&["ss",k]||x<=1&&["m"]||x<c.m&&["mm",x]||O<=1&&["h"]||O<c.h&&["hh",O]||z<=1&&["d"]||z<c.d&&["dd",z];return c.w!=null&&(on=on||Be<=1&&["w"]||Be<c.w&&["ww",Be]),on=on||Z<=1&&["M"]||Z<c.M&&["MM",Z]||jt<=1&&["y"]||["yy",jt],on[2]=a,on[3]=+i>0,on[4]=d,mg.apply(null,on)}function wg(i){return i===void 0?Ht:typeof i=="function"?(Ht=i,!0):!1}function yg(i,a){return Vn[i]===void 0?!1:a===void 0?Vn[i]:(Vn[i]=a,i==="s"&&(Vn.ss=a-1),!0)}function bg(i,a){if(!this.isValid())return this.localeData().invalidDate();var c=!1,d=Vn,w,k;return typeof i=="object"&&(a=i,i=!1),typeof i=="boolean"&&(c=i),typeof a=="object"&&(d=Object.assign({},Vn,a),a.s!=null&&a.ss==null&&(d.ss=a.s-1)),w=this.localeData(),k=gg(this,!c,d,w),c&&(k=w.pastFuture(+this,k)),w.postformat(k)}var $s=Math.abs;function zn(i){return(i>0)-(i<0)||+i}function Ei(){if(!this.isValid())return this.localeData().invalidDate();var i=$s(this._milliseconds)/1e3,a=$s(this._days),c=$s(this._months),d,w,k,x,O=this.asSeconds(),z,Z,Be,jt;return O?(d=rt(i/60),w=rt(d/60),i%=60,d%=60,k=rt(c/12),c%=12,x=i?i.toFixed(3).replace(/\.?0+$/,""):"",z=O<0?"-":"",Z=zn(this._months)!==zn(O)?"-":"",Be=zn(this._days)!==zn(O)?"-":"",jt=zn(this._milliseconds)!==zn(O)?"-":"",z+"P"+(k?Z+k+"Y":"")+(c?Z+c+"M":"")+(a?Be+a+"D":"")+(w||d||i?"T":"")+(w?jt+w+"H":"")+(d?jt+d+"M":"")+(i?jt+x+"S":"")):"P0D"}var J=yi.prototype;J.isValid=dp,J.abs=Hm,J.add=jm,J.subtract=Gm,J.as=Km,J.asMilliseconds=uu,J.asSeconds=Zm,J.asMinutes=Qm,J.asHours=Jm,J.asDays=Xm,J.asWeeks=eg,J.asMonths=tg,J.asQuarters=ng,J.asYears=rg,J.valueOf=ig,J._bubble=qm,J.clone=og,J.get=sg,J.milliseconds=ag,J.seconds=lg,J.minutes=ug,J.hours=cg,J.days=fg,J.weeks=pg,J.months=dg,J.years=hg,J.humanize=bg,J.toISOString=Ei,J.toString=Ei,J.toJSON=Ei,J.locale=Kl,J.localeData=Ql,J.toIsoString=j("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Ei),J.lang=Zl,b("X",0,0,"unix"),b("x",0,0,"valueOf"),L("x",St),L("X",wt),ie("X",function(i,a,c){c._d=new Date(parseFloat(i)*1e3)}),ie("x",function(i,a,c){c._d=new Date(K(i))});return e.version="2.30.1",n(le),e.fn=D,e.min=lp,e.max=up,e.now=cp,e.utc=g,e.unix=Wm,e.months=Ym,e.isDate=p,e.locale=nn,e.invalid=C,e.duration=bt,e.isMoment=E,e.weekdays=zm,e.parseZone=Bm,e.localeData=zt,e.isDuration=bi,e.monthsShort=Vm,e.weekdaysMin=$m,e.defineLocale=Ds,e.updateLocale=Bh,e.locales=Yh,e.weekdaysShort=Um,e.normalizeUnits=Re,e.relativeTimeRounding=wg,e.relativeTimeThreshold=yg,e.calendarFormat=Lp,e.prototype=D,e.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},e}))});var Rb={};cu(Rb,{default:()=>Lb});module.exports=Eg(Rb);var ke=require("obsidian");(function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e})();function Qe(){}async function _t(){}function _r(t){return async(...e)=>{await t(...e)}}var It=require("obsidian");var Sg=require("obsidian"),pu=require("obsidian"),mu=require("obsidian"),Vb=require("obsidian"),zb=require("obsidian"),du=class{data=new Map;add(t,e){let n=this.get(t);n||(n=[],this.data.set(t,n)),n.includes(e)||n.push(e)}remove(t,e){let n=this.get(t);n&&(n.remove(e),n.length===0&&this.clear(t))}get(t){return this.data.get(t)||null}keys(){return Array.from(this.data.keys())}clear(t){this.data.delete(t)}clearAll(){this.data.clear()}contains(t,e){return!!this.get(t)?.contains(e)}count(){let t=0;for(let e of this.keys())t+=this.get(e)?.length??0;return t}};var ot={AudioRecorder:"audio-recorder",Backlink:"backlink",Bases:"bases",Bookmarks:"bookmarks",Canvas:"canvas",CommandPalette:"command-palette",DailyNotes:"daily-notes",EditorStatus:"editor-status",FileExplorer:"file-explorer",FileRecovery:"file-recovery",Footnotes:"footnotes",GlobalSearch:"global-search",Graph:"graph",MarkdownImporter:"markdown-importer",NoteComposer:"note-composer",OutgoingLink:"outgoing-link",Outline:"outline",PagePreview:"page-preview",Properties:"properties",Publish:"publish",RandomNote:"random-note",SlashCommand:"slash-command",Slides:"slides",Switcher:"switcher",Sync:"sync",TagPane:"tag-pane",Templates:"templates",Webviewer:"webviewer",WordCount:"word-count",Workspaces:"workspaces",ZkPrefixer:"zk-prefixer"},hu={AllProperties:"all-properties",Audio:"audio",Backlink:ot.Backlink,Bases:ot.Bases,Bookmarks:ot.Bookmarks,Canvas:ot.Canvas,Empty:"empty",FileExplorer:ot.FileExplorer,FileProperties:"file-properties",Graph:ot.Graph,Image:"image",LocalGraph:"localgraph",Markdown:"markdown",OutgoingLink:ot.OutgoingLink,Outline:ot.Outline,Pdf:"pdf",ReleaseNotes:"release-notes",Search:"search",Sync:"sync",Table:"table",Tag:"tag",Video:"video",Webviewer:"webviewer",WebviewerHistory:"webviewer-history"};function Tg(){return pu.TFile}function _g(){return mu.TFolder}function vt(t){return t.replace(/\/?[^\/]*$/,"")||"/"}function Ti(t,e){let n=t.vault.getFolderByPath(e);return n||(n=new(_g())(t.vault,e),n.parent=Ti(t,vt(e)),n.deleted=!0,n)}function gu(t,e){let n=t.vault.getFileByPath(e);return n||(n=new(Tg())(t.vault,e),n.parent=Ti(t,vt(e)),n.deleted=!0,n)}function At(t){return!!t.position}function Ye(t){return!!t.key}var Gs=it(bu(),1);(function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e})();var Pg=Number.POSITIVE_INFINITY;function Fr(...t){let e=t.filter(s=>!!s);if(typeof AbortSignal.any=="function")return AbortSignal.any(e);if(e.length===0)return Ie();if(e.length===1&&e[0])return e[0];let n=new AbortController;for(let s of e)if(s.aborted)return s;let r=[];for(let s of e)r.push(vu(s,o));return n.signal;function o(s){for(let l of r)l();n.abort(s.reason)}}function Ie(){return new AbortController().signal}function ku(t){if(t===Pg)return Ie();if(typeof AbortSignal.timeout=="function")return AbortSignal.timeout(t);let e=new AbortController;return window.setTimeout(()=>{e.abort(new Error(`Timed out in ${String(t)} milliseconds`))},t),e.signal}function vu(t,e){if(t.aborted)return e(t),Qe;return t.addEventListener("abort",n,{once:!0}),()=>{t.removeEventListener("abort",n)};function n(r){e(r.target)}}function Au(t,e){return new Promise((n,r)=>{vu(t,()=>{e?r(t.reason):n(t.reason)})})}(function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e})();function Pr(t,e){let n=t.length,r=0;for(let o=0;o<n;o++){if(!Object.hasOwn(t,o))continue;let s=t[o];e(s,o,t)&&(t[r++]=s)}t.length=r}(function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e})();var Pt=class{eventRefsMap=new Map;off(e,n){let r=this.eventRefsMap.get(e);r&&(Pr(r,o=>o.callback!==n),r.length===0&&this.eventRefsMap.delete(e))}offref(e){let n=this.eventRefsMap.get(e.name);n&&(Pr(n,r=>r!==e),n.length===0&&this.eventRefsMap.delete(e.name))}on(e,n,r){let o=this.eventRefsMap.get(e);o||(o=[],this.eventRefsMap.set(e,o));let s={asyncEvents:this,callback:n,name:e,thisArg:r};return o.push(s),s}once(e,n,r){let o=this.on(e,n,r),s=this.on(e,()=>{this.offref(o),this.offref(s)});return o}trigger(e,...n){let r=this.eventRefsMap.get(e)??[];for(let o of r.slice())this.tryTrigger(o,n)}async triggerAsync(e,...n){let r=this.eventRefsMap.get(e)??[];for(let o of r.slice())await this.tryTriggerAsync(o,n)}tryTrigger(e,n){try{e.callback.apply(e.thisArg,n)}catch(r){window.setTimeout(()=>{throw r},0)}}async tryTriggerAsync(e,n){try{await e.callback.call(e.thisArg,...n)}catch(r){window.setTimeout(()=>{throw r},0)}}};(function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e})();var Hs="asyncError",_i=new Pt;_i.on(Hs,Dg);var Fi="An unhandled error occurred executing async operation",xu="    at",Ct=class t extends Error{constructor(e,n,r){super(e,{cause:r}),this.name="CustomStackTraceError",Error.captureStackTrace(this,t);let o=r,s=new Set;for(;o instanceof t;){if(s.has(o))throw new Error("Circular cause detected");s.add(o),o=o.cause}let l=(this.stack??"").split(`
`),u=n.split(`
`);/^\w*Error(?:: |$)/.test(u[0]??"")&&u.splice(0,1),l.splice(1,l.length-1,...u),this.stack=l.join(`
`)}},$n=class t extends Error{constructor(e){super(e),this.name="SilentError",Error.captureStackTrace(this,t)}};function Pi(t){_i.trigger(Hs,t)}function Di(t){if(!(t instanceof Error))return String(t);let e=t.stack??`${t.name}: ${t.message}`;if(t.cause!==void 0){let n=Di(t.cause).split(`
`);e+=`
${Cu("Caused by:")}`;for(let r of n)r.trim()&&(e+=r.startsWith(xu)?`
${r}`:`
${Cu(r)}`)}return e}function Ve(t=0){return(new Error().stack??"").split(`
`).slice(t+2).join(`
`)}function Dr(t,e){e??=globalThis.console,e.error(Di(t))}function Eu(t){let e=_i.on(Hs,t);return()=>{_i.offref(e)}}function kn(t){throw t}function Cu(t){return`${xu} --- ${t} --- (0)`}function Dg(t){Dr(t)}(function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e})();function js(t){return t.replaceAll(/[.*+?^${}()|[\]\\]/g,"\\$&")}function Su(t){try{return new RegExp(t),!0}catch{return!1}}(function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e})();async function Hn(t,e,...n){return e??=Ie(),e.throwIfAborted(),Ig(t)?await t(e,...n):t}function Ig(t){return typeof t=="function"}(function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e})();var Mg={"\n":"\\n","\r":"\\r","	":"\\t","\b":"\\b","\f":"\\f","'":"\\'",'"':'\\"',"\\":"\\\\"};var Og={};for(let[t,e]of Object.entries(Mg))Og[e]=t;function Tu(t,e,n,r){return r??=n,t.slice(0,n)+e+t.slice(r)}function Ir(t){return Ge(t,/\u00A0|\u202F/g," ").normalize("NFC")}function Ge(t,e,n){return typeof n>"u"?t:(e instanceof RegExp&&!e.global&&(e=new RegExp(e.source,`${e.flags}g`)),typeof n=="string"?t.replaceAll(e,n):t.replaceAll(e,(r,...o)=>{let l=typeof o.at(-1)=="object",u=l?o.length-2:o.length-1,f={groups:l?o.at(-1):void 0,missingGroupIndices:[],offset:o.at(u-1),source:o.at(u),substring:r},p=o.slice(0,u-1).map((h,m)=>{if(typeof h=="string")return h;if(typeof h>"u")return f.missingGroupIndices.push(m),"";throw new Error(`Unexpected argument type: ${typeof h}`)});return n(f,...p)??f.substring}))}function _u(t,e,n){if(t.endsWith(e))return t.slice(0,-e.length);if(n)throw new Error(`String ${t} does not end with suffix ${e}`);return t}function vn(t,e,n){if(t.startsWith(e))return t.slice(e.length);if(n)throw new Error(`String ${t} does not start with prefix ${e}`);return t}(function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e})();var Lg=/[a-zA-Z]:\/[^:]*$/,Dt=Gs.default.posix,uk=Dt.delimiter,ck=Gs.default.posix.sep,qe=Dt.basename,oe=Dt.dirname,xt=Dt.extname,fk=Dt.format;var ge=Dt.join,dk=Dt.normalize,hk=Dt.parse,jn=Dt.relative;function Fu(t,e){return e?`${t}.${e}`:t}function Pu(...t){let e=Dt.resolve(...t);return e=Rg(e),Lg.exec(e)?.[0]??e}function Rg(t){return Ge(t,"\\","/")}(function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e})();var Ng="base",Wg="canvas",Ii="md";function qs(t,e,n){if(st(e))return e.extension===n;if(typeof e=="string"){let r=fe(t,e);return r?r.extension===n:xt(e).slice(1)===n}return!1}function Mr(t,e,n){if(e===null)return null;if(Ou(e))return e;let r=Du(t,e,n);if(r)return r;let o=Ru(e);return o===e?null:Du(t,o,n)}function ve(t,e,n,r){let o=fe(t,e,r);if(!o)if(n)o=gu(t,e);else throw new Error(`File not found: ${e}`);return o}function fe(t,e,n){let r=Mr(t,e,n);return st(r)?r:null}function Gn(t,e,n,r){let o=Et(t,e,r);if(!o)if(n)o=Ti(t,e);else throw new Error(`Folder not found: ${e}`);return o}function Et(t,e,n){let r=Mr(t,e,n);return Or(r)?r:null}function Iu(t,e,n){let r=Gn(t,e),o=[];return n?It.Vault.recurseChildren(r,s=>{be(t,s)&&o.push(s)}):o=r.children.filter(s=>be(t,s)),o=o.sort((s,l)=>s.path.localeCompare(l.path)),o}async function Mu(t,e){let n=fe(t,e);if(n)return n;let r=vt(e);return await Bg(t,r),await t.vault.create(e,"")}async function Bg(t,e){let n=Et(t,e);return n||await t.vault.createFolder(e)}function he(t,e){if(Ou(e))return e.path;let n=Mr(t,e);return n?n.path:Ru(e)}function Ou(t){return t instanceof It.TAbstractFile}function Yg(t,e){return qs(t,e,Ng)}function An(t,e){return qs(t,e,Wg)}function st(t){return t instanceof It.TFile}function Or(t){return t instanceof It.TFolder}function be(t,e){return qs(t,e,Ii)}function Lr(t,e){return be(t,e)||An(t,e)||Yg(t,e)}function Lu(t,e){return be(t,e)?_u(e.path,`.${Ii}`):e.path}function Du(t,e,n){return n?t.vault.getAbstractFileByPathInsensitive(e):t.vault.getAbstractFileByPath(e)}function Ru(t){return(0,It.normalizePath)(Pu("/",t))}var ic=require("obsidian");var ta=it(qu(),1);(function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e})();var Js="38.5.0",Wi="obsidian-dev-utils",Ku=`.obsidian-dev-utils.code-highlighter-component textarea, .obsidian-dev-utils.code-highlighter-component pre, .obsidian-dev-utils.code-highlighter-component code {
  font-family: var(--font-monospace);
  line-height: var(--line-height-normal);
  margin: 0;
}
.obsidian-dev-utils.code-highlighter-component textarea, .obsidian-dev-utils.code-highlighter-component code {
  font-size: var(--code-size);
}
.obsidian-dev-utils.code-highlighter-component textarea {
  background: transparent;
  color: transparent;
  z-index: 2;
  width: 20em;
  height: 10em;
}
.obsidian-dev-utils.code-highlighter-component pre {
  position: absolute;
  pointer-events: none;
  border: var(--input-border-width) solid transparent;
  overflow: auto;
  inset: 0;
  padding: var(--size-4-1) var(--size-4-2);
  z-index: 1;
}
.obsidian-dev-utils.code-highlighter-component pre::after {
  content: "";
  display: block;
  height: var(--bottom-gap, 0);
}
.obsidian-dev-utils.code-highlighter-component pre.is-placeholder {
  opacity: 0.6;
}
.obsidian-dev-utils.code-highlighter-component code {
  display: block;
  padding: 0;
}

.obsidian-dev-utils input[type=url] {
  height: var(--input-height);
}
.obsidian-dev-utils input[type=month],
.obsidian-dev-utils input[type=tel],
.obsidian-dev-utils input[type=time],
.obsidian-dev-utils input[type=url],
.obsidian-dev-utils input[type=week] {
  -webkit-app-region: no-drag;
  background: var(--background-modifier-form-field);
  border: var(--input-border-width) solid var(--background-modifier-border);
  color: var(--text-normal);
  font-family: inherit;
  padding: var(--size-4-1) var(--size-4-2);
  font-size: var(--font-ui-small);
  border-radius: var(--input-radius);
  outline: none;
}
@media (hover: hover) {
  .obsidian-dev-utils input[type=month]:hover,
  .obsidian-dev-utils input[type=tel]:hover,
  .obsidian-dev-utils input[type=time]:hover,
  .obsidian-dev-utils input[type=url]:hover,
  .obsidian-dev-utils input[type=week]:hover {
    border-color: var(--background-modifier-border-hover);
    transition: box-shadow 0.15s ease-in-out, border 0.15s ease-in-out;
  }
}
.obsidian-dev-utils input[type=month]:active, .obsidian-dev-utils input[type=month]:focus,
.obsidian-dev-utils input[type=tel]:active,
.obsidian-dev-utils input[type=tel]:focus,
.obsidian-dev-utils input[type=time]:active,
.obsidian-dev-utils input[type=time]:focus,
.obsidian-dev-utils input[type=url]:active,
.obsidian-dev-utils input[type=url]:focus,
.obsidian-dev-utils input[type=week]:active,
.obsidian-dev-utils input[type=week]:focus {
  border-color: var(--background-modifier-border-focus);
  transition: box-shadow 0.15s ease-in-out, border 0.15s ease-in-out;
}
.obsidian-dev-utils input[type=month]:active, .obsidian-dev-utils input[type=month]:focus, .obsidian-dev-utils input[type=month]:focus-visible,
.obsidian-dev-utils input[type=tel]:active,
.obsidian-dev-utils input[type=tel]:focus,
.obsidian-dev-utils input[type=tel]:focus-visible,
.obsidian-dev-utils input[type=time]:active,
.obsidian-dev-utils input[type=time]:focus,
.obsidian-dev-utils input[type=time]:focus-visible,
.obsidian-dev-utils input[type=url]:active,
.obsidian-dev-utils input[type=url]:focus,
.obsidian-dev-utils input[type=url]:focus-visible,
.obsidian-dev-utils input[type=week]:active,
.obsidian-dev-utils input[type=week]:focus,
.obsidian-dev-utils input[type=week]:focus-visible {
  box-shadow: 0 0 0 2px var(--background-modifier-border-focus);
}
.obsidian-dev-utils input[type=month]::placeholder,
.obsidian-dev-utils input[type=tel]::placeholder,
.obsidian-dev-utils input[type=time]::placeholder,
.obsidian-dev-utils input[type=url]::placeholder,
.obsidian-dev-utils input[type=week]::placeholder {
  color: var(--text-faint);
}
.mod-rtl input[type=month],
.mod-rtl input[type=time],
.mod-rtl input[type=week],
.is-rtl input[type=month],
.is-rtl input[type=time],
.is-rtl input[type=week],
.rtl input[type=month],
.rtl input[type=time],
.rtl input[type=week] {
  direction: rtl;
}
.mod-rtl input[type=month]::-webkit-calendar-picker-indicator,
.mod-rtl input[type=time]::-webkit-calendar-picker-indicator,
.mod-rtl input[type=week]::-webkit-calendar-picker-indicator,
.is-rtl input[type=month]::-webkit-calendar-picker-indicator,
.is-rtl input[type=time]::-webkit-calendar-picker-indicator,
.is-rtl input[type=week]::-webkit-calendar-picker-indicator,
.rtl input[type=month]::-webkit-calendar-picker-indicator,
.rtl input[type=time]::-webkit-calendar-picker-indicator,
.rtl input[type=week]::-webkit-calendar-picker-indicator {
  right: var(--size-4-1);
  left: auto;
}

.obsidian-dev-utils input[type=month],
.obsidian-dev-utils input[type=time],
.obsidian-dev-utils input[type=week] {
  font-variant-numeric: tabular-nums;
  position: relative;
}
.obsidian-dev-utils input[type=month]::-webkit-datetime-edit-text,
.obsidian-dev-utils input[type=time]::-webkit-datetime-edit-text,
.obsidian-dev-utils input[type=week]::-webkit-datetime-edit-text {
  color: var(--text-faint);
  padding-inline-end: 0;
}
.obsidian-dev-utils input[type=month]::-webkit-calendar-picker-indicator,
.obsidian-dev-utils input[type=time]::-webkit-calendar-picker-indicator,
.obsidian-dev-utils input[type=week]::-webkit-calendar-picker-indicator {
  position: absolute;
  left: var(--size-4-1);
  right: auto;
  opacity: 0.5;
}
.obsidian-dev-utils input[type=month]::-webkit-datetime-edit-month-field:active, .obsidian-dev-utils input[type=month]::-webkit-datetime-edit-month-field:focus, .obsidian-dev-utils input[type=month]::-webkit-datetime-edit-day-field:active, .obsidian-dev-utils input[type=month]::-webkit-datetime-edit-day-field:focus, .obsidian-dev-utils input[type=month]::-webkit-datetime-edit-year-field:active, .obsidian-dev-utils input[type=month]::-webkit-datetime-edit-year-field:focus,
.obsidian-dev-utils input[type=time]::-webkit-datetime-edit-month-field:active,
.obsidian-dev-utils input[type=time]::-webkit-datetime-edit-month-field:focus,
.obsidian-dev-utils input[type=time]::-webkit-datetime-edit-day-field:active,
.obsidian-dev-utils input[type=time]::-webkit-datetime-edit-day-field:focus,
.obsidian-dev-utils input[type=time]::-webkit-datetime-edit-year-field:active,
.obsidian-dev-utils input[type=time]::-webkit-datetime-edit-year-field:focus,
.obsidian-dev-utils input[type=week]::-webkit-datetime-edit-month-field:active,
.obsidian-dev-utils input[type=week]::-webkit-datetime-edit-month-field:focus,
.obsidian-dev-utils input[type=week]::-webkit-datetime-edit-day-field:active,
.obsidian-dev-utils input[type=week]::-webkit-datetime-edit-day-field:focus,
.obsidian-dev-utils input[type=week]::-webkit-datetime-edit-year-field:active,
.obsidian-dev-utils input[type=week]::-webkit-datetime-edit-year-field:focus {
  background-color: var(--text-selection);
  color: var(--text-normal);
  cursor: text;
}
.mod-rtl .obsidian-dev-utils input[type=month], .is-rtl .obsidian-dev-utils input[type=month], .rtl .obsidian-dev-utils input[type=month],
.mod-rtl .obsidian-dev-utils input[type=time],
.is-rtl .obsidian-dev-utils input[type=time],
.rtl .obsidian-dev-utils input[type=time],
.mod-rtl .obsidian-dev-utils input[type=week],
.is-rtl .obsidian-dev-utils input[type=week],
.rtl .obsidian-dev-utils input[type=week] {
  direction: rtl;
}
.mod-rtl .obsidian-dev-utils input[type=month]::-webkit-calendar-picker-indicator, .is-rtl .obsidian-dev-utils input[type=month]::-webkit-calendar-picker-indicator, .rtl .obsidian-dev-utils input[type=month]::-webkit-calendar-picker-indicator,
.mod-rtl .obsidian-dev-utils input[type=time]::-webkit-calendar-picker-indicator,
.is-rtl .obsidian-dev-utils input[type=time]::-webkit-calendar-picker-indicator,
.rtl .obsidian-dev-utils input[type=time]::-webkit-calendar-picker-indicator,
.mod-rtl .obsidian-dev-utils input[type=week]::-webkit-calendar-picker-indicator,
.is-rtl .obsidian-dev-utils input[type=week]::-webkit-calendar-picker-indicator,
.rtl .obsidian-dev-utils input[type=week]::-webkit-calendar-picker-indicator {
  left: auto;
  right: var(--size-4-1);
}

body:not(.is-ios):not(.is-android) .obsidian-dev-utils input[type=month],
body:not(.is-ios):not(.is-android) .obsidian-dev-utils input[type=time],
body:not(.is-ios):not(.is-android) .obsidian-dev-utils input[type=week] {
  padding-inline-start: var(--size-4-6);
}

.obsidian-dev-utils input[type=time]::-webkit-calendar-picker-indicator {
  margin-inline-start: 0;
}

.obsidian-dev-utils.modal-container .ok-button {
  margin-right: 10px;
  margin-top: 20px;
}

.obsidian-dev-utils .multiple-dropdown-component select,
.obsidian-dev-utils .multiple-dropdown-component select:focus,
.obsidian-dev-utils .multiple-dropdown-component .dropdown {
  height: auto;
  padding-top: 3px;
}
.obsidian-dev-utils .multiple-dropdown-component select option:checked,
.obsidian-dev-utils .multiple-dropdown-component select:focus option:checked,
.obsidian-dev-utils .multiple-dropdown-component .dropdown option:checked {
  background-color: #1967d2;
  color: #fff;
}

.obsidian-dev-utils.prompt-modal .text-box {
  width: 100%;
}

.obsidian-dev-utils.tri-state-checkbox-component input[type=checkbox]:indeterminate {
  appearance: checkbox;
}

.obsidian-dev-utils :invalid {
  box-shadow: 0 0 0 2px var(--text-error);
}
.obsidian-dev-utils input.metadata-input-text:active:invalid, .obsidian-dev-utils input.metadata-input-text:focus-visible:invalid, .obsidian-dev-utils input.metadata-input-text:focus:invalid,
.obsidian-dev-utils input[type=date]:active:invalid,
.obsidian-dev-utils input[type=date]:focus-visible:invalid,
.obsidian-dev-utils input[type=date]:focus:invalid,
.obsidian-dev-utils input[type=datetime-local]:active:invalid,
.obsidian-dev-utils input[type=datetime-local]:focus-visible:invalid,
.obsidian-dev-utils input[type=datetime-local]:focus:invalid,
.obsidian-dev-utils input[type=email]:active:invalid,
.obsidian-dev-utils input[type=email]:focus-visible:invalid,
.obsidian-dev-utils input[type=email]:focus:invalid,
.obsidian-dev-utils input[type=number]:active:invalid,
.obsidian-dev-utils input[type=number]:focus-visible:invalid,
.obsidian-dev-utils input[type=number]:focus:invalid,
.obsidian-dev-utils input[type=password]:active:invalid,
.obsidian-dev-utils input[type=password]:focus-visible:invalid,
.obsidian-dev-utils input[type=password]:focus:invalid,
.obsidian-dev-utils input[type=search]:active:invalid,
.obsidian-dev-utils input[type=search]:focus-visible:invalid,
.obsidian-dev-utils input[type=search]:focus:invalid,
.obsidian-dev-utils input[type=text]:active:invalid,
.obsidian-dev-utils input[type=text]:focus-visible:invalid,
.obsidian-dev-utils input[type=text]:focus:invalid,
.obsidian-dev-utils textarea:active:invalid,
.obsidian-dev-utils textarea:focus-visible:invalid,
.obsidian-dev-utils textarea:focus:invalid {
  box-shadow: 0 0 0 2px var(--text-error);
}
.obsidian-dev-utils.setting-component-wrapper {
  position: relative;
  display: inline-flex;
}
.obsidian-dev-utils.overlay-validator {
  caret-color: transparent;
  cursor: default;
  position: absolute;
  background-color: transparent;
  border: none;
  outline: none;
  pointer-events: none;
  z-index: 9999;
  left: 0;
  top: 0;
  width: 100%;
  height: 100%;
}
.obsidian-dev-utils.tooltip.tooltip-validator {
  position: absolute;
  top: calc(100% + 8px);
  width: max-content;
}

/*# sourceMappingURL=data:application/json;charset=utf-8,%7B%22version%22:3,%22sourceRoot%22:%22%22,%22sources%22:%5B%22../src/styles/code-highlighter-component.scss%22,%22../src/styles/input.scss%22,%22../src/styles/input-time.scss%22,%22../src/styles/modal-container.scss%22,%22../src/styles/multiple-dropdown-component.scss%22,%22../src/styles/prompt-modal.scss%22,%22../src/styles/tri-state-checkbox-component.scss%22,%22../src/styles/validation.scss%22%5D,%22names%22:%5B%5D,%22mappings%22:%22AAEI;EACE;EACA;EACA;;AAGF;EACE;;AAGF;EACE;EACA;EACA;EACA;EACA;;AAGF;EACE;EACA;EACA;EACA;EACA;EACA;EACA;;AAGF;EACE;EACA;EACA;;AAGF;EACE;;AAGF;EACE;EACA;;;ACzCJ;EACE;;AAGF;AAAA;AAAA;AAAA;AAAA;EAKE;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;;AAGE;EACE;AAAA;AAAA;AAAA;AAAA;IACE;IACA,YACE;;;AAMR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;EAEE;EACA,YACE;;AAIJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;EAGE;;AAGF;AAAA;AAAA;AAAA;AAAA;EACE;;AASE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;EAGE;;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;EACE;EACA;;;AC7DV;AAAA;AAAA;EAGE;EACA;;AAEA;AAAA;AAAA;EACE;EACA;;AAGF;AAAA;AAAA;EACE;EACA;EACA;EACA;;AAMA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;EAEE;EACA;EACA;;AAIK;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;EAGP;;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;EACE;EACA;;;AAKF;AAAA;AAAA;EACE;;;AAMJ;EACE;;;AChDF;EACE;EACA;;;ACFF;AAAA;AAAA;EAGE;EACA;;AAEA;AAAA;AAAA;EACE;EACA;;;ACRJ;EACE;;;ACDF;EACE;;;ACEJ;EAJA;;AAoBI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;EApBJ;;AA0BA;EACE;EACA;;AAGF;EACE;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;;AAGF;EACE;EACA;EACA%22,%22file%22:%22styles.css%22,%22sourcesContent%22:%5B%22.obsidian-dev-utils%20%7B%5Cn%20%20&.code-highlighter-component%20%7B%5Cn%20%20%20%20textarea,%20pre,%20code%20%7B%5Cn%20%20%20%20%20%20font-family:%20var(--font-monospace);%5Cn%20%20%20%20%20%20line-height:%20var(--line-height-normal);%5Cn%20%20%20%20%20%20margin:%200;%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20textarea,%20code%20%7B%5Cn%20%20%20%20%20%20font-size:%20var(--code-size);%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20textarea%20%7B%5Cn%20%20%20%20%20%20background:%20transparent;%5Cn%20%20%20%20%20%20color:%20transparent;%5Cn%20%20%20%20%20%20z-index:%202;%5Cn%20%20%20%20%20%20width:%2020em;%5Cn%20%20%20%20%20%20height:%2010em;%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20pre%20%7B%5Cn%20%20%20%20%20%20position:%20absolute;%5Cn%20%20%20%20%20%20pointer-events:%20none;%5Cn%20%20%20%20%20%20border:%20var(--input-border-width)%20solid%20transparent;%5Cn%20%20%20%20%20%20overflow:%20auto;%5Cn%20%20%20%20%20%20inset:%200;%5Cn%20%20%20%20%20%20padding:%20var(--size-4-1)%20var(--size-4-2);%5Cn%20%20%20%20%20%20z-index:%201;%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20pre::after%20%7B%5Cn%20%20%20%20%20%20content:%20%5C%22%5C%22;%5Cn%20%20%20%20%20%20display:%20block;%5Cn%20%20%20%20%20%20height:%20var(--bottom-gap,%200);%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20pre.is-placeholder%20%7B%5Cn%20%20%20%20%20%20opacity:%200.6;%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20code%20%7B%5Cn%20%20%20%20%20%20display:%20block;%5Cn%20%20%20%20%20%20padding:%200;%5Cn%20%20%20%20%7D%5Cn%20%20%7D%5Cn%7D%5Cn%22,%22.obsidian-dev-utils%20%7B%5Cn%20%20input%5Btype='url'%5D%20%7B%5Cn%20%20%20%20height:%20var(--input-height)%5Cn%20%20%7D%5Cn%5Cn%20%20input%5Btype='month'%5D,%5Cn%20%20input%5Btype='tel'%5D,%5Cn%20%20input%5Btype='time'%5D,%5Cn%20%20input%5Btype='url'%5D,%5Cn%20%20input%5Btype='week'%5D%20%7B%5Cn%20%20%20%20-webkit-app-region:%20no-drag;%5Cn%20%20%20%20background:%20var(--background-modifier-form-field);%5Cn%20%20%20%20border:%20var(--input-border-width)%20solid%20var(--background-modifier-border);%5Cn%20%20%20%20color:%20var(--text-normal);%5Cn%20%20%20%20font-family:%20inherit;%5Cn%20%20%20%20padding:%20var(--size-4-1)%20var(--size-4-2);%5Cn%20%20%20%20font-size:%20var(--font-ui-small);%5Cn%20%20%20%20border-radius:%20var(--input-radius);%5Cn%20%20%20%20outline:%20none;%5Cn%5Cn%20%20%20%20@at-root%20%7B%5Cn%20%20%20%20%20%20@media%20(hover:%20hover)%20%7B%5Cn%20%20%20%20%20%20%20%20&:hover%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20border-color:%20var(--background-modifier-border-hover);%5Cn%20%20%20%20%20%20%20%20%20%20transition:%5Cn%20%20%20%20%20%20%20%20%20%20%20%20box-shadow%200.15s%20ease-in-out,%5Cn%20%20%20%20%20%20%20%20%20%20%20%20border%200.15s%20ease-in-out;%5Cn%20%20%20%20%20%20%20%20%7D%5Cn%20%20%20%20%20%20%7D%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20&:active,%5Cn%20%20%20%20&:focus%20%7B%5Cn%20%20%20%20%20%20border-color:%20var(--background-modifier-border-focus);%5Cn%20%20%20%20%20%20transition:%5Cn%20%20%20%20%20%20%20%20box-shadow%200.15s%20ease-in-out,%5Cn%20%20%20%20%20%20%20%20border%200.15s%20ease-in-out;%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20&:active,%5Cn%20%20%20%20&:focus,%5Cn%20%20%20%20&:focus-visible%20%7B%5Cn%20%20%20%20%20%20box-shadow:%200%200%200%202px%20var(--background-modifier-border-focus);%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20&::placeholder%20%7B%5Cn%20%20%20%20%20%20color:%20var(--text-faint);%5Cn%20%20%20%20%7D%5Cn%20%20%7D%5Cn%5Cn%20%20@at-root%20%7B%5Cn%20%20%20%20.mod-rtl,%5Cn%20%20%20%20.is-rtl,%5Cn%20%20%20%20.rtl%20%7B%5Cn%20%20%20%20%20%20&%20%7B%5Cn%20%20%20%20%20%20%20%20input%5Btype='month'%5D,%5Cn%20%20%20%20%20%20%20%20input%5Btype='time'%5D,%5Cn%20%20%20%20%20%20%20%20input%5Btype='week'%5D%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20direction:%20rtl;%5Cn%5Cn%20%20%20%20%20%20%20%20%20%20&::-webkit-calendar-picker-indicator%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20right:%20var(--size-4-1);%5Cn%20%20%20%20%20%20%20%20%20%20%20%20left:%20auto;%5Cn%20%20%20%20%20%20%20%20%20%20%7D%5Cn%20%20%20%20%20%20%20%20%7D%5Cn%20%20%20%20%20%20%7D%5Cn%20%20%20%20%7D%5Cn%20%20%7D%5Cn%7D%5Cn%22,%22.obsidian-dev-utils%20%7B%5Cn%20%20input%5Btype='month'%5D,%5Cn%20%20input%5Btype='time'%5D,%5Cn%20%20input%5Btype='week'%5D%20%7B%5Cn%20%20%20%20font-variant-numeric:%20tabular-nums;%5Cn%20%20%20%20position:%20relative;%5Cn%5Cn%20%20%20%20&::-webkit-datetime-edit-text%20%7B%5Cn%20%20%20%20%20%20color:%20var(--text-faint);%5Cn%20%20%20%20%20%20padding-inline-end:%200;%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20&::-webkit-calendar-picker-indicator%20%7B%5Cn%20%20%20%20%20%20position:%20absolute;%5Cn%20%20%20%20%20%20left:%20var(--size-4-1);%5Cn%20%20%20%20%20%20right:%20auto;%5Cn%20%20%20%20%20%20opacity:%200.5;%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20&::-webkit-datetime-edit-month-field,%5Cn%20%20%20%20&::-webkit-datetime-edit-day-field,%5Cn%20%20%20%20&::-webkit-datetime-edit-year-field%20%7B%5Cn%20%20%20%20%20%20&:active,%5Cn%20%20%20%20%20%20&:focus%20%7B%5Cn%20%20%20%20%20%20%20%20background-color:%20var(--text-selection);%5Cn%20%20%20%20%20%20%20%20color:%20var(--text-normal);%5Cn%20%20%20%20%20%20%20%20cursor:%20text;%5Cn%20%20%20%20%20%20%7D%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20@at-root%20.mod-rtl%20&,%5Cn%20%20%20%20%20%20.is-rtl%20&,%5Cn%20%20%20%20%20%20.rtl%20&%20%7B%5Cn%20%20%20%20%20%20direction:%20rtl;%5Cn%5Cn%20%20%20%20%20%20&::-webkit-calendar-picker-indicator%20%7B%5Cn%20%20%20%20%20%20%20%20left:%20auto;%5Cn%20%20%20%20%20%20%20%20right:%20var(--size-4-1);%5Cn%20%20%20%20%20%20%7D%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20@at-root%20%7B%5Cn%20%20%20%20%20%20body:not(.is-ios):not(.is-android)%20&%20%7B%5Cn%20%20%20%20%20%20%20%20padding-inline-start:%20var(--size-4-6);%5Cn%20%20%20%20%20%20%7D%5Cn%20%20%20%20%7D%5Cn%20%20%7D%5Cn%5Cn%20%20input%5Btype='time'%5D%20%7B%5Cn%20%20%20%20&::-webkit-calendar-picker-indicator%20%7B%5Cn%20%20%20%20%20%20margin-inline-start:%200;%5Cn%20%20%20%20%7D%5Cn%20%20%7D%5Cn%7D%5Cn%22,%22.obsidian-dev-utils%20%7B%5Cn%20%20&.modal-container%20%7B%5Cn%20%20%20%20.ok-button%20%7B%5Cn%20%20%20%20%20%20margin-right:%2010px;%5Cn%20%20%20%20%20%20margin-top:%2020px;%5Cn%20%20%20%20%7D%5Cn%20%20%7D%5Cn%7D%5Cn%22,%22.obsidian-dev-utils%20%7B%5Cn%20%20.multiple-dropdown-component%20%7B%5Cn%20%20%20%20select,%5Cn%20%20%20%20select:focus,%5Cn%20%20%20%20.dropdown%20%7B%5Cn%20%20%20%20%20%20height:%20auto;%5Cn%20%20%20%20%20%20padding-top:%203px;%5Cn%5Cn%20%20%20%20%20%20option:checked%20%7B%5Cn%20%20%20%20%20%20%20%20background-color:%20%231967d2;%5Cn%20%20%20%20%20%20%20%20color:%20%23fff;%5Cn%20%20%20%20%20%20%7D%5Cn%20%20%20%20%7D%5Cn%20%20%7D%5Cn%7D%5Cn%22,%22.obsidian-dev-utils%20%7B%5Cn%20%20&.prompt-modal%20%7B%5Cn%20%20%20%20.text-box%20%7B%5Cn%20%20%20%20%20%20width:%20100%25;%5Cn%20%20%20%20%7D%5Cn%20%20%7D%5Cn%7D%5Cn%22,%22.obsidian-dev-utils%20%7B%5Cr%5Cn%20%20&.tri-state-checkbox-component%20%7B%5Cr%5Cn%20%20%20%20input%5Btype='checkbox'%5D:indeterminate%20%7B%5Cr%5Cn%20%20%20%20%20%20appearance:%20checkbox;%5Cr%5Cn%20%20%20%20%7D%5Cr%5Cn%20%20%7D%5Cr%5Cn%7D%5Cr%5Cn%22,%22@mixin%20invalid%20%7B%5Cn%20%20box-shadow:%200%200%200%202px%20var(--text-error);%5Cn%7D%5Cn%5Cn.obsidian-dev-utils%20%7B%5Cn%20%20:invalid%20%7B%5Cn%20%20%20%20@include%20invalid;%5Cn%20%20%7D%5Cn%5Cn%20%20input.metadata-input-text,%5Cn%20%20input%5Btype='date'%5D,%5Cn%20%20input%5Btype='datetime-local'%5D,%5Cn%20%20input%5Btype='email'%5D,%5Cn%20%20input%5Btype='number'%5D,%5Cn%20%20input%5Btype='password'%5D,%5Cn%20%20input%5Btype='search'%5D,%5Cn%20%20input%5Btype='text'%5D,%5Cn%20%20textarea%20%7B%5Cn%20%20%20%20&:active,%5Cn%20%20%20%20&:focus-visible,%5Cn%20%20%20%20&:focus%20%7B%5Cn%20%20%20%20%20%20&:invalid%20%7B%5Cn%20%20%20%20%20%20%20%20@include%20invalid;%5Cn%20%20%20%20%20%20%7D%5Cn%20%20%20%20%7D%5Cn%20%20%7D%5Cn%5Cn%20%20&.setting-component-wrapper%20%7B%5Cn%20%20%20%20position:%20relative;%5Cn%20%20%20%20display:%20inline-flex;%5Cn%20%20%7D%5Cn%5Cn%20%20&.overlay-validator%20%7B%5Cn%20%20%20%20caret-color:%20transparent;%5Cn%20%20%20%20cursor:%20default;%5Cn%20%20%20%20position:%20absolute;%5Cn%20%20%20%20background-color:%20transparent;%5Cn%20%20%20%20border:%20none;%5Cn%20%20%20%20outline:%20none;%5Cn%20%20%20%20pointer-events:%20none;%5Cn%20%20%20%20z-index:%209999;%5Cn%20%20%20%20left:%200;%5Cn%20%20%20%20top:%200;%5Cn%20%20%20%20width:%20100%25;%5Cn%20%20%20%20height:%20100%25;%5Cn%20%20%7D%5Cn%5Cn%20%20&.tooltip.tooltip-validator%20%7B%5Cn%20%20%20%20position:%20absolute;%5Cn%20%20%20%20top:%20calc(100%25%20+%208px);%5Cn%20%20%20%20width:%20max-content;%5Cn%20%20%7D%5Cn%7D%5Cn%22%5D%7D */
`;(function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e})();var Xs=class{constructor(e){this.value=e}};function f0(){try{return globalThis.require("obsidian/app")}catch{return globalThis.app??kn(new Error("Obsidian app not found"))}}function Gt(t,e,n){let o=t??d0()??globalThis;return o.obsidianDevUtilsState??={},o.obsidianDevUtilsState[e]??=new Xs(n)}function d0(){return typeof window>"u"?null:f0()}(function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e})();var ea="__no-plugin-id-initialized__",Zu=ea;function Bi(){return Zu}function Qu(t){t&&(Zu=t)}(function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e})();var Ju=",",Yi="-";function Xu(){return{disable:h0,enable:p0,get:Vi,set:Rr}}function Qn(t,e=0){let n=`${t}:${String(e)}`,r=Gt(null,"debuggers",new Map).value,o=r.get(n);return o||(o=Nr()(t),o.log=(s,...l)=>{m0(t,e,s,...l)},r.set(n,o)),o}function Je(t){let e=Bi(),n=e===ea?"":`${e}:`;return Qn(`${n}${Wi}:${t}`)}function qt(t,e,n,...r){if(!tc()){t(n,...r);return}t(n,...r,`

---
Context stack trace:
`,nc(e))}function ec(t){let e=Nr().enabled(t),n=e?"enabled":"disabled",r=e?"disable":"enable",o=Vi();Rr(t),Qn(t)(`Debug messages for plugin ${t} are ${n}. See https://github.com/mnaoumov/obsidian-dev-utils/blob/main/docs/debugging.md how to ${r} them.`),Rr(o)}function h0(t){let e=new Set(Vi());for(let n of Wr(t)){if(n.startsWith(Yi))continue;let r=Yi+n;e.has(n)&&e.delete(n),e.add(r)}Rr(Array.from(e))}function p0(t){let e=new Set(Vi());for(let n of Wr(t)){if(!n.startsWith(Yi)){let r=Yi+n;e.has(r)&&e.delete(r)}e.add(n)}Rr(Array.from(e))}function Vi(){return Wr(Nr().load()??"")}function Nr(){return typeof window>"u"?ta.default:Gt(null,"debug",ta.default).value}function tc(){return typeof window<"u"}function m0(t,e,n,...r){if(!Nr().enabled(t))return;if(!tc()){console.debug(n,...r);return}let o=4,s=new Error().stack?.split(`
`)??[];s.splice(0,o+e),console.debug(n,...r,`

---
Logger stack trace:
`,nc(s.join(`
`)))}function nc(t){return new Ct("Debug mode: intentional placeholder error. See https://github.com/mnaoumov/obsidian-dev-utils/blob/main/docs/debugging.md.",t,void 0)}function Rr(t){Nr().enable(Wr(t).join(Ju))}function Wr(t){return typeof t=="string"?t.split(Ju).filter(Boolean):t.flatMap(Wr)}(function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e})();async function na(t,e){e??=Ve(1);try{await t()}catch(n){if(n instanceof $n){g0(n,e);return}Pi(new Ct(Fi,e,n))}}function Jn(t,e){return e??=Ve(1),(...n)=>{let r=Ve(1);e=`${e??""}
    at --- convertAsyncToSync --- (0)
${r}`,lt(()=>t(...n),e)}}function lt(t,e){e??=Ve(1),na(t,e)}function rc(t,e=0,n,r){r??=Ie(),r.throwIfAborted(),n??=Ve(1),lt(async()=>{await ia(e,r,!0),await t(r)},n)}function g0(t,e){Je("Async:printSilentError")("Silent error",{error:t,stackTrace:e})}var w0=new WeakSet,zi=class{constructor(e){this.result=e}};async function Ui(){return new Promise(t=>{requestAnimationFrame(()=>{t()})})}async function $i(t,e,n){let r=Je("Async:retryWithTimeout");n??=Ve(1);let s={...{retryDelayInMilliseconds:100,shouldRetryOnError:!1,timeoutInMilliseconds:5e3},...e};s.abortSignal?.throwIfAborted(),await ra(s.timeoutInMilliseconds,async l=>{let u=Fr(s.abortSignal,l);u.throwIfAborted();let f=0;for(;!u.aborted;){f++;let p;try{p=await t(u)}catch(h){if(u.aborted||!s.shouldRetryOnError||w0.has(h))throw new Ct("retryWithTimeout failed",n,h);Dr(h),p=!1}if(p){qt(r,n,`Retry completed successfully after ${String(f)} attempts`,{fn:t});return}qt(r,n,`Retry attempt ${String(f)} completed unsuccessfully. Trying again in ${String(s.retryDelayInMilliseconds)} milliseconds`,{fn:t}),await ia(s.retryDelayInMilliseconds,l)}},{retryFn:t},n)}async function ra(t,e,n,r){r??=Ve(1);let o=performance.now(),s=new AbortController;if(await Promise.race([l(),u()]),s.signal.reason instanceof zi)return s.signal.reason.result;throw new Ct("Run with timeout failed",r,s.signal.reason);async function l(){try{let f=await e(s.signal),p=performance.now()-o,h=Je("Async:runWithTimeout");qt(h,r??"",`Execution time: ${String(p)} milliseconds`,{context:n,fn:e}),s.abort(new zi(f))}catch(f){s.abort(f)}}async function u(){for(;!s.signal.aborted;){if(await ia(t,s.signal),s.signal.aborted)return;let f=performance.now()-o;console.warn(`Timed out after ${String(f)} milliseconds`,{context:n,fn:e});let p=Je("Async:runWithTimeout:timeout");if(!p.enabled){s.abort(new Error(`Timed out after ${String(f)} milliseconds`));return}p(`The execution is not terminated because debugger ${p.namespace} is enabled. See https://github.com/mnaoumov/obsidian-dev-utils/blob/main/docs/debugging.md for more information.`)}}}async function ia(t,e,n){await Au(Fr(e,ku(t))),n&&e?.throwIfAborted()}(function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e})();async function xn(t){let n={...{abortSignal:Ie(),buildNoticeMessage(){throw new Error("buildNoticeMessage is required")},items:[],noticeMinTimeoutInMilliseconds:2e3,processItem:Qe,progressBarTitle:"",shouldContinueOnError:!0,shouldShowProgressBar:!0,uiUpdateThresholdInMilliseconds:100},...t},r=Ve(1),o=n.items,s=0,l=null;n.shouldShowProgressBar&&(l=new ic.Notice("",0));let u=sleep(n.noticeMinTimeoutInMilliseconds),f=createEl("progress");if(f.max=o.length,n.shouldShowProgressBar){let h=createFragment();h.createDiv({text:n.progressBarTitle}),h.appendChild(f),l?.setMessage(h)}let p=performance.now();for(let h of o){if(n.abortSignal.aborted){l?.hide();return}s++;let m=`# ${String(s)} / ${String(o.length)}`,g=n.buildNoticeMessage(h,m);n.shouldShowProgressBar||l?.setMessage(g),Je("Loop")(g);try{performance.now()-p>n.uiUpdateThresholdInMilliseconds&&(await Ui(),p=performance.now()),await n.processItem(h)}catch(y){if(console.error("Error processing item",h),!n.shouldContinueOnError)throw l?.hide(),new Ct("loop failed",r,y);Pi(new Ct(Fi,r,y))}f.value++}await u,l?.hide()}var dc=require("obsidian");(function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e})();var W=(t=>(t.AlertModal="alert-modal",t.CancelButton="cancel-button",t.CheckboxComponent="checkbox-component",t.CodeHighlighterComponent="code-highlighter-component",t.ConfirmModal="confirm-modal",t.DateComponent="date-component",t.DateTimeComponent="datetime-component",t.EmailComponent="email-component",t.FileComponent="file-component",t.IsPlaceholder="is-placeholder",t.LibraryName="obsidian-dev-utils",t.MonthComponent="month-component",t.MultipleDropdownComponent="multiple-dropdown-component",t.MultipleEmailComponent="multiple-email-component",t.MultipleFileComponent="multiple-file-component",t.MultipleTextComponent="multiple-text-component",t.NumberComponent="number-component",t.OkButton="ok-button",t.OverlayValidator="overlay-validator",t.PasswordComponent="password-component",t.PluginSettingsTab="plugin-settings-tab",t.PromptModal="prompt-modal",t.SelectItemModal="select-item-modal",t.SettingComponentWrapper="setting-component-wrapper",t.TelephoneComponent="telephone-component",t.TextBox="text-box",t.TimeComponent="time-component",t.Tooltip="tooltip",t.TooltipArrow="tooltip-arrow",t.TooltipValidator="tooltip-validator",t.TriStateCheckboxComponent="tri-state-checkbox-component",t.TypedDropdownComponent="typed-dropdown-component",t.TypedMultipleDropdownComponent="typed-multiple-dropdown-component",t.UrlComponent="url-component",t.WeekComponent="week-component",t))(W||{});var cc=require("obsidian");var lc=it(sc(),1);(function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e})();var ac=`${Wi}-styles`;function se(t,...e){t.addClass(W.LibraryName,Bi(),...e)}function uc(t,e){Qu(e),ec(e);let n=Gt(t,"lastLibraryVersion","0.0.0");if((0,lc.compareVersions)(Js,n.value)<=0)return;n.value=Js;let r=y0();r.DEBUG=Xu(),document.head.querySelector(`#${ac}`)?.remove(),document.head.createEl("style",{attr:{id:ac},text:Ku})}function y0(){return window}(function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e})();var ji=class extends cc.Modal{constructor(e,n,r){super(e.app),this.resolve=n,se(this.containerEl,r),e.cssClass&&this.containerEl.addClass(e.cssClass)}};async function fc(t){return await new Promise(e=>{t(e).open()})}(function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e})();var oa=class extends ji{options;constructor(e,n){super(e,n,W.AlertModal);let r={app:e.app,cssClass:"",message:e.message,okButtonText:"OK",title:""};this.options={...r,...e}}onClose(){super.onClose(),this.resolve()}onOpen(){super.onOpen(),this.titleEl.setText(this.options.title),this.contentEl.createEl("p",{text:this.options.message});let e=new dc.ButtonComponent(this.contentEl);e.setButtonText(this.options.okButtonText),e.setCta(),e.onClick(this.close.bind(this)),e.setClass(W.OkButton)}};async function Gi(t){await fc(e=>new oa(t,e))}var Qi=require("obsidian");var hc=require("obsidian");(function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e})();var qi=class extends hc.Component{registerAsyncEvent(e){Ki(this,e)}};function Ki(t,e){t.register(()=>{e.asyncEvents.offref(e)})}(function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e})();var Zi=class extends Qi.Plugin{events=new Pt;get abortSignal(){return this._abortSignal}get settings(){return this.settingsManager.settingsWrapper.safeSettings}get settingsManager(){if(!this._settingsManager)throw new Error("Settings manager not defined");return this._settingsManager}get settingsTab(){if(!this._settingsTab)throw new Error("Settings tab not defined");return this._settingsTab}_abortSignal;_settingsManager=null;_settingsTab=null;lifecycleEventNames=new Set;notice;consoleDebug(e,...n){Qn(this.manifest.id,1)(e,...n)}async onExternalSettingsChange(){await super.onExternalSettingsChange?.(),await this._settingsManager?.loadFromFile(!1)}async onload(){await super.onload(),await this.onloadImpl(),rc(this.afterLoad.bind(this))}onunload(){super.onunload(),lt(async()=>{try{await this.onunloadImpl()}finally{await this.triggerLifecycleEvent("unload")}})}registerForLifecycleEvent(e,n){lt(async()=>{await this.waitForLifecycleEvent(e),await n()})}async waitForLifecycleEvent(e){this.lifecycleEventNames.has(e)||await new Promise(n=>{this.events.once(e,()=>{n()})})}createSettingsManager(){return null}createSettingsTab(){return null}async onLayoutReady(){await _t()}async onloadImpl(){uc(this.app,this.manifest.id),this.register(Eu(()=>{this.showNotice("An unhandled error occurred. Please check the console for more information.")})),this._settingsManager=this.createSettingsManager(),this._settingsManager&&(Ki(this,this._settingsManager.on("loadSettings",this.onLoadSettings.bind(this))),Ki(this,this._settingsManager.on("saveSettings",this.onSaveSettings.bind(this)))),await this._settingsManager?.loadFromFile(!0),this._settingsTab=this.createSettingsTab(),this._settingsTab&&this.addSettingTab(this._settingsTab);let e=new AbortController;this._abortSignal=e.signal,this.register(()=>{e.abort(new $n(`Plugin ${this.manifest.id} had been unloaded`))})}async onLoadSettings(e,n){await _t()}async onSaveSettings(e,n,r){await _t()}async onunloadImpl(){await _t()}showNotice(e){this.notice&&this.notice.hide(),this.notice=new Qi.Notice(`${this.manifest.name}
${e}`)}async afterLoad(){this._abortSignal.aborted||(await this.triggerLifecycleEvent("load"),this.app.workspace.onLayoutReady(Jn(this.onLayoutReadyBase.bind(this))))}async onLayoutReadyBase(){try{await this.onLayoutReady()}finally{await this.triggerLifecycleEvent("layoutReady")}}async triggerLifecycleEvent(e){this.lifecycleEventNames.add(e),await this.events.triggerAsync(e)}};(function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e})();async function pc(t,e,n,r){n.throwIfAborted();let o=Je("Logger:invokeAsyncAndLog"),s=performance.now();r??=Ve(1),qt(o,r,`${t}:start`,{fn:e,timestampStart:s});try{await e(n);let l=performance.now(),u=l-s;n.aborted&&(qt(o,r,`${t}:aborted`,{abortReason:n.reason,duration:u,fn:e,timestampEnd:l,timestampStart:s}),n.throwIfAborted()),qt(o,r,`${t}:end`,{duration:u,fn:e,timestampEnd:l,timestampStart:s})}catch(l){let u=performance.now();throw qt(o,r,`${t}:error`,{duration:u-s,error:l,fn:e,timestampEnd:u,timestampStart:s}),l}}(function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e})();function ut(t,e,n,r,o){o??=Ve(1),lt(()=>b0(t,e,n,r,o),o)}async function b0(t,e,n,r,o){n??=Ie(),n.throwIfAborted(),r??=6e4,o??=Ve(1);let l=mc(t).value;l.items.push({abortSignal:n,fn:e,stackTrace:o,timeoutInMilliseconds:r}),l.promise=l.promise.then(()=>gc(t)),await l.promise}function mc(t){return Gt(t,"queue",{items:[],promise:Promise.resolve()})}async function gc(t){let e=mc(t).value,n=e.items[0];n&&(await na(()=>ra(n.timeoutInMilliseconds,r=>pc(gc.name,n.fn,Fr(r,n.abortSignal),n.stackTrace),{queuedFn:n.fn}),n.stackTrace),e.items.shift())}var gd=require("obsidian");(function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e})();var wc=".",k0=[{constructor:ArrayBuffer,equalityComparer:A0},{constructor:Date,equalityComparer:C0},{constructor:RegExp,equalityComparer:E0},{constructor:Map,equalityComparer:x0},{constructor:Set,equalityComparer:S0}];function ct(t,e){if(t===e)return!0;if(typeof t!="object"||typeof e!="object"||t===null||e===null)return!1;let n=t.constructor,r=e.constructor;if(n!==r)return!1;if(n!==Object){let f=T0(t,e);if(f!==void 0)return f}let o=Xn(t),s=Xn(e);if(o.length!==s.length)return!1;let l=t,u=e;for(let f of o)if(!s.includes(f)||!ct(l[f],u[f]))return!1;return!0}function Xn(t){let e=[],n=t;for(;n;){let r=Object.getOwnPropertyDescriptors(n);for(let[o,s]of Object.entries(r)){if(o==="__proto__"||typeof s.value=="function")continue;let l=typeof s.get=="function",u=typeof s.set=="function";if(l||u){l&&u&&e.push(o);continue}s.enumerable&&s.writable&&e.push(o)}n=Object.getPrototypeOf(n)}return e.sort()}function er(t,e){let n=t,r=e.split(wc);for(let o of r){if(n===void 0)return;n=n[o]}return n}function aa(t,e,n){let r=new Error(`Property path ${e} not found`),o=t,s=e.split(wc);for(let u of s.slice(0,-1)){if(o===void 0)throw r;o=o[u]}let l=s.at(-1);if(o===void 0||l===void 0)throw r;o[l]=n}function Ji(t,e={}){let n={functionHandlingMode:"exclude",maxDepth:-1,shouldCatchToJSONErrors:!1,shouldHandleCircularReferences:!1,shouldHandleErrors:!1,shouldHandleUndefined:!1,shouldSortKeys:!1,space:2,tokenSubstitutions:{circularReference:sa("CircularReference"),maxDepthLimitReached:sa("MaxDepthLimitReached"),toJSONFailed:sa("ToJSONFailed")}},r={...n,...e,tokenSubstitutions:{...n.tokenSubstitutions,...e.tokenSubstitutions}};r.maxDepth===-1&&(r.maxDepth=1/0);let o=[],l=Xi(t,"",0,!0,r,o,new WeakSet),u=JSON.stringify(l,null,r.space)??"";return u=Ge(u,/"\[\[(?<Key>[A-Za-z]+)(?<Index>\d*)\]\]"/g,(f,p,h)=>v0({functionTexts:o,index:h?parseInt(h,10):0,key:p,substitutions:r.tokenSubstitutions})),u}function v0(t){switch(t.key){case"CircularReference":return t.substitutions.circularReference;case"Function":return t.functionTexts[t.index]??kn(new Error(`Function with index ${String(t.index)} not found`));case"MaxDepthLimitReached":return t.substitutions.maxDepthLimitReached;case"MaxDepthLimitReachedArray":return`Array(${String(t.index)})`;case"ToJSONFailed":return t.substitutions.toJSONFailed;case"Undefined":return"undefined";default:break}}function A0(t,e){if(t.byteLength!==e.byteLength)return!1;let n=new Uint8Array(t),r=new Uint8Array(e);return ct(n,r)}function C0(t,e){return t.getTime()===e.getTime()}function x0(t,e){if(t.size!==e.size)return!1;for(let[n,r]of t.entries())if(!e.has(n)||!ct(r,e.get(n)))return!1;return!0}function E0(t,e){return t.source===e.source&&t.flags===e.flags}function S0(t,e){if(t.size!==e.size)return!1;for(let n of t){if(e.has(n))continue;let r=!1;for(let o of e)if(ct(n,o)){r=!0;break}if(!r)return!1}return!0}function T0(t,e){for(let{constructor:n,equalityComparer:r}of k0)if(t instanceof n&&e instanceof n)return r(t,e)}function _0(t,e,n,r,o,s){return e>r.maxDepth?tr("MaxDepthLimitReachedArray",t.length):t.map((l,u)=>Xi(l,String(u),e+1,n,r,o,s))}function F0(t,e,n){if(n.shouldHandleCircularReferences)return tr("CircularReference");let r=t.constructor.name||"Object";throw new TypeError(`Converting circular structure to JSON
--> starting at object with constructor '${r}'
--- property '${e}' closes the circle`)}function P0(t,e,n){if(n.functionHandlingMode==="exclude")return;let r=e.length,o=n.functionHandlingMode==="full"?String(t):`function ${t.name||"anonymous"}() { /* ... */ }`;return e.push(o),tr("Function",r)}function D0(t,e,n,r,o,s,l){if(l.has(t))return F0(t,e,o);if(l.add(t),r){let u=M0(t,e,n,o,s,l);if(u!==void 0)return u}return Array.isArray(t)?_0(t,n,r,o,s,l):n>o.maxDepth?tr("MaxDepthLimitReached"):t instanceof Error&&o.shouldHandleErrors?Di(t):I0(t,n,r,o,s,l)}function I0(t,e,n,r,o,s){let l=Object.entries(t);return r.shouldSortKeys&&l.sort(([u],[f])=>u.localeCompare(f)),Object.fromEntries(l.map(([u,f])=>[u,Xi(f,u,e+1,n,r,o,s)]))}function sa(t){return`{ "[[${t}]]": null }`}function tr(t,e){return`[[${t}${e?String(e):""}]]`}function Xi(t,e,n,r,o,s,l){return t===void 0?n===0||o.shouldHandleUndefined?tr("Undefined"):void 0:typeof t=="function"?P0(t,s,o):typeof t!="object"||t===null?t:D0(t,e,n,r,o,s,l)}function M0(t,e,n,r,o,s){let l=t.toJSON;if(typeof l=="function")try{let u=l.call(t,e);return Xi(u,e,n,!1,r,o,s)}catch(u){if(r.shouldCatchToJSONErrors)return tr("ToJSONFailed");throw u}}(function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e})();var O0="__DUMMY__";async function Br(t,e,n,r){let o=he(t,e),s=he(t,n),l=ve(t,s,!0),u=xt(o),f=qe(o,u),p=t.vault.getAvailablePathForAttachments;return p.isExtended?p(f,u.slice(1),l,!0,r):await L0(t,f,u.slice(1),l,!0,r)}async function nr(t,e){return vt(await Br(t,O0,e,!0))}async function L0(t,e,n,r,o,s){let l=t.vault.getConfig("attachmentFolderPath"),u=l==="."||l==="./",f=null;l.startsWith("./")&&(f=vn(l,"./")),u?l=r?r.parent?.path??"":"":f&&(l=(r?r.parent?.getParentPrefix()??"":"")+f),l=Ir(yc(l)),e=Ir(yc(e));let p=Et(t,l,!0);!p&&f&&(o?p=Gn(t,l,!0):p=await t.vault.createFolder(l));let h=p?.getParentPrefix()??"";return s?Fu(h+e,n):t.vault.getAvailablePath(h+e,n)}async function la(t,e){let n=await nr(t,e),r=await nr(t,ge(oe(e),"DUMMY_FILE.md"));return n!==r}function yc(t){return t=Ge(t,/(?:[\\/])+/g,"/"),t=Ge(t,/^\/+|\/+$/g,""),t||"/"}var Po=require("obsidian");var R0={};function En(t,e){let n=e||R0,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,o=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return kc(t,r,o)}function kc(t,e,n){if(N0(t)){if("value"in t)return t.type==="html"&&!n?"":t.value;if(e&&"alt"in t&&t.alt)return t.alt;if("children"in t)return bc(t.children,e,n)}return Array.isArray(t)?bc(t,e,n):""}function bc(t,e,n){let r=[],o=-1;for(;++o<t.length;)r[o]=kc(t[o],e,n);return r.join("")}function N0(t){return!!(t&&typeof t=="object")}var vc=document.createElement("i");function rr(t){let e="&"+t+";";vc.innerHTML=e;let n=vc.textContent;return n.charCodeAt(n.length-1)===59&&t!=="semi"||n===e?!1:n}function Se(t,e,n,r){let o=t.length,s=0,l;if(e<0?e=-e>o?0:o+e:e=e>o?o:e,n=n>0?n:0,r.length<1e4)l=Array.from(r),l.unshift(e,n),t.splice(...l);else for(n&&t.splice(e,n);s<r.length;)l=r.slice(s,s+1e4),l.unshift(e,0),t.splice(...l),s+=1e4,e+=1e4}function ze(t,e){return t.length>0?(Se(t,t.length,0,e),t):e}var Ac={}.hasOwnProperty;function Cc(t){let e={},n=-1;for(;++n<t.length;)W0(e,t[n]);return e}function W0(t,e){let n;for(n in e){let o=(Ac.call(t,n)?t[n]:void 0)||(t[n]={}),s=e[n],l;if(s)for(l in s){Ac.call(o,l)||(o[l]=[]);let u=s[l];B0(o[l],Array.isArray(u)?u:u?[u]:[])}}}function B0(t,e){let n=-1,r=[];for(;++n<e.length;)(e[n].add==="after"?t:r).push(e[n]);Se(t,0,0,r)}function eo(t,e){let n=Number.parseInt(t,e);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"\uFFFD":String.fromCodePoint(n)}function Kt(t){return t.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}var Xe=sn(/[A-Za-z]/),Ue=sn(/[\dA-Za-z]/),xc=sn(/[#-'*+\--9=?A-Z^-~]/);function Yr(t){return t!==null&&(t<32||t===127)}var Vr=sn(/\d/),Ec=sn(/[\dA-Fa-f]/),Sc=sn(/[!-/:-@[-`{-~]/);function R(t){return t!==null&&t<-2}function me(t){return t!==null&&(t<0||t===32)}function $(t){return t===-2||t===-1||t===32}var Tc=sn(/\p{P}|\p{S}/u),_c=sn(/\s/);function sn(t){return e;function e(n){return n!==null&&n>-1&&t.test(String.fromCharCode(n))}}function H(t,e,n,r){let o=r?r-1:Number.POSITIVE_INFINITY,s=0;return l;function l(f){return $(f)?(t.enter(n),u(f)):e(f)}function u(f){return $(f)&&s++<o?(t.consume(f),u):(t.exit(n),e(f))}}var Fc={tokenize:Y0};function Y0(t){let e=t.attempt(this.parser.constructs.contentInitial,r,o),n;return e;function r(u){if(u===null){t.consume(u);return}return t.enter("lineEnding"),t.consume(u),t.exit("lineEnding"),H(t,e,"linePrefix")}function o(u){return t.enter("paragraph"),s(u)}function s(u){let f=t.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=f),n=f,l(u)}function l(u){if(u===null){t.exit("chunkText"),t.exit("paragraph"),t.consume(u);return}return R(u)?(t.consume(u),t.exit("chunkText"),s):(t.consume(u),l)}}var Dc={tokenize:V0},Pc={tokenize:z0};function V0(t){let e=this,n=[],r=0,o,s,l;return u;function u(P){if(r<n.length){let B=n[r];return e.containerState=B[1],t.attempt(B[0].continuation,f,p)(P)}return p(P)}function f(P){if(r++,e.containerState._closeFlow){e.containerState._closeFlow=void 0,o&&_();let B=e.events.length,Y=B,E;for(;Y--;)if(e.events[Y][0]==="exit"&&e.events[Y][1].type==="chunkFlow"){E=e.events[Y][1].end;break}C(r);let Q=B;for(;Q<e.events.length;)e.events[Q][1].end={...E},Q++;return Se(e.events,Y+1,0,e.events.slice(B)),e.events.length=Q,p(P)}return u(P)}function p(P){if(r===n.length){if(!o)return g(P);if(o.currentConstruct&&o.currentConstruct.concrete)return A(P);e.interrupt=!!(o.currentConstruct&&!o._gfmTableDynamicInterruptHack)}return e.containerState={},t.check(Pc,h,m)(P)}function h(P){return o&&_(),C(r),g(P)}function m(P){return e.parser.lazy[e.now().line]=r!==n.length,l=e.now().offset,A(P)}function g(P){return e.containerState={},t.attempt(Pc,y,A)(P)}function y(P){return r++,n.push([e.currentConstruct,e.containerState]),g(P)}function A(P){if(P===null){o&&_(),C(0),t.consume(P);return}return o=o||e.parser.flow(e.now()),t.enter("chunkFlow",{_tokenizer:o,contentType:"flow",previous:s}),F(P)}function F(P){if(P===null){S(t.exit("chunkFlow"),!0),C(0),t.consume(P);return}return R(P)?(t.consume(P),S(t.exit("chunkFlow")),r=0,e.interrupt=void 0,u):(t.consume(P),F)}function S(P,B){let Y=e.sliceStream(P);if(B&&Y.push(null),P.previous=s,s&&(s.next=P),s=P,o.defineSkip(P.start),o.write(Y),e.parser.lazy[P.start.line]){let E=o.events.length;for(;E--;)if(o.events[E][1].start.offset<l&&(!o.events[E][1].end||o.events[E][1].end.offset>l))return;let Q=e.events.length,j=Q,G,ne;for(;j--;)if(e.events[j][0]==="exit"&&e.events[j][1].type==="chunkFlow"){if(G){ne=e.events[j][1].end;break}G=!0}for(C(r),E=Q;E<e.events.length;)e.events[E][1].end={...ne},E++;Se(e.events,j+1,0,e.events.slice(Q)),e.events.length=E}}function C(P){let B=n.length;for(;B-- >P;){let Y=n[B];e.containerState=Y[1],Y[0].exit.call(e,t)}n.length=P}function _(){o.write([null]),s=void 0,o=void 0,e.containerState._closeFlow=void 0}}function z0(t,e,n){return H(t,t.attempt(this.parser.constructs.document,e,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function ir(t){if(t===null||me(t)||_c(t))return 1;if(Tc(t))return 2}function or(t,e,n){let r=[],o=-1;for(;++o<t.length;){let s=t[o].resolveAll;s&&!r.includes(s)&&(e=s(e,n),r.push(s))}return e}var zr={name:"attention",resolveAll:U0,tokenize:$0};function U0(t,e){let n=-1,r,o,s,l,u,f,p,h;for(;++n<t.length;)if(t[n][0]==="enter"&&t[n][1].type==="attentionSequence"&&t[n][1]._close){for(r=n;r--;)if(t[r][0]==="exit"&&t[r][1].type==="attentionSequence"&&t[r][1]._open&&e.sliceSerialize(t[r][1]).charCodeAt(0)===e.sliceSerialize(t[n][1]).charCodeAt(0)){if((t[r][1]._close||t[n][1]._open)&&(t[n][1].end.offset-t[n][1].start.offset)%3&&!((t[r][1].end.offset-t[r][1].start.offset+t[n][1].end.offset-t[n][1].start.offset)%3))continue;f=t[r][1].end.offset-t[r][1].start.offset>1&&t[n][1].end.offset-t[n][1].start.offset>1?2:1;let m={...t[r][1].end},g={...t[n][1].start};Ic(m,-f),Ic(g,f),l={type:f>1?"strongSequence":"emphasisSequence",start:m,end:{...t[r][1].end}},u={type:f>1?"strongSequence":"emphasisSequence",start:{...t[n][1].start},end:g},s={type:f>1?"strongText":"emphasisText",start:{...t[r][1].end},end:{...t[n][1].start}},o={type:f>1?"strong":"emphasis",start:{...l.start},end:{...u.end}},t[r][1].end={...l.start},t[n][1].start={...u.end},p=[],t[r][1].end.offset-t[r][1].start.offset&&(p=ze(p,[["enter",t[r][1],e],["exit",t[r][1],e]])),p=ze(p,[["enter",o,e],["enter",l,e],["exit",l,e],["enter",s,e]]),p=ze(p,or(e.parser.constructs.insideSpan.null,t.slice(r+1,n),e)),p=ze(p,[["exit",s,e],["enter",u,e],["exit",u,e],["exit",o,e]]),t[n][1].end.offset-t[n][1].start.offset?(h=2,p=ze(p,[["enter",t[n][1],e],["exit",t[n][1],e]])):h=0,Se(t,r-1,n-r+3,p),n=r+p.length-h-2;break}}for(n=-1;++n<t.length;)t[n][1].type==="attentionSequence"&&(t[n][1].type="data");return t}function $0(t,e){let n=this.parser.constructs.attentionMarkers.null,r=this.previous,o=ir(r),s;return l;function l(f){return s=f,t.enter("attentionSequence"),u(f)}function u(f){if(f===s)return t.consume(f),u;let p=t.exit("attentionSequence"),h=ir(f),m=!h||h===2&&o||n.includes(f),g=!o||o===2&&h||n.includes(r);return p._open=!!(s===42?m:m&&(o||!g)),p._close=!!(s===42?g:g&&(h||!m)),e(f)}}function Ic(t,e){t.column+=e,t.offset+=e,t._bufferIndex+=e}var ua={name:"autolink",tokenize:H0};function H0(t,e,n){let r=0;return o;function o(y){return t.enter("autolink"),t.enter("autolinkMarker"),t.consume(y),t.exit("autolinkMarker"),t.enter("autolinkProtocol"),s}function s(y){return Xe(y)?(t.consume(y),l):y===64?n(y):p(y)}function l(y){return y===43||y===45||y===46||Ue(y)?(r=1,u(y)):p(y)}function u(y){return y===58?(t.consume(y),r=0,f):(y===43||y===45||y===46||Ue(y))&&r++<32?(t.consume(y),u):(r=0,p(y))}function f(y){return y===62?(t.exit("autolinkProtocol"),t.enter("autolinkMarker"),t.consume(y),t.exit("autolinkMarker"),t.exit("autolink"),e):y===null||y===32||y===60||Yr(y)?n(y):(t.consume(y),f)}function p(y){return y===64?(t.consume(y),h):xc(y)?(t.consume(y),p):n(y)}function h(y){return Ue(y)?m(y):n(y)}function m(y){return y===46?(t.consume(y),r=0,h):y===62?(t.exit("autolinkProtocol").type="autolinkEmail",t.enter("autolinkMarker"),t.consume(y),t.exit("autolinkMarker"),t.exit("autolink"),e):g(y)}function g(y){if((y===45||Ue(y))&&r++<63){let A=y===45?g:m;return t.consume(y),A}return n(y)}}var an={partial:!0,tokenize:j0};function j0(t,e,n){return r;function r(s){return $(s)?H(t,o,"linePrefix")(s):o(s)}function o(s){return s===null||R(s)?e(s):n(s)}}var to={continuation:{tokenize:q0},exit:K0,name:"blockQuote",tokenize:G0};function G0(t,e,n){let r=this;return o;function o(l){if(l===62){let u=r.containerState;return u.open||(t.enter("blockQuote",{_container:!0}),u.open=!0),t.enter("blockQuotePrefix"),t.enter("blockQuoteMarker"),t.consume(l),t.exit("blockQuoteMarker"),s}return n(l)}function s(l){return $(l)?(t.enter("blockQuotePrefixWhitespace"),t.consume(l),t.exit("blockQuotePrefixWhitespace"),t.exit("blockQuotePrefix"),e):(t.exit("blockQuotePrefix"),e(l))}}function q0(t,e,n){let r=this;return o;function o(l){return $(l)?H(t,s,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(l):s(l)}function s(l){return t.attempt(to,e,n)(l)}}function K0(t){t.exit("blockQuote")}var no={name:"characterEscape",tokenize:Z0};function Z0(t,e,n){return r;function r(s){return t.enter("characterEscape"),t.enter("escapeMarker"),t.consume(s),t.exit("escapeMarker"),o}function o(s){return Sc(s)?(t.enter("characterEscapeValue"),t.consume(s),t.exit("characterEscapeValue"),t.exit("characterEscape"),e):n(s)}}var ro={name:"characterReference",tokenize:Q0};function Q0(t,e,n){let r=this,o=0,s,l;return u;function u(m){return t.enter("characterReference"),t.enter("characterReferenceMarker"),t.consume(m),t.exit("characterReferenceMarker"),f}function f(m){return m===35?(t.enter("characterReferenceMarkerNumeric"),t.consume(m),t.exit("characterReferenceMarkerNumeric"),p):(t.enter("characterReferenceValue"),s=31,l=Ue,h(m))}function p(m){return m===88||m===120?(t.enter("characterReferenceMarkerHexadecimal"),t.consume(m),t.exit("characterReferenceMarkerHexadecimal"),t.enter("characterReferenceValue"),s=6,l=Ec,h):(t.enter("characterReferenceValue"),s=7,l=Vr,h(m))}function h(m){if(m===59&&o){let g=t.exit("characterReferenceValue");return l===Ue&&!rr(r.sliceSerialize(g))?n(m):(t.enter("characterReferenceMarker"),t.consume(m),t.exit("characterReferenceMarker"),t.exit("characterReference"),e)}return l(m)&&o++<s?(t.consume(m),h):n(m)}}var Mc={partial:!0,tokenize:X0},io={concrete:!0,name:"codeFenced",tokenize:J0};function J0(t,e,n){let r=this,o={partial:!0,tokenize:Y},s=0,l=0,u;return f;function f(E){return p(E)}function p(E){let Q=r.events[r.events.length-1];return s=Q&&Q[1].type==="linePrefix"?Q[2].sliceSerialize(Q[1],!0).length:0,u=E,t.enter("codeFenced"),t.enter("codeFencedFence"),t.enter("codeFencedFenceSequence"),h(E)}function h(E){return E===u?(l++,t.consume(E),h):l<3?n(E):(t.exit("codeFencedFenceSequence"),$(E)?H(t,m,"whitespace")(E):m(E))}function m(E){return E===null||R(E)?(t.exit("codeFencedFence"),r.interrupt?e(E):t.check(Mc,F,B)(E)):(t.enter("codeFencedFenceInfo"),t.enter("chunkString",{contentType:"string"}),g(E))}function g(E){return E===null||R(E)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),m(E)):$(E)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),H(t,y,"whitespace")(E)):E===96&&E===u?n(E):(t.consume(E),g)}function y(E){return E===null||R(E)?m(E):(t.enter("codeFencedFenceMeta"),t.enter("chunkString",{contentType:"string"}),A(E))}function A(E){return E===null||R(E)?(t.exit("chunkString"),t.exit("codeFencedFenceMeta"),m(E)):E===96&&E===u?n(E):(t.consume(E),A)}function F(E){return t.attempt(o,B,S)(E)}function S(E){return t.enter("lineEnding"),t.consume(E),t.exit("lineEnding"),C}function C(E){return s>0&&$(E)?H(t,_,"linePrefix",s+1)(E):_(E)}function _(E){return E===null||R(E)?t.check(Mc,F,B)(E):(t.enter("codeFlowValue"),P(E))}function P(E){return E===null||R(E)?(t.exit("codeFlowValue"),_(E)):(t.consume(E),P)}function B(E){return t.exit("codeFenced"),e(E)}function Y(E,Q,j){let G=0;return ne;function ne(V){return E.enter("lineEnding"),E.consume(V),E.exit("lineEnding"),ae}function ae(V){return E.enter("codeFencedFence"),$(V)?H(E,X,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(V):X(V)}function X(V){return V===u?(E.enter("codeFencedFenceSequence"),N(V)):j(V)}function N(V){return V===u?(G++,E.consume(V),N):G>=l?(E.exit("codeFencedFenceSequence"),$(V)?H(E,U,"whitespace")(V):U(V)):j(V)}function U(V){return V===null||R(V)?(E.exit("codeFencedFence"),Q(V)):j(V)}}}function X0(t,e,n){let r=this;return o;function o(l){return l===null?n(l):(t.enter("lineEnding"),t.consume(l),t.exit("lineEnding"),s)}function s(l){return r.parser.lazy[r.now().line]?n(l):e(l)}}var Ur={name:"codeIndented",tokenize:tw},ew={partial:!0,tokenize:nw};function tw(t,e,n){let r=this;return o;function o(p){return t.enter("codeIndented"),H(t,s,"linePrefix",5)(p)}function s(p){let h=r.events[r.events.length-1];return h&&h[1].type==="linePrefix"&&h[2].sliceSerialize(h[1],!0).length>=4?l(p):n(p)}function l(p){return p===null?f(p):R(p)?t.attempt(ew,l,f)(p):(t.enter("codeFlowValue"),u(p))}function u(p){return p===null||R(p)?(t.exit("codeFlowValue"),l(p)):(t.consume(p),u)}function f(p){return t.exit("codeIndented"),e(p)}}function nw(t,e,n){let r=this;return o;function o(l){return r.parser.lazy[r.now().line]?n(l):R(l)?(t.enter("lineEnding"),t.consume(l),t.exit("lineEnding"),o):H(t,s,"linePrefix",5)(l)}function s(l){let u=r.events[r.events.length-1];return u&&u[1].type==="linePrefix"&&u[2].sliceSerialize(u[1],!0).length>=4?e(l):R(l)?o(l):n(l)}}var ca={name:"codeText",previous:iw,resolve:rw,tokenize:ow};function rw(t){let e=t.length-4,n=3,r,o;if((t[n][1].type==="lineEnding"||t[n][1].type==="space")&&(t[e][1].type==="lineEnding"||t[e][1].type==="space")){for(r=n;++r<e;)if(t[r][1].type==="codeTextData"){t[n][1].type="codeTextPadding",t[e][1].type="codeTextPadding",n+=2,e-=2;break}}for(r=n-1,e++;++r<=e;)o===void 0?r!==e&&t[r][1].type!=="lineEnding"&&(o=r):(r===e||t[r][1].type==="lineEnding")&&(t[o][1].type="codeTextData",r!==o+2&&(t[o][1].end=t[r-1][1].end,t.splice(o+2,r-o-2),e-=r-o-2,r=o+2),o=void 0);return t}function iw(t){return t!==96||this.events[this.events.length-1][1].type==="characterEscape"}function ow(t,e,n){let r=this,o=0,s,l;return u;function u(g){return t.enter("codeText"),t.enter("codeTextSequence"),f(g)}function f(g){return g===96?(t.consume(g),o++,f):(t.exit("codeTextSequence"),p(g))}function p(g){return g===null?n(g):g===32?(t.enter("space"),t.consume(g),t.exit("space"),p):g===96?(l=t.enter("codeTextSequence"),s=0,m(g)):R(g)?(t.enter("lineEnding"),t.consume(g),t.exit("lineEnding"),p):(t.enter("codeTextData"),h(g))}function h(g){return g===null||g===32||g===96||R(g)?(t.exit("codeTextData"),p(g)):(t.consume(g),h)}function m(g){return g===96?(t.consume(g),s++,m):s===o?(t.exit("codeTextSequence"),t.exit("codeText"),e(g)):(l.type="codeTextData",h(g))}}var oo=class{constructor(e){this.left=e?[...e]:[],this.right=[]}get(e){if(e<0||e>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+e+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return e<this.left.length?this.left[e]:this.right[this.right.length-e+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(e,n){let r=n??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(e,r):e>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-e+this.left.length).reverse():this.left.slice(e).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(e,n,r){let o=n||0;this.setCursor(Math.trunc(e));let s=this.right.splice(this.right.length-o,Number.POSITIVE_INFINITY);return r&&$r(this.left,r),s.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(e){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(e)}pushMany(e){this.setCursor(Number.POSITIVE_INFINITY),$r(this.left,e)}unshift(e){this.setCursor(0),this.right.push(e)}unshiftMany(e){this.setCursor(0),$r(this.right,e.reverse())}setCursor(e){if(!(e===this.left.length||e>this.left.length&&this.right.length===0||e<0&&this.left.length===0))if(e<this.left.length){let n=this.left.splice(e,Number.POSITIVE_INFINITY);$r(this.right,n.reverse())}else{let n=this.right.splice(this.left.length+this.right.length-e,Number.POSITIVE_INFINITY);$r(this.left,n.reverse())}}};function $r(t,e){let n=0;if(e.length<1e4)t.push(...e);else for(;n<e.length;)t.push(...e.slice(n,n+1e4)),n+=1e4}function so(t){let e={},n=-1,r,o,s,l,u,f,p,h=new oo(t);for(;++n<h.length;){for(;n in e;)n=e[n];if(r=h.get(n),n&&r[1].type==="chunkFlow"&&h.get(n-1)[1].type==="listItemPrefix"&&(f=r[1]._tokenizer.events,s=0,s<f.length&&f[s][1].type==="lineEndingBlank"&&(s+=2),s<f.length&&f[s][1].type==="content"))for(;++s<f.length&&f[s][1].type!=="content";)f[s][1].type==="chunkText"&&(f[s][1]._isInFirstContentOfListItem=!0,s++);if(r[0]==="enter")r[1].contentType&&(Object.assign(e,sw(h,n)),n=e[n],p=!0);else if(r[1]._container){for(s=n,o=void 0;s--;)if(l=h.get(s),l[1].type==="lineEnding"||l[1].type==="lineEndingBlank")l[0]==="enter"&&(o&&(h.get(o)[1].type="lineEndingBlank"),l[1].type="lineEnding",o=s);else if(!(l[1].type==="linePrefix"||l[1].type==="listItemIndent"))break;o&&(r[1].end={...h.get(o)[1].start},u=h.slice(o,n),u.unshift(r),h.splice(o,n-o+1,u))}}return Se(t,0,Number.POSITIVE_INFINITY,h.slice(0)),!p}function sw(t,e){let n=t.get(e)[1],r=t.get(e)[2],o=e-1,s=[],l=n._tokenizer;l||(l=r.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(l._contentTypeTextTrailing=!0));let u=l.events,f=[],p={},h,m,g=-1,y=n,A=0,F=0,S=[F];for(;y;){for(;t.get(++o)[1]!==y;);s.push(o),y._tokenizer||(h=r.sliceStream(y),y.next||h.push(null),m&&l.defineSkip(y.start),y._isInFirstContentOfListItem&&(l._gfmTasklistFirstContentOfListItem=!0),l.write(h),y._isInFirstContentOfListItem&&(l._gfmTasklistFirstContentOfListItem=void 0)),m=y,y=y.next}for(y=n;++g<u.length;)u[g][0]==="exit"&&u[g-1][0]==="enter"&&u[g][1].type===u[g-1][1].type&&u[g][1].start.line!==u[g][1].end.line&&(F=g+1,S.push(F),y._tokenizer=void 0,y.previous=void 0,y=y.next);for(l.events=[],y?(y._tokenizer=void 0,y.previous=void 0):S.pop(),g=S.length;g--;){let C=u.slice(S[g],S[g+1]),_=s.pop();f.push([_,_+C.length-1]),t.splice(_,2,C)}for(f.reverse(),g=-1;++g<f.length;)p[A+f[g][0]]=A+f[g][1],A+=f[g][1]-f[g][0]-1;return p}var fa={resolve:lw,tokenize:uw},aw={partial:!0,tokenize:cw};function lw(t){return so(t),t}function uw(t,e){let n;return r;function r(u){return t.enter("content"),n=t.enter("chunkContent",{contentType:"content"}),o(u)}function o(u){return u===null?s(u):R(u)?t.check(aw,l,s)(u):(t.consume(u),o)}function s(u){return t.exit("chunkContent"),t.exit("content"),e(u)}function l(u){return t.consume(u),t.exit("chunkContent"),n.next=t.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,o}}function cw(t,e,n){let r=this;return o;function o(l){return t.exit("chunkContent"),t.enter("lineEnding"),t.consume(l),t.exit("lineEnding"),H(t,s,"linePrefix")}function s(l){if(l===null||R(l))return n(l);let u=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&u&&u[1].type==="linePrefix"&&u[2].sliceSerialize(u[1],!0).length>=4?e(l):t.interrupt(r.parser.constructs.flow,n,e)(l)}}function ao(t,e,n,r,o,s,l,u,f){let p=f||Number.POSITIVE_INFINITY,h=0;return m;function m(C){return C===60?(t.enter(r),t.enter(o),t.enter(s),t.consume(C),t.exit(s),g):C===null||C===32||C===41||Yr(C)?n(C):(t.enter(r),t.enter(l),t.enter(u),t.enter("chunkString",{contentType:"string"}),F(C))}function g(C){return C===62?(t.enter(s),t.consume(C),t.exit(s),t.exit(o),t.exit(r),e):(t.enter(u),t.enter("chunkString",{contentType:"string"}),y(C))}function y(C){return C===62?(t.exit("chunkString"),t.exit(u),g(C)):C===null||C===60||R(C)?n(C):(t.consume(C),C===92?A:y)}function A(C){return C===60||C===62||C===92?(t.consume(C),y):y(C)}function F(C){return!h&&(C===null||C===41||me(C))?(t.exit("chunkString"),t.exit(u),t.exit(l),t.exit(r),e(C)):h<p&&C===40?(t.consume(C),h++,F):C===41?(t.consume(C),h--,F):C===null||C===32||C===40||Yr(C)?n(C):(t.consume(C),C===92?S:F)}function S(C){return C===40||C===41||C===92?(t.consume(C),F):F(C)}}function lo(t,e,n,r,o,s){let l=this,u=0,f;return p;function p(y){return t.enter(r),t.enter(o),t.consume(y),t.exit(o),t.enter(s),h}function h(y){return u>999||y===null||y===91||y===93&&!f||y===94&&!u&&"_hiddenFootnoteSupport"in l.parser.constructs?n(y):y===93?(t.exit(s),t.enter(o),t.consume(y),t.exit(o),t.exit(r),e):R(y)?(t.enter("lineEnding"),t.consume(y),t.exit("lineEnding"),h):(t.enter("chunkString",{contentType:"string"}),m(y))}function m(y){return y===null||y===91||y===93||R(y)||u++>999?(t.exit("chunkString"),h(y)):(t.consume(y),f||(f=!$(y)),y===92?g:m)}function g(y){return y===91||y===92||y===93?(t.consume(y),u++,m):m(y)}}function uo(t,e,n,r,o,s){let l;return u;function u(g){return g===34||g===39||g===40?(t.enter(r),t.enter(o),t.consume(g),t.exit(o),l=g===40?41:g,f):n(g)}function f(g){return g===l?(t.enter(o),t.consume(g),t.exit(o),t.exit(r),e):(t.enter(s),p(g))}function p(g){return g===l?(t.exit(s),f(l)):g===null?n(g):R(g)?(t.enter("lineEnding"),t.consume(g),t.exit("lineEnding"),H(t,p,"linePrefix")):(t.enter("chunkString",{contentType:"string"}),h(g))}function h(g){return g===l||g===null||R(g)?(t.exit("chunkString"),p(g)):(t.consume(g),g===92?m:h)}function m(g){return g===l||g===92?(t.consume(g),h):h(g)}}function Sn(t,e){let n;return r;function r(o){return R(o)?(t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),n=!0,r):$(o)?H(t,r,n?"linePrefix":"lineSuffix")(o):e(o)}}var da={name:"definition",tokenize:dw},fw={partial:!0,tokenize:hw};function dw(t,e,n){let r=this,o;return s;function s(y){return t.enter("definition"),l(y)}function l(y){return lo.call(r,t,u,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(y)}function u(y){return o=Kt(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),y===58?(t.enter("definitionMarker"),t.consume(y),t.exit("definitionMarker"),f):n(y)}function f(y){return me(y)?Sn(t,p)(y):p(y)}function p(y){return ao(t,h,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(y)}function h(y){return t.attempt(fw,m,m)(y)}function m(y){return $(y)?H(t,g,"whitespace")(y):g(y)}function g(y){return y===null||R(y)?(t.exit("definition"),r.parser.defined.push(o),e(y)):n(y)}}function hw(t,e,n){return r;function r(u){return me(u)?Sn(t,o)(u):n(u)}function o(u){return uo(t,s,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(u)}function s(u){return $(u)?H(t,l,"whitespace")(u):l(u)}function l(u){return u===null||R(u)?e(u):n(u)}}var ha={name:"hardBreakEscape",tokenize:pw};function pw(t,e,n){return r;function r(s){return t.enter("hardBreakEscape"),t.consume(s),o}function o(s){return R(s)?(t.exit("hardBreakEscape"),e(s)):n(s)}}var pa={name:"headingAtx",resolve:mw,tokenize:gw};function mw(t,e){let n=t.length-2,r=3,o,s;return t[r][1].type==="whitespace"&&(r+=2),n-2>r&&t[n][1].type==="whitespace"&&(n-=2),t[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&t[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(o={type:"atxHeadingText",start:t[r][1].start,end:t[n][1].end},s={type:"chunkText",start:t[r][1].start,end:t[n][1].end,contentType:"text"},Se(t,r,n-r+1,[["enter",o,e],["enter",s,e],["exit",s,e],["exit",o,e]])),t}function gw(t,e,n){let r=0;return o;function o(h){return t.enter("atxHeading"),s(h)}function s(h){return t.enter("atxHeadingSequence"),l(h)}function l(h){return h===35&&r++<6?(t.consume(h),l):h===null||me(h)?(t.exit("atxHeadingSequence"),u(h)):n(h)}function u(h){return h===35?(t.enter("atxHeadingSequence"),f(h)):h===null||R(h)?(t.exit("atxHeading"),e(h)):$(h)?H(t,u,"whitespace")(h):(t.enter("atxHeadingText"),p(h))}function f(h){return h===35?(t.consume(h),f):(t.exit("atxHeadingSequence"),u(h))}function p(h){return h===null||h===35||me(h)?(t.exit("atxHeadingText"),u(h)):(t.consume(h),p)}}var Oc=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],ma=["pre","script","style","textarea"];var ga={concrete:!0,name:"htmlFlow",resolveTo:bw,tokenize:kw},ww={partial:!0,tokenize:Aw},yw={partial:!0,tokenize:vw};function bw(t){let e=t.length;for(;e--&&!(t[e][0]==="enter"&&t[e][1].type==="htmlFlow"););return e>1&&t[e-2][1].type==="linePrefix"&&(t[e][1].start=t[e-2][1].start,t[e+1][1].start=t[e-2][1].start,t.splice(e-2,2)),t}function kw(t,e,n){let r=this,o,s,l,u,f;return p;function p(b){return h(b)}function h(b){return t.enter("htmlFlow"),t.enter("htmlFlowData"),t.consume(b),m}function m(b){return b===33?(t.consume(b),g):b===47?(t.consume(b),s=!0,F):b===63?(t.consume(b),o=3,r.interrupt?e:v):Xe(b)?(t.consume(b),l=String.fromCharCode(b),S):n(b)}function g(b){return b===45?(t.consume(b),o=2,y):b===91?(t.consume(b),o=5,u=0,A):Xe(b)?(t.consume(b),o=4,r.interrupt?e:v):n(b)}function y(b){return b===45?(t.consume(b),r.interrupt?e:v):n(b)}function A(b){let Le="CDATA[";return b===Le.charCodeAt(u++)?(t.consume(b),u===Le.length?r.interrupt?e:X:A):n(b)}function F(b){return Xe(b)?(t.consume(b),l=String.fromCharCode(b),S):n(b)}function S(b){if(b===null||b===47||b===62||me(b)){let Le=b===47,Rt=l.toLowerCase();return!Le&&!s&&ma.includes(Rt)?(o=1,r.interrupt?e(b):X(b)):Oc.includes(l.toLowerCase())?(o=6,Le?(t.consume(b),C):r.interrupt?e(b):X(b)):(o=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(b):s?_(b):P(b))}return b===45||Ue(b)?(t.consume(b),l+=String.fromCharCode(b),S):n(b)}function C(b){return b===62?(t.consume(b),r.interrupt?e:X):n(b)}function _(b){return $(b)?(t.consume(b),_):ne(b)}function P(b){return b===47?(t.consume(b),ne):b===58||b===95||Xe(b)?(t.consume(b),B):$(b)?(t.consume(b),P):ne(b)}function B(b){return b===45||b===46||b===58||b===95||Ue(b)?(t.consume(b),B):Y(b)}function Y(b){return b===61?(t.consume(b),E):$(b)?(t.consume(b),Y):P(b)}function E(b){return b===null||b===60||b===61||b===62||b===96?n(b):b===34||b===39?(t.consume(b),f=b,Q):$(b)?(t.consume(b),E):j(b)}function Q(b){return b===f?(t.consume(b),f=null,G):b===null||R(b)?n(b):(t.consume(b),Q)}function j(b){return b===null||b===34||b===39||b===47||b===60||b===61||b===62||b===96||me(b)?Y(b):(t.consume(b),j)}function G(b){return b===47||b===62||$(b)?P(b):n(b)}function ne(b){return b===62?(t.consume(b),ae):n(b)}function ae(b){return b===null||R(b)?X(b):$(b)?(t.consume(b),ae):n(b)}function X(b){return b===45&&o===2?(t.consume(b),ee):b===60&&o===1?(t.consume(b),ce):b===62&&o===4?(t.consume(b),_e):b===63&&o===3?(t.consume(b),v):b===93&&o===5?(t.consume(b),He):R(b)&&(o===6||o===7)?(t.exit("htmlFlowData"),t.check(ww,Fe,N)(b)):b===null||R(b)?(t.exit("htmlFlowData"),N(b)):(t.consume(b),X)}function N(b){return t.check(yw,U,Fe)(b)}function U(b){return t.enter("lineEnding"),t.consume(b),t.exit("lineEnding"),V}function V(b){return b===null||R(b)?N(b):(t.enter("htmlFlowData"),X(b))}function ee(b){return b===45?(t.consume(b),v):X(b)}function ce(b){return b===47?(t.consume(b),l="",de):X(b)}function de(b){if(b===62){let Le=l.toLowerCase();return ma.includes(Le)?(t.consume(b),_e):X(b)}return Xe(b)&&l.length<8?(t.consume(b),l+=String.fromCharCode(b),de):X(b)}function He(b){return b===93?(t.consume(b),v):X(b)}function v(b){return b===62?(t.consume(b),_e):b===45&&o===2?(t.consume(b),v):X(b)}function _e(b){return b===null||R(b)?(t.exit("htmlFlowData"),Fe(b)):(t.consume(b),_e)}function Fe(b){return t.exit("htmlFlow"),e(b)}}function vw(t,e,n){let r=this;return o;function o(l){return R(l)?(t.enter("lineEnding"),t.consume(l),t.exit("lineEnding"),s):n(l)}function s(l){return r.parser.lazy[r.now().line]?n(l):e(l)}}function Aw(t,e,n){return r;function r(o){return t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),t.attempt(an,e,n)}}var wa={name:"htmlText",tokenize:Cw};function Cw(t,e,n){let r=this,o,s,l;return u;function u(v){return t.enter("htmlText"),t.enter("htmlTextData"),t.consume(v),f}function f(v){return v===33?(t.consume(v),p):v===47?(t.consume(v),Y):v===63?(t.consume(v),P):Xe(v)?(t.consume(v),j):n(v)}function p(v){return v===45?(t.consume(v),h):v===91?(t.consume(v),s=0,A):Xe(v)?(t.consume(v),_):n(v)}function h(v){return v===45?(t.consume(v),y):n(v)}function m(v){return v===null?n(v):v===45?(t.consume(v),g):R(v)?(l=m,ce(v)):(t.consume(v),m)}function g(v){return v===45?(t.consume(v),y):m(v)}function y(v){return v===62?ee(v):v===45?g(v):m(v)}function A(v){let _e="CDATA[";return v===_e.charCodeAt(s++)?(t.consume(v),s===_e.length?F:A):n(v)}function F(v){return v===null?n(v):v===93?(t.consume(v),S):R(v)?(l=F,ce(v)):(t.consume(v),F)}function S(v){return v===93?(t.consume(v),C):F(v)}function C(v){return v===62?ee(v):v===93?(t.consume(v),C):F(v)}function _(v){return v===null||v===62?ee(v):R(v)?(l=_,ce(v)):(t.consume(v),_)}function P(v){return v===null?n(v):v===63?(t.consume(v),B):R(v)?(l=P,ce(v)):(t.consume(v),P)}function B(v){return v===62?ee(v):P(v)}function Y(v){return Xe(v)?(t.consume(v),E):n(v)}function E(v){return v===45||Ue(v)?(t.consume(v),E):Q(v)}function Q(v){return R(v)?(l=Q,ce(v)):$(v)?(t.consume(v),Q):ee(v)}function j(v){return v===45||Ue(v)?(t.consume(v),j):v===47||v===62||me(v)?G(v):n(v)}function G(v){return v===47?(t.consume(v),ee):v===58||v===95||Xe(v)?(t.consume(v),ne):R(v)?(l=G,ce(v)):$(v)?(t.consume(v),G):ee(v)}function ne(v){return v===45||v===46||v===58||v===95||Ue(v)?(t.consume(v),ne):ae(v)}function ae(v){return v===61?(t.consume(v),X):R(v)?(l=ae,ce(v)):$(v)?(t.consume(v),ae):G(v)}function X(v){return v===null||v===60||v===61||v===62||v===96?n(v):v===34||v===39?(t.consume(v),o=v,N):R(v)?(l=X,ce(v)):$(v)?(t.consume(v),X):(t.consume(v),U)}function N(v){return v===o?(t.consume(v),o=void 0,V):v===null?n(v):R(v)?(l=N,ce(v)):(t.consume(v),N)}function U(v){return v===null||v===34||v===39||v===60||v===61||v===96?n(v):v===47||v===62||me(v)?G(v):(t.consume(v),U)}function V(v){return v===47||v===62||me(v)?G(v):n(v)}function ee(v){return v===62?(t.consume(v),t.exit("htmlTextData"),t.exit("htmlText"),e):n(v)}function ce(v){return t.exit("htmlTextData"),t.enter("lineEnding"),t.consume(v),t.exit("lineEnding"),de}function de(v){return $(v)?H(t,He,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(v):He(v)}function He(v){return t.enter("htmlTextData"),l(v)}}var Tn={name:"labelEnd",resolveAll:Tw,resolveTo:_w,tokenize:Fw},xw={tokenize:Pw},Ew={tokenize:Dw},Sw={tokenize:Iw};function Tw(t){let e=-1,n=[];for(;++e<t.length;){let r=t[e][1];if(n.push(t[e]),r.type==="labelImage"||r.type==="labelLink"||r.type==="labelEnd"){let o=r.type==="labelImage"?4:2;r.type="data",e+=o}}return t.length!==n.length&&Se(t,0,t.length,n),t}function _w(t,e){let n=t.length,r=0,o,s,l,u;for(;n--;)if(o=t[n][1],s){if(o.type==="link"||o.type==="labelLink"&&o._inactive)break;t[n][0]==="enter"&&o.type==="labelLink"&&(o._inactive=!0)}else if(l){if(t[n][0]==="enter"&&(o.type==="labelImage"||o.type==="labelLink")&&!o._balanced&&(s=n,o.type!=="labelLink")){r=2;break}}else o.type==="labelEnd"&&(l=n);let f={type:t[s][1].type==="labelLink"?"link":"image",start:{...t[s][1].start},end:{...t[t.length-1][1].end}},p={type:"label",start:{...t[s][1].start},end:{...t[l][1].end}},h={type:"labelText",start:{...t[s+r+2][1].end},end:{...t[l-2][1].start}};return u=[["enter",f,e],["enter",p,e]],u=ze(u,t.slice(s+1,s+r+3)),u=ze(u,[["enter",h,e]]),u=ze(u,or(e.parser.constructs.insideSpan.null,t.slice(s+r+4,l-3),e)),u=ze(u,[["exit",h,e],t[l-2],t[l-1],["exit",p,e]]),u=ze(u,t.slice(l+1)),u=ze(u,[["exit",f,e]]),Se(t,s,t.length,u),t}function Fw(t,e,n){let r=this,o=r.events.length,s,l;for(;o--;)if((r.events[o][1].type==="labelImage"||r.events[o][1].type==="labelLink")&&!r.events[o][1]._balanced){s=r.events[o][1];break}return u;function u(g){return s?s._inactive?m(g):(l=r.parser.defined.includes(Kt(r.sliceSerialize({start:s.end,end:r.now()}))),t.enter("labelEnd"),t.enter("labelMarker"),t.consume(g),t.exit("labelMarker"),t.exit("labelEnd"),f):n(g)}function f(g){return g===40?t.attempt(xw,h,l?h:m)(g):g===91?t.attempt(Ew,h,l?p:m)(g):l?h(g):m(g)}function p(g){return t.attempt(Sw,h,m)(g)}function h(g){return e(g)}function m(g){return s._balanced=!0,n(g)}}function Pw(t,e,n){return r;function r(m){return t.enter("resource"),t.enter("resourceMarker"),t.consume(m),t.exit("resourceMarker"),o}function o(m){return me(m)?Sn(t,s)(m):s(m)}function s(m){return m===41?h(m):ao(t,l,u,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(m)}function l(m){return me(m)?Sn(t,f)(m):h(m)}function u(m){return n(m)}function f(m){return m===34||m===39||m===40?uo(t,p,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(m):h(m)}function p(m){return me(m)?Sn(t,h)(m):h(m)}function h(m){return m===41?(t.enter("resourceMarker"),t.consume(m),t.exit("resourceMarker"),t.exit("resource"),e):n(m)}}function Dw(t,e,n){let r=this;return o;function o(u){return lo.call(r,t,s,l,"reference","referenceMarker","referenceString")(u)}function s(u){return r.parser.defined.includes(Kt(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?e(u):n(u)}function l(u){return n(u)}}function Iw(t,e,n){return r;function r(s){return t.enter("reference"),t.enter("referenceMarker"),t.consume(s),t.exit("referenceMarker"),o}function o(s){return s===93?(t.enter("referenceMarker"),t.consume(s),t.exit("referenceMarker"),t.exit("reference"),e):n(s)}}var ya={name:"labelStartImage",resolveAll:Tn.resolveAll,tokenize:Mw};function Mw(t,e,n){let r=this;return o;function o(u){return t.enter("labelImage"),t.enter("labelImageMarker"),t.consume(u),t.exit("labelImageMarker"),s}function s(u){return u===91?(t.enter("labelMarker"),t.consume(u),t.exit("labelMarker"),t.exit("labelImage"),l):n(u)}function l(u){return u===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(u):e(u)}}var ba={name:"labelStartLink",resolveAll:Tn.resolveAll,tokenize:Ow};function Ow(t,e,n){let r=this;return o;function o(l){return t.enter("labelLink"),t.enter("labelMarker"),t.consume(l),t.exit("labelMarker"),t.exit("labelLink"),s}function s(l){return l===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(l):e(l)}}var Hr={name:"lineEnding",tokenize:Lw};function Lw(t,e){return n;function n(r){return t.enter("lineEnding"),t.consume(r),t.exit("lineEnding"),H(t,e,"linePrefix")}}var _n={name:"thematicBreak",tokenize:Rw};function Rw(t,e,n){let r=0,o;return s;function s(p){return t.enter("thematicBreak"),l(p)}function l(p){return o=p,u(p)}function u(p){return p===o?(t.enter("thematicBreakSequence"),f(p)):r>=3&&(p===null||R(p))?(t.exit("thematicBreak"),e(p)):n(p)}function f(p){return p===o?(t.consume(p),r++,f):(t.exit("thematicBreakSequence"),$(p)?H(t,u,"whitespace")(p):u(p))}}var Me={continuation:{tokenize:Yw},exit:zw,name:"list",tokenize:Bw},Nw={partial:!0,tokenize:Uw},Ww={partial:!0,tokenize:Vw};function Bw(t,e,n){let r=this,o=r.events[r.events.length-1],s=o&&o[1].type==="linePrefix"?o[2].sliceSerialize(o[1],!0).length:0,l=0;return u;function u(y){let A=r.containerState.type||(y===42||y===43||y===45?"listUnordered":"listOrdered");if(A==="listUnordered"?!r.containerState.marker||y===r.containerState.marker:Vr(y)){if(r.containerState.type||(r.containerState.type=A,t.enter(A,{_container:!0})),A==="listUnordered")return t.enter("listItemPrefix"),y===42||y===45?t.check(_n,n,p)(y):p(y);if(!r.interrupt||y===49)return t.enter("listItemPrefix"),t.enter("listItemValue"),f(y)}return n(y)}function f(y){return Vr(y)&&++l<10?(t.consume(y),f):(!r.interrupt||l<2)&&(r.containerState.marker?y===r.containerState.marker:y===41||y===46)?(t.exit("listItemValue"),p(y)):n(y)}function p(y){return t.enter("listItemMarker"),t.consume(y),t.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||y,t.check(an,r.interrupt?n:h,t.attempt(Nw,g,m))}function h(y){return r.containerState.initialBlankLine=!0,s++,g(y)}function m(y){return $(y)?(t.enter("listItemPrefixWhitespace"),t.consume(y),t.exit("listItemPrefixWhitespace"),g):n(y)}function g(y){return r.containerState.size=s+r.sliceSerialize(t.exit("listItemPrefix"),!0).length,e(y)}}function Yw(t,e,n){let r=this;return r.containerState._closeFlow=void 0,t.check(an,o,s);function o(u){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,H(t,e,"listItemIndent",r.containerState.size+1)(u)}function s(u){return r.containerState.furtherBlankLines||!$(u)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,l(u)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,t.attempt(Ww,e,l)(u))}function l(u){return r.containerState._closeFlow=!0,r.interrupt=void 0,H(t,t.attempt(Me,e,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(u)}}function Vw(t,e,n){let r=this;return H(t,o,"listItemIndent",r.containerState.size+1);function o(s){let l=r.events[r.events.length-1];return l&&l[1].type==="listItemIndent"&&l[2].sliceSerialize(l[1],!0).length===r.containerState.size?e(s):n(s)}}function zw(t){t.exit(this.containerState.type)}function Uw(t,e,n){let r=this;return H(t,o,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function o(s){let l=r.events[r.events.length-1];return!$(s)&&l&&l[1].type==="listItemPrefixWhitespace"?e(s):n(s)}}var co={name:"setextUnderline",resolveTo:$w,tokenize:Hw};function $w(t,e){let n=t.length,r,o,s;for(;n--;)if(t[n][0]==="enter"){if(t[n][1].type==="content"){r=n;break}t[n][1].type==="paragraph"&&(o=n)}else t[n][1].type==="content"&&t.splice(n,1),!s&&t[n][1].type==="definition"&&(s=n);let l={type:"setextHeading",start:{...t[r][1].start},end:{...t[t.length-1][1].end}};return t[o][1].type="setextHeadingText",s?(t.splice(o,0,["enter",l,e]),t.splice(s+1,0,["exit",t[r][1],e]),t[r][1].end={...t[s][1].end}):t[r][1]=l,t.push(["exit",l,e]),t}function Hw(t,e,n){let r=this,o;return s;function s(p){let h=r.events.length,m;for(;h--;)if(r.events[h][1].type!=="lineEnding"&&r.events[h][1].type!=="linePrefix"&&r.events[h][1].type!=="content"){m=r.events[h][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||m)?(t.enter("setextHeadingLine"),o=p,l(p)):n(p)}function l(p){return t.enter("setextHeadingLineSequence"),u(p)}function u(p){return p===o?(t.consume(p),u):(t.exit("setextHeadingLineSequence"),$(p)?H(t,f,"lineSuffix")(p):f(p))}function f(p){return p===null||R(p)?(t.exit("setextHeadingLine"),e(p)):n(p)}}var Lc={tokenize:jw};function jw(t){let e=this,n=t.attempt(an,r,t.attempt(this.parser.constructs.flowInitial,o,H(t,t.attempt(this.parser.constructs.flow,o,t.attempt(fa,o)),"linePrefix")));return n;function r(s){if(s===null){t.consume(s);return}return t.enter("lineEndingBlank"),t.consume(s),t.exit("lineEndingBlank"),e.currentConstruct=void 0,n}function o(s){if(s===null){t.consume(s);return}return t.enter("lineEnding"),t.consume(s),t.exit("lineEnding"),e.currentConstruct=void 0,n}}var Rc={resolveAll:Yc()},Nc=Bc("string"),Wc=Bc("text");function Bc(t){return{resolveAll:Yc(t==="text"?Gw:void 0),tokenize:e};function e(n){let r=this,o=this.parser.constructs[t],s=n.attempt(o,l,u);return l;function l(h){return p(h)?s(h):u(h)}function u(h){if(h===null){n.consume(h);return}return n.enter("data"),n.consume(h),f}function f(h){return p(h)?(n.exit("data"),s(h)):(n.consume(h),f)}function p(h){if(h===null)return!0;let m=o[h],g=-1;if(m)for(;++g<m.length;){let y=m[g];if(!y.previous||y.previous.call(r,r.previous))return!0}return!1}}}function Yc(t){return e;function e(n,r){let o=-1,s;for(;++o<=n.length;)s===void 0?n[o]&&n[o][1].type==="data"&&(s=o,o++):(!n[o]||n[o][1].type!=="data")&&(o!==s+2&&(n[s][1].end=n[o-1][1].end,n.splice(s+2,o-s-2),o=s+2),s=void 0);return t?t(n,r):n}}function Gw(t,e){let n=0;for(;++n<=t.length;)if((n===t.length||t[n][1].type==="lineEnding")&&t[n-1][1].type==="data"){let r=t[n-1][1],o=e.sliceStream(r),s=o.length,l=-1,u=0,f;for(;s--;){let p=o[s];if(typeof p=="string"){for(l=p.length;p.charCodeAt(l-1)===32;)u++,l--;if(l)break;l=-1}else if(p===-2)f=!0,u++;else if(p!==-1){s++;break}}if(e._contentTypeTextTrailing&&n===t.length&&(u=0),u){let p={type:n===t.length||f||u<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:s?l:r.start._bufferIndex+l,_index:r.start._index+s,line:r.end.line,column:r.end.column-u,offset:r.end.offset-u},end:{...r.end}};r.end={...p.start},r.start.offset===r.end.offset?Object.assign(r,p):(t.splice(n,0,["enter",p,e],["exit",p,e]),n+=2)}n++}return t}var ka={};cu(ka,{attentionMarkers:()=>ty,contentInitial:()=>Kw,disable:()=>ny,document:()=>qw,flow:()=>Qw,flowInitial:()=>Zw,insideSpan:()=>ey,string:()=>Jw,text:()=>Xw});var qw={42:Me,43:Me,45:Me,48:Me,49:Me,50:Me,51:Me,52:Me,53:Me,54:Me,55:Me,56:Me,57:Me,62:to},Kw={91:da},Zw={[-2]:Ur,[-1]:Ur,32:Ur},Qw={35:pa,42:_n,45:[co,_n],60:ga,61:co,95:_n,96:io,126:io},Jw={38:ro,92:no},Xw={[-5]:Hr,[-4]:Hr,[-3]:Hr,33:ya,38:ro,42:zr,60:[ua,wa],91:ba,92:[ha,no],93:Tn,95:zr,96:ca},ey={null:[zr,Rc]},ty={null:[42,95]},ny={null:[]};function Vc(t,e,n){let r={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0},o={},s=[],l=[],u=[],f=!0,p={attempt:G(Q),check:G(j),consume:B,enter:Y,exit:E,interrupt:G(j,{interrupt:!0})},h={code:null,containerState:{},defineSkip:C,events:[],now:S,parser:t,previous:null,sliceSerialize:A,sliceStream:F,write:y},m=e.tokenize.call(h,p),g;return e.resolveAll&&s.push(e),h;function y(N){return l=ze(l,N),_(),l[l.length-1]!==null?[]:(ne(e,0),h.events=or(s,h.events,h),h.events)}function A(N,U){return iy(F(N),U)}function F(N){return ry(l,N)}function S(){let{_bufferIndex:N,_index:U,line:V,column:ee,offset:ce}=r;return{_bufferIndex:N,_index:U,line:V,column:ee,offset:ce}}function C(N){o[N.line]=N.column,X()}function _(){let N;for(;r._index<l.length;){let U=l[r._index];if(typeof U=="string")for(N=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===N&&r._bufferIndex<U.length;)P(U.charCodeAt(r._bufferIndex));else P(U)}}function P(N){f=void 0,g=N,m=m(N)}function B(N){R(N)?(r.line++,r.column=1,r.offset+=N===-3?2:1,X()):N!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===l[r._index].length&&(r._bufferIndex=-1,r._index++)),h.previous=N,f=!0}function Y(N,U){let V=U||{};return V.type=N,V.start=S(),h.events.push(["enter",V,h]),u.push(V),V}function E(N){let U=u.pop();return U.end=S(),h.events.push(["exit",U,h]),U}function Q(N,U){ne(N,U.from)}function j(N,U){U.restore()}function G(N,U){return V;function V(ee,ce,de){let He,v,_e,Fe;return Array.isArray(ee)?Le(ee):"tokenize"in ee?Le([ee]):b(ee);function b(we){return gn;function gn(pt){let Nt=pt!==null&&we[pt],tn=pt!==null&&we.null,yr=[...Array.isArray(Nt)?Nt:Nt?[Nt]:[],...Array.isArray(tn)?tn:tn?[tn]:[]];return Le(yr)(pt)}}function Le(we){return He=we,v=0,we.length===0?de:Rt(we[v])}function Rt(we){return gn;function gn(pt){return Fe=ae(),_e=we,we.partial||(h.currentConstruct=we),we.name&&h.parser.constructs.disable.null.includes(we.name)?mn(pt):we.tokenize.call(U?Object.assign(Object.create(h),U):h,p,en,mn)(pt)}}function en(we){return f=!0,N(_e,Fe),ce}function mn(we){return f=!0,Fe.restore(),++v<He.length?Rt(He[v]):de}}}function ne(N,U){N.resolveAll&&!s.includes(N)&&s.push(N),N.resolve&&Se(h.events,U,h.events.length-U,N.resolve(h.events.slice(U),h)),N.resolveTo&&(h.events=N.resolveTo(h.events,h))}function ae(){let N=S(),U=h.previous,V=h.currentConstruct,ee=h.events.length,ce=Array.from(u);return{from:ee,restore:de};function de(){r=N,h.previous=U,h.currentConstruct=V,h.events.length=ee,u=ce,X()}}function X(){r.line in o&&r.column<2&&(r.column=o[r.line],r.offset+=o[r.line]-1)}}function ry(t,e){let n=e.start._index,r=e.start._bufferIndex,o=e.end._index,s=e.end._bufferIndex,l;if(n===o)l=[t[n].slice(r,s)];else{if(l=t.slice(n,o),r>-1){let u=l[0];typeof u=="string"?l[0]=u.slice(r):l.shift()}s>0&&l.push(t[o].slice(0,s))}return l}function iy(t,e){let n=-1,r=[],o;for(;++n<t.length;){let s=t[n],l;if(typeof s=="string")l=s;else switch(s){case-5:{l="\r";break}case-4:{l=`
`;break}case-3:{l=`\r
`;break}case-2:{l=e?" ":"	";break}case-1:{if(!e&&o)continue;l=" ";break}default:l=String.fromCharCode(s)}o=s===-2,r.push(l)}return r.join("")}function va(t){let r={constructs:Cc([ka,...(t||{}).extensions||[]]),content:o(Fc),defined:[],document:o(Dc),flow:o(Lc),lazy:{},string:o(Nc),text:o(Wc)};return r;function o(s){return l;function l(u){return Vc(r,s,u)}}}function Aa(t){for(;!so(t););return t}var zc=/[\0\t\n\r]/g;function Ca(){let t=1,e="",n=!0,r;return o;function o(s,l,u){let f=[],p,h,m,g,y;for(s=e+(typeof s=="string"?s.toString():new TextDecoder(l||void 0).decode(s)),m=0,e="",n&&(s.charCodeAt(0)===65279&&m++,n=void 0);m<s.length;){if(zc.lastIndex=m,p=zc.exec(s),g=p&&p.index!==void 0?p.index:s.length,y=s.charCodeAt(g),!p){e=s.slice(m);break}if(y===10&&m===g&&r)f.push(-3),r=void 0;else switch(r&&(f.push(-5),r=void 0),m<g&&(f.push(s.slice(m,g)),t+=g-m),y){case 0:{f.push(65533),t++;break}case 9:{for(h=Math.ceil(t/4)*4,f.push(-2);t++<h;)f.push(-1);break}case 10:{f.push(-4),t=1;break}default:r=!0,t=1}m=g+1}return u&&(r&&f.push(-5),e&&f.push(e),f.push(null)),f}}var oy=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function fo(t){return t.replace(oy,sy)}function sy(t,e,n){if(e)return e;if(n.charCodeAt(0)===35){let o=n.charCodeAt(1),s=o===120||o===88;return eo(n.slice(s?2:1),s?16:10)}return rr(n)||t}function ln(t){return!t||typeof t!="object"?"":"position"in t||"type"in t?Uc(t.position):"start"in t||"end"in t?Uc(t):"line"in t||"column"in t?xa(t):""}function xa(t){return $c(t&&t.line)+":"+$c(t&&t.column)}function Uc(t){return xa(t&&t.start)+"-"+xa(t&&t.end)}function $c(t){return t&&typeof t=="number"?t:1}var jc={}.hasOwnProperty;function Ea(t,e,n){return typeof e!="string"&&(n=e,e=void 0),ay(n)(Aa(va(n).document().write(Ca()(t,e,!0))))}function ay(t){let e={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:s(Re),autolinkProtocol:G,autolinkEmail:G,atxHeading:s(ai),blockQuote:s(pt),characterEscape:G,characterReference:G,codeFenced:s(Nt),codeFencedFenceInfo:l,codeFencedFenceMeta:l,codeIndented:s(Nt,l),codeText:s(tn,l),codeTextData:G,data:G,codeFlowValue:G,definition:s(yr),definitionDestinationString:l,definitionLabelString:l,definitionTitleString:l,emphasis:s(As),hardBreakEscape:s(li),hardBreakTrailing:s(li),htmlFlow:s(ui,l),htmlFlowData:G,htmlText:s(ui,l),htmlTextData:G,image:s(ci),label:l,link:s(Re),listItem:s(Cs),listItemValue:g,listOrdered:s(Ln,m),listUnordered:s(Ln),paragraph:s(xs),reference:b,referenceString:l,resourceDestinationString:l,resourceTitleString:l,setextHeading:s(ai),strong:s(fi),thematicBreak:s(di)},exit:{atxHeading:f(),atxHeadingSequence:Y,autolink:f(),autolinkEmail:gn,autolinkProtocol:we,blockQuote:f(),characterEscapeValue:ne,characterReferenceMarkerHexadecimal:Rt,characterReferenceMarkerNumeric:Rt,characterReferenceValue:en,characterReference:mn,codeFenced:f(S),codeFencedFence:F,codeFencedFenceInfo:y,codeFencedFenceMeta:A,codeFlowValue:ne,codeIndented:f(C),codeText:f(V),codeTextData:ne,data:ne,definition:f(),definitionDestinationString:B,definitionLabelString:_,definitionTitleString:P,emphasis:f(),hardBreakEscape:f(X),hardBreakTrailing:f(X),htmlFlow:f(N),htmlFlowData:ne,htmlText:f(U),htmlTextData:ne,image:f(ce),label:He,labelText:de,lineEnding:ae,link:f(ee),listItem:f(),listOrdered:f(),listUnordered:f(),paragraph:f(),referenceString:Le,resourceDestinationString:v,resourceTitleString:_e,resource:Fe,setextHeading:f(j),setextHeadingLineSequence:Q,setextHeadingText:E,strong:f(),thematicBreak:f()}};Gc(e,(t||{}).mdastExtensions||[]);let n={};return r;function r(T){let I={type:"root",children:[]},M={stack:[I],tokenStack:[],config:e,enter:u,exit:p,buffer:l,resume:h,data:n},q=[],re=-1;for(;++re<T.length;)if(T[re][1].type==="listOrdered"||T[re][1].type==="listUnordered")if(T[re][0]==="enter")q.push(re);else{let Pe=q.pop();re=o(T,Pe,re)}for(re=-1;++re<T.length;){let Pe=e[T[re][0]];jc.call(Pe,T[re][1].type)&&Pe[T[re][1].type].call(Object.assign({sliceSerialize:T[re][2].sliceSerialize},M),T[re][1])}if(M.tokenStack.length>0){let Pe=M.tokenStack[M.tokenStack.length-1];(Pe[1]||Hc).call(M,void 0,Pe[0])}for(I.position={start:un(T.length>0?T[0][1].start:{line:1,column:1,offset:0}),end:un(T.length>0?T[T.length-2][1].end:{line:1,column:1,offset:0})},re=-1;++re<e.transforms.length;)I=e.transforms[re](I)||I;return I}function o(T,I,M){let q=I-1,re=-1,Pe=!1,mt,je,nt,St;for(;++q<=M;){let We=T[q];switch(We[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{We[0]==="enter"?re++:re--,St=void 0;break}case"lineEndingBlank":{We[0]==="enter"&&(mt&&!St&&!re&&!nt&&(nt=q),St=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:St=void 0}if(!re&&We[0]==="enter"&&We[1].type==="listItemPrefix"||re===-1&&We[0]==="exit"&&(We[1].type==="listUnordered"||We[1].type==="listOrdered")){if(mt){let gt=q;for(je=void 0;gt--;){let wt=T[gt];if(wt[1].type==="lineEnding"||wt[1].type==="lineEndingBlank"){if(wt[0]==="exit")continue;je&&(T[je][1].type="lineEndingBlank",Pe=!0),wt[1].type="lineEnding",je=gt}else if(!(wt[1].type==="linePrefix"||wt[1].type==="blockQuotePrefix"||wt[1].type==="blockQuotePrefixWhitespace"||wt[1].type==="blockQuoteMarker"||wt[1].type==="listItemIndent"))break}nt&&(!je||nt<je)&&(mt._spread=!0),mt.end=Object.assign({},je?T[je][1].start:We[1].end),T.splice(je||q,0,["exit",mt,We[2]]),q++,M++}if(We[1].type==="listItemPrefix"){let gt={type:"listItem",_spread:!1,start:Object.assign({},We[1].start),end:void 0};mt=gt,T.splice(q,0,["enter",gt,We[2]]),q++,M++,nt=void 0,St=!0}}}return T[I][1]._spread=Pe,M}function s(T,I){return M;function M(q){u.call(this,T(q),q),I&&I.call(this,q)}}function l(){this.stack.push({type:"fragment",children:[]})}function u(T,I,M){this.stack[this.stack.length-1].children.push(T),this.stack.push(T),this.tokenStack.push([I,M||void 0]),T.position={start:un(I.start),end:void 0}}function f(T){return I;function I(M){T&&T.call(this,M),p.call(this,M)}}function p(T,I){let M=this.stack.pop(),q=this.tokenStack.pop();if(q)q[0].type!==T.type&&(I?I.call(this,T,q[0]):(q[1]||Hc).call(this,T,q[0]));else throw new Error("Cannot close `"+T.type+"` ("+ln({start:T.start,end:T.end})+"): it\u2019s not open");M.position.end=un(T.end)}function h(){return En(this.stack.pop())}function m(){this.data.expectingFirstListItemValue=!0}function g(T){if(this.data.expectingFirstListItemValue){let I=this.stack[this.stack.length-2];I.start=Number.parseInt(this.sliceSerialize(T),10),this.data.expectingFirstListItemValue=void 0}}function y(){let T=this.resume(),I=this.stack[this.stack.length-1];I.lang=T}function A(){let T=this.resume(),I=this.stack[this.stack.length-1];I.meta=T}function F(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function S(){let T=this.resume(),I=this.stack[this.stack.length-1];I.value=T.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function C(){let T=this.resume(),I=this.stack[this.stack.length-1];I.value=T.replace(/(\r?\n|\r)$/g,"")}function _(T){let I=this.resume(),M=this.stack[this.stack.length-1];M.label=I,M.identifier=Kt(this.sliceSerialize(T)).toLowerCase()}function P(){let T=this.resume(),I=this.stack[this.stack.length-1];I.title=T}function B(){let T=this.resume(),I=this.stack[this.stack.length-1];I.url=T}function Y(T){let I=this.stack[this.stack.length-1];if(!I.depth){let M=this.sliceSerialize(T).length;I.depth=M}}function E(){this.data.setextHeadingSlurpLineEnding=!0}function Q(T){let I=this.stack[this.stack.length-1];I.depth=this.sliceSerialize(T).codePointAt(0)===61?1:2}function j(){this.data.setextHeadingSlurpLineEnding=void 0}function G(T){let M=this.stack[this.stack.length-1].children,q=M[M.length-1];(!q||q.type!=="text")&&(q=Ne(),q.position={start:un(T.start),end:void 0},M.push(q)),this.stack.push(q)}function ne(T){let I=this.stack.pop();I.value+=this.sliceSerialize(T),I.position.end=un(T.end)}function ae(T){let I=this.stack[this.stack.length-1];if(this.data.atHardBreak){let M=I.children[I.children.length-1];M.position.end=un(T.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&e.canContainEols.includes(I.type)&&(G.call(this,T),ne.call(this,T))}function X(){this.data.atHardBreak=!0}function N(){let T=this.resume(),I=this.stack[this.stack.length-1];I.value=T}function U(){let T=this.resume(),I=this.stack[this.stack.length-1];I.value=T}function V(){let T=this.resume(),I=this.stack[this.stack.length-1];I.value=T}function ee(){let T=this.stack[this.stack.length-1];if(this.data.inReference){let I=this.data.referenceType||"shortcut";T.type+="Reference",T.referenceType=I,delete T.url,delete T.title}else delete T.identifier,delete T.label;this.data.referenceType=void 0}function ce(){let T=this.stack[this.stack.length-1];if(this.data.inReference){let I=this.data.referenceType||"shortcut";T.type+="Reference",T.referenceType=I,delete T.url,delete T.title}else delete T.identifier,delete T.label;this.data.referenceType=void 0}function de(T){let I=this.sliceSerialize(T),M=this.stack[this.stack.length-2];M.label=fo(I),M.identifier=Kt(I).toLowerCase()}function He(){let T=this.stack[this.stack.length-1],I=this.resume(),M=this.stack[this.stack.length-1];if(this.data.inReference=!0,M.type==="link"){let q=T.children;M.children=q}else M.alt=I}function v(){let T=this.resume(),I=this.stack[this.stack.length-1];I.url=T}function _e(){let T=this.resume(),I=this.stack[this.stack.length-1];I.title=T}function Fe(){this.data.inReference=void 0}function b(){this.data.referenceType="collapsed"}function Le(T){let I=this.resume(),M=this.stack[this.stack.length-1];M.label=I,M.identifier=Kt(this.sliceSerialize(T)).toLowerCase(),this.data.referenceType="full"}function Rt(T){this.data.characterReferenceType=T.type}function en(T){let I=this.sliceSerialize(T),M=this.data.characterReferenceType,q;M?(q=eo(I,M==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):q=rr(I);let re=this.stack[this.stack.length-1];re.value+=q}function mn(T){let I=this.stack.pop();I.position.end=un(T.end)}function we(T){ne.call(this,T);let I=this.stack[this.stack.length-1];I.url=this.sliceSerialize(T)}function gn(T){ne.call(this,T);let I=this.stack[this.stack.length-1];I.url="mailto:"+this.sliceSerialize(T)}function pt(){return{type:"blockquote",children:[]}}function Nt(){return{type:"code",lang:null,meta:null,value:""}}function tn(){return{type:"inlineCode",value:""}}function yr(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function As(){return{type:"emphasis",children:[]}}function ai(){return{type:"heading",depth:0,children:[]}}function li(){return{type:"break"}}function ui(){return{type:"html",value:""}}function ci(){return{type:"image",title:null,url:"",alt:null}}function Re(){return{type:"link",title:null,url:"",children:[]}}function Ln(T){return{type:"list",ordered:T.type==="listOrdered",start:null,spread:T._spread,children:[]}}function Cs(T){return{type:"listItem",spread:T._spread,checked:null,children:[]}}function xs(){return{type:"paragraph",children:[]}}function fi(){return{type:"strong",children:[]}}function Ne(){return{type:"text",value:""}}function di(){return{type:"thematicBreak"}}}function un(t){return{line:t.line,column:t.column,offset:t.offset}}function Gc(t,e){let n=-1;for(;++n<e.length;){let r=e[n];Array.isArray(r)?Gc(t,r):ly(t,r)}}function ly(t,e){let n;for(n in e)if(jc.call(e,n))switch(n){case"canContainEols":{let r=e[n];r&&t[n].push(...r);break}case"transforms":{let r=e[n];r&&t[n].push(...r);break}case"enter":case"exit":{let r=e[n];r&&Object.assign(t[n],r);break}}}function Hc(t,e){throw t?new Error("Cannot close `"+t.type+"` ("+ln({start:t.start,end:t.end})+"): a different token (`"+e.type+"`, "+ln({start:e.start,end:e.end})+") is open"):new Error("Cannot close document, a token (`"+e.type+"`, "+ln({start:e.start,end:e.end})+") is still open")}function sr(t){let e=this;e.parser=n;function n(r){return Ea(r,{...e.data("settings"),...t,extensions:e.data("micromarkExtensions")||[],mdastExtensions:e.data("fromMarkdownExtensions")||[]})}}var qc={}.hasOwnProperty;function Kc(t,e){let n=e||{};function r(o,...s){let l=r.invalid,u=r.handlers;if(o&&qc.call(o,t)){let f=String(o[t]);l=qc.call(u,f)?u[f]:r.unknown}if(l)return l.call(this,o,...s)}return r.handlers=n.handlers||{},r.invalid=n.invalid,r.unknown=n.unknown,r}var uy={}.hasOwnProperty;function Sa(t,e){let n=-1,r;if(e.extensions)for(;++n<e.extensions.length;)Sa(t,e.extensions[n]);for(r in e)if(uy.call(e,r))switch(r){case"extensions":break;case"unsafe":{Zc(t[r],e[r]);break}case"join":{Zc(t[r],e[r]);break}case"handlers":{cy(t[r],e[r]);break}default:t.options[r]=e[r]}return t}function Zc(t,e){e&&t.push(...e)}function cy(t,e){e&&Object.assign(t,e)}function Qc(t,e,n,r){let o=n.enter("blockquote"),s=n.createTracker(r);s.move("> "),s.shift(2);let l=n.indentLines(n.containerFlow(t,s.current()),fy);return o(),l}function fy(t,e,n){return">"+(n?"":" ")+t}function ho(t,e){return Jc(t,e.inConstruct,!0)&&!Jc(t,e.notInConstruct,!1)}function Jc(t,e,n){if(typeof e=="string"&&(e=[e]),!e||e.length===0)return n;let r=-1;for(;++r<e.length;)if(t.includes(e[r]))return!0;return!1}function Ta(t,e,n,r){let o=-1;for(;++o<n.unsafe.length;)if(n.unsafe[o].character===`
`&&ho(n.stack,n.unsafe[o]))return/[ \t]/.test(r.before)?"":" ";return`\\
`}function Xc(t,e){let n=String(t),r=n.indexOf(e),o=r,s=0,l=0;if(typeof e!="string")throw new TypeError("Expected substring");for(;r!==-1;)r===o?++s>l&&(l=s):s=1,o=r+e.length,r=n.indexOf(e,o);return l}function jr(t,e){return!!(e.options.fences===!1&&t.value&&!t.lang&&/[^ \r\n]/.test(t.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(t.value))}function ef(t){let e=t.options.fence||"`";if(e!=="`"&&e!=="~")throw new Error("Cannot serialize code with `"+e+"` for `options.fence`, expected `` ` `` or `~`");return e}function tf(t,e,n,r){let o=ef(n),s=t.value||"",l=o==="`"?"GraveAccent":"Tilde";if(jr(t,n)){let m=n.enter("codeIndented"),g=n.indentLines(s,dy);return m(),g}let u=n.createTracker(r),f=o.repeat(Math.max(Xc(s,o)+1,3)),p=n.enter("codeFenced"),h=u.move(f);if(t.lang){let m=n.enter(`codeFencedLang${l}`);h+=u.move(n.safe(t.lang,{before:h,after:" ",encode:["`"],...u.current()})),m()}if(t.lang&&t.meta){let m=n.enter(`codeFencedMeta${l}`);h+=u.move(" "),h+=u.move(n.safe(t.meta,{before:h,after:`
`,encode:["`"],...u.current()})),m()}return h+=u.move(`
`),s&&(h+=u.move(s+`
`)),h+=u.move(f),p(),h}function dy(t,e,n){return(n?"":"    ")+t}function ar(t){let e=t.options.quote||'"';if(e!=='"'&&e!=="'")throw new Error("Cannot serialize title with `"+e+"` for `options.quote`, expected `\"`, or `'`");return e}function nf(t,e,n,r){let o=ar(n),s=o==='"'?"Quote":"Apostrophe",l=n.enter("definition"),u=n.enter("label"),f=n.createTracker(r),p=f.move("[");return p+=f.move(n.safe(n.associationId(t),{before:p,after:"]",...f.current()})),p+=f.move("]: "),u(),!t.url||/[\0- \u007F]/.test(t.url)?(u=n.enter("destinationLiteral"),p+=f.move("<"),p+=f.move(n.safe(t.url,{before:p,after:">",...f.current()})),p+=f.move(">")):(u=n.enter("destinationRaw"),p+=f.move(n.safe(t.url,{before:p,after:t.title?" ":`
`,...f.current()}))),u(),t.title&&(u=n.enter(`title${s}`),p+=f.move(" "+o),p+=f.move(n.safe(t.title,{before:p,after:o,...f.current()})),p+=f.move(o),u()),l(),p}function rf(t){let e=t.options.emphasis||"*";if(e!=="*"&&e!=="_")throw new Error("Cannot serialize emphasis with `"+e+"` for `options.emphasis`, expected `*`, or `_`");return e}function et(t){return"&#x"+t.toString(16).toUpperCase()+";"}function lr(t,e,n){let r=ir(t),o=ir(e);return r===void 0?o===void 0?n==="_"?{inside:!0,outside:!0}:{inside:!1,outside:!1}:o===1?{inside:!0,outside:!0}:{inside:!1,outside:!0}:r===1?o===void 0?{inside:!1,outside:!1}:o===1?{inside:!0,outside:!0}:{inside:!1,outside:!1}:o===void 0?{inside:!1,outside:!1}:o===1?{inside:!0,outside:!1}:{inside:!1,outside:!1}}_a.peek=hy;function _a(t,e,n,r){let o=rf(n),s=n.enter("emphasis"),l=n.createTracker(r),u=l.move(o),f=l.move(n.containerPhrasing(t,{after:o,before:u,...l.current()})),p=f.charCodeAt(0),h=lr(r.before.charCodeAt(r.before.length-1),p,o);h.inside&&(f=et(p)+f.slice(1));let m=f.charCodeAt(f.length-1),g=lr(r.after.charCodeAt(0),m,o);g.inside&&(f=f.slice(0,-1)+et(m));let y=l.move(o);return s(),n.attentionEncodeSurroundingInfo={after:g.outside,before:h.outside},u+f+y}function hy(t,e,n){return n.options.emphasis||"*"}var ur=(function(t){if(t==null)return wy;if(typeof t=="function")return po(t);if(typeof t=="object")return Array.isArray(t)?py(t):my(t);if(typeof t=="string")return gy(t);throw new Error("Expected function, string, or object as test")});function py(t){let e=[],n=-1;for(;++n<t.length;)e[n]=ur(t[n]);return po(r);function r(...o){let s=-1;for(;++s<e.length;)if(e[s].apply(this,o))return!0;return!1}}function my(t){let e=t;return po(n);function n(r){let o=r,s;for(s in t)if(o[s]!==e[s])return!1;return!0}}function gy(t){return po(e);function e(n){return n&&n.type===t}}function po(t){return e;function e(n,r,o){return!!(yy(n)&&t.call(this,n,typeof r=="number"?r:void 0,o||void 0))}}function wy(){return!0}function yy(t){return t!==null&&typeof t=="object"&&"type"in t}function of(t){return"\x1B[33m"+t+"\x1B[39m"}var sf=[],mo=!0,Fn=!1,go="skip";function Fa(t,e,n,r){let o;typeof e=="function"&&typeof n!="function"?(r=n,n=e):o=e;let s=ur(o),l=r?-1:1;u(t,void 0,[])();function u(f,p,h){let m=f&&typeof f=="object"?f:{};if(typeof m.type=="string"){let y=typeof m.tagName=="string"?m.tagName:typeof m.name=="string"?m.name:void 0;Object.defineProperty(g,"name",{value:"node ("+of(f.type+(y?"<"+y+">":""))+")"})}return g;function g(){let y=sf,A,F,S;if((!e||s(f,p,h[h.length-1]||void 0))&&(y=by(n(f,h)),y[0]===Fn))return y;if("children"in f&&f.children){let C=f;if(C.children&&y[0]!==go)for(F=(r?C.children.length:-1)+l,S=h.concat(C);F>-1&&F<C.children.length;){let _=C.children[F];if(A=u(_,F,S)(),A[0]===Fn)return A;F=typeof A[1]=="number"?A[1]:F+l}}return y}}}function by(t){return Array.isArray(t)?t:typeof t=="number"?[mo,t]:t==null?sf:[t]}function Gr(t,e,n,r){let o,s,l;typeof e=="function"&&typeof n!="function"?(s=void 0,l=e,o=n):(s=e,l=n,o=r),Fa(t,s,u,o);function u(f,p){let h=p[p.length-1],m=h?h.children.indexOf(f):void 0;return l(f,m,h)}}function wo(t,e){let n=!1;return Gr(t,function(r){if("value"in r&&/\r?\n|\r/.test(r.value)||r.type==="break")return n=!0,Fn}),!!((!t.depth||t.depth<3)&&En(t)&&(e.options.setext||n))}function af(t,e,n,r){let o=Math.max(Math.min(6,t.depth||1),1),s=n.createTracker(r);if(wo(t,n)){let h=n.enter("headingSetext"),m=n.enter("phrasing"),g=n.containerPhrasing(t,{...s.current(),before:`
`,after:`
`});return m(),h(),g+`
`+(o===1?"=":"-").repeat(g.length-(Math.max(g.lastIndexOf("\r"),g.lastIndexOf(`
`))+1))}let l="#".repeat(o),u=n.enter("headingAtx"),f=n.enter("phrasing");s.move(l+" ");let p=n.containerPhrasing(t,{before:"# ",after:`
`,...s.current()});return/^[\t ]/.test(p)&&(p=et(p.charCodeAt(0))+p.slice(1)),p=p?l+" "+p:l,n.options.closeAtx&&(p+=" "+l),f(),u(),p}Pa.peek=ky;function Pa(t){return t.value||""}function ky(){return"<"}Da.peek=vy;function Da(t,e,n,r){let o=ar(n),s=o==='"'?"Quote":"Apostrophe",l=n.enter("image"),u=n.enter("label"),f=n.createTracker(r),p=f.move("![");return p+=f.move(n.safe(t.alt,{before:p,after:"]",...f.current()})),p+=f.move("]("),u(),!t.url&&t.title||/[\0- \u007F]/.test(t.url)?(u=n.enter("destinationLiteral"),p+=f.move("<"),p+=f.move(n.safe(t.url,{before:p,after:">",...f.current()})),p+=f.move(">")):(u=n.enter("destinationRaw"),p+=f.move(n.safe(t.url,{before:p,after:t.title?" ":")",...f.current()}))),u(),t.title&&(u=n.enter(`title${s}`),p+=f.move(" "+o),p+=f.move(n.safe(t.title,{before:p,after:o,...f.current()})),p+=f.move(o),u()),p+=f.move(")"),l(),p}function vy(){return"!"}Ia.peek=Ay;function Ia(t,e,n,r){let o=t.referenceType,s=n.enter("imageReference"),l=n.enter("label"),u=n.createTracker(r),f=u.move("!["),p=n.safe(t.alt,{before:f,after:"]",...u.current()});f+=u.move(p+"]["),l();let h=n.stack;n.stack=[],l=n.enter("reference");let m=n.safe(n.associationId(t),{before:f,after:"]",...u.current()});return l(),n.stack=h,s(),o==="full"||!p||p!==m?f+=u.move(m+"]"):o==="shortcut"?f=f.slice(0,-1):f+=u.move("]"),f}function Ay(){return"!"}Ma.peek=Cy;function Ma(t,e,n){let r=t.value||"",o="`",s=-1;for(;new RegExp("(^|[^`])"+o+"([^`]|$)").test(r);)o+="`";for(/[^ \r\n]/.test(r)&&(/^[ \r\n]/.test(r)&&/[ \r\n]$/.test(r)||/^`|`$/.test(r))&&(r=" "+r+" ");++s<n.unsafe.length;){let l=n.unsafe[s],u=n.compilePattern(l),f;if(l.atBreak)for(;f=u.exec(r);){let p=f.index;r.charCodeAt(p)===10&&r.charCodeAt(p-1)===13&&p--,r=r.slice(0,p)+" "+r.slice(f.index+1)}}return o+r+o}function Cy(){return"`"}function Oa(t,e){let n=En(t);return!!(!e.options.resourceLink&&t.url&&!t.title&&t.children&&t.children.length===1&&t.children[0].type==="text"&&(n===t.url||"mailto:"+n===t.url)&&/^[a-z][a-z+.-]+:/i.test(t.url)&&!/[\0- <>\u007F]/.test(t.url))}La.peek=xy;function La(t,e,n,r){let o=ar(n),s=o==='"'?"Quote":"Apostrophe",l=n.createTracker(r),u,f;if(Oa(t,n)){let h=n.stack;n.stack=[],u=n.enter("autolink");let m=l.move("<");return m+=l.move(n.containerPhrasing(t,{before:m,after:">",...l.current()})),m+=l.move(">"),u(),n.stack=h,m}u=n.enter("link"),f=n.enter("label");let p=l.move("[");return p+=l.move(n.containerPhrasing(t,{before:p,after:"](",...l.current()})),p+=l.move("]("),f(),!t.url&&t.title||/[\0- \u007F]/.test(t.url)?(f=n.enter("destinationLiteral"),p+=l.move("<"),p+=l.move(n.safe(t.url,{before:p,after:">",...l.current()})),p+=l.move(">")):(f=n.enter("destinationRaw"),p+=l.move(n.safe(t.url,{before:p,after:t.title?" ":")",...l.current()}))),f(),t.title&&(f=n.enter(`title${s}`),p+=l.move(" "+o),p+=l.move(n.safe(t.title,{before:p,after:o,...l.current()})),p+=l.move(o),f()),p+=l.move(")"),u(),p}function xy(t,e,n){return Oa(t,n)?"<":"["}Ra.peek=Ey;function Ra(t,e,n,r){let o=t.referenceType,s=n.enter("linkReference"),l=n.enter("label"),u=n.createTracker(r),f=u.move("["),p=n.containerPhrasing(t,{before:f,after:"]",...u.current()});f+=u.move(p+"]["),l();let h=n.stack;n.stack=[],l=n.enter("reference");let m=n.safe(n.associationId(t),{before:f,after:"]",...u.current()});return l(),n.stack=h,s(),o==="full"||!p||p!==m?f+=u.move(m+"]"):o==="shortcut"?f=f.slice(0,-1):f+=u.move("]"),f}function Ey(){return"["}function cr(t){let e=t.options.bullet||"*";if(e!=="*"&&e!=="+"&&e!=="-")throw new Error("Cannot serialize items with `"+e+"` for `options.bullet`, expected `*`, `+`, or `-`");return e}function lf(t){let e=cr(t),n=t.options.bulletOther;if(!n)return e==="*"?"-":"*";if(n!=="*"&&n!=="+"&&n!=="-")throw new Error("Cannot serialize items with `"+n+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(n===e)throw new Error("Expected `bullet` (`"+e+"`) and `bulletOther` (`"+n+"`) to be different");return n}function uf(t){let e=t.options.bulletOrdered||".";if(e!=="."&&e!==")")throw new Error("Cannot serialize items with `"+e+"` for `options.bulletOrdered`, expected `.` or `)`");return e}function yo(t){let e=t.options.rule||"*";if(e!=="*"&&e!=="-"&&e!=="_")throw new Error("Cannot serialize rules with `"+e+"` for `options.rule`, expected `*`, `-`, or `_`");return e}function cf(t,e,n,r){let o=n.enter("list"),s=n.bulletCurrent,l=t.ordered?uf(n):cr(n),u=t.ordered?l==="."?")":".":lf(n),f=e&&n.bulletLastUsed?l===n.bulletLastUsed:!1;if(!t.ordered){let h=t.children?t.children[0]:void 0;if((l==="*"||l==="-")&&h&&(!h.children||!h.children[0])&&n.stack[n.stack.length-1]==="list"&&n.stack[n.stack.length-2]==="listItem"&&n.stack[n.stack.length-3]==="list"&&n.stack[n.stack.length-4]==="listItem"&&n.indexStack[n.indexStack.length-1]===0&&n.indexStack[n.indexStack.length-2]===0&&n.indexStack[n.indexStack.length-3]===0&&(f=!0),yo(n)===l&&h){let m=-1;for(;++m<t.children.length;){let g=t.children[m];if(g&&g.type==="listItem"&&g.children&&g.children[0]&&g.children[0].type==="thematicBreak"){f=!0;break}}}}f&&(l=u),n.bulletCurrent=l;let p=n.containerFlow(t,r);return n.bulletLastUsed=l,n.bulletCurrent=s,o(),p}function ff(t){let e=t.options.listItemIndent||"one";if(e!=="tab"&&e!=="one"&&e!=="mixed")throw new Error("Cannot serialize items with `"+e+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return e}function df(t,e,n,r){let o=ff(n),s=n.bulletCurrent||cr(n);e&&e.type==="list"&&e.ordered&&(s=(typeof e.start=="number"&&e.start>-1?e.start:1)+(n.options.incrementListMarker===!1?0:e.children.indexOf(t))+s);let l=s.length+1;(o==="tab"||o==="mixed"&&(e&&e.type==="list"&&e.spread||t.spread))&&(l=Math.ceil(l/4)*4);let u=n.createTracker(r);u.move(s+" ".repeat(l-s.length)),u.shift(l);let f=n.enter("listItem"),p=n.indentLines(n.containerFlow(t,u.current()),h);return f(),p;function h(m,g,y){return g?(y?"":" ".repeat(l))+m:(y?s:s+" ".repeat(l-s.length))+m}}function hf(t,e,n,r){let o=n.enter("paragraph"),s=n.enter("phrasing"),l=n.containerPhrasing(t,r);return s(),o(),l}var Na=ur(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function pf(t,e,n,r){return(t.children.some(function(l){return Na(l)})?n.containerPhrasing:n.containerFlow).call(n,t,r)}function mf(t){let e=t.options.strong||"*";if(e!=="*"&&e!=="_")throw new Error("Cannot serialize strong with `"+e+"` for `options.strong`, expected `*`, or `_`");return e}Wa.peek=Sy;function Wa(t,e,n,r){let o=mf(n),s=n.enter("strong"),l=n.createTracker(r),u=l.move(o+o),f=l.move(n.containerPhrasing(t,{after:o,before:u,...l.current()})),p=f.charCodeAt(0),h=lr(r.before.charCodeAt(r.before.length-1),p,o);h.inside&&(f=et(p)+f.slice(1));let m=f.charCodeAt(f.length-1),g=lr(r.after.charCodeAt(0),m,o);g.inside&&(f=f.slice(0,-1)+et(m));let y=l.move(o+o);return s(),n.attentionEncodeSurroundingInfo={after:g.outside,before:h.outside},u+f+y}function Sy(t,e,n){return n.options.strong||"*"}function gf(t,e,n,r){return n.safe(t.value,r)}function wf(t){let e=t.options.ruleRepetition||3;if(e<3)throw new Error("Cannot serialize rules with repetition `"+e+"` for `options.ruleRepetition`, expected `3` or more");return e}function yf(t,e,n){let r=(yo(n)+(n.options.ruleSpaces?" ":"")).repeat(wf(n));return n.options.ruleSpaces?r.slice(0,-1):r}var bf={blockquote:Qc,break:Ta,code:tf,definition:nf,emphasis:_a,hardBreak:Ta,heading:af,html:Pa,image:Da,imageReference:Ia,inlineCode:Ma,link:La,linkReference:Ra,list:cf,listItem:df,paragraph:hf,root:pf,strong:Wa,text:gf,thematicBreak:yf};var kf=[Ty];function Ty(t,e,n,r){if(e.type==="code"&&jr(e,r)&&(t.type==="list"||t.type===e.type&&jr(t,r)))return!1;if("spread"in n&&typeof n.spread=="boolean")return t.type==="paragraph"&&(t.type===e.type||e.type==="definition"||e.type==="heading"&&wo(e,r))?void 0:n.spread?1:0}var Pn=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"],vf=[{character:"	",after:"[\\r\\n]",inConstruct:"phrasing"},{character:"	",before:"[\\r\\n]",inConstruct:"phrasing"},{character:"	",inConstruct:["codeFencedLangGraveAccent","codeFencedLangTilde"]},{character:"\r",inConstruct:["codeFencedLangGraveAccent","codeFencedLangTilde","codeFencedMetaGraveAccent","codeFencedMetaTilde","destinationLiteral","headingAtx"]},{character:`
`,inConstruct:["codeFencedLangGraveAccent","codeFencedLangTilde","codeFencedMetaGraveAccent","codeFencedMetaTilde","destinationLiteral","headingAtx"]},{character:" ",after:"[\\r\\n]",inConstruct:"phrasing"},{character:" ",before:"[\\r\\n]",inConstruct:"phrasing"},{character:" ",inConstruct:["codeFencedLangGraveAccent","codeFencedLangTilde"]},{character:"!",after:"\\[",inConstruct:"phrasing",notInConstruct:Pn},{character:'"',inConstruct:"titleQuote"},{atBreak:!0,character:"#"},{character:"#",inConstruct:"headingAtx",after:`(?:[\r
]|$)`},{character:"&",after:"[#A-Za-z]",inConstruct:"phrasing"},{character:"'",inConstruct:"titleApostrophe"},{character:"(",inConstruct:"destinationRaw"},{before:"\\]",character:"(",inConstruct:"phrasing",notInConstruct:Pn},{atBreak:!0,before:"\\d+",character:")"},{character:")",inConstruct:"destinationRaw"},{atBreak:!0,character:"*",after:`(?:[ 	\r
*])`},{character:"*",inConstruct:"phrasing",notInConstruct:Pn},{atBreak:!0,character:"+",after:`(?:[ 	\r
])`},{atBreak:!0,character:"-",after:`(?:[ 	\r
-])`},{atBreak:!0,before:"\\d+",character:".",after:`(?:[ 	\r
]|$)`},{atBreak:!0,character:"<",after:"[!/?A-Za-z]"},{character:"<",after:"[!/?A-Za-z]",inConstruct:"phrasing",notInConstruct:Pn},{character:"<",inConstruct:"destinationLiteral"},{atBreak:!0,character:"="},{atBreak:!0,character:">"},{character:">",inConstruct:"destinationLiteral"},{atBreak:!0,character:"["},{character:"[",inConstruct:"phrasing",notInConstruct:Pn},{character:"[",inConstruct:["label","reference"]},{character:"\\",after:"[\\r\\n]",inConstruct:"phrasing"},{character:"]",inConstruct:["label","reference"]},{atBreak:!0,character:"_"},{character:"_",inConstruct:"phrasing",notInConstruct:Pn},{atBreak:!0,character:"`"},{character:"`",inConstruct:["codeFencedLangGraveAccent","codeFencedMetaGraveAccent"]},{character:"`",inConstruct:"phrasing",notInConstruct:Pn},{atBreak:!0,character:"~"}];function Af(t){return t.label||!t.identifier?t.label||"":fo(t.identifier)}function Cf(t){if(!t._compiled){let e=(t.atBreak?"[\\r\\n][\\t ]*":"")+(t.before?"(?:"+t.before+")":"");t._compiled=new RegExp((e?"("+e+")":"")+(/[|\\{}()[\]^$+*?.-]/.test(t.character)?"\\":"")+t.character+(t.after?"(?:"+t.after+")":""),"g")}return t._compiled}function xf(t,e,n){let r=e.indexStack,o=t.children||[],s=[],l=-1,u=n.before,f;r.push(-1);let p=e.createTracker(n);for(;++l<o.length;){let h=o[l],m;if(r[r.length-1]=l,l+1<o.length){let A=e.handle.handlers[o[l+1].type];A&&A.peek&&(A=A.peek),m=A?A(o[l+1],t,e,{before:"",after:"",...p.current()}).charAt(0):""}else m=n.after;s.length>0&&(u==="\r"||u===`
`)&&h.type==="html"&&(s[s.length-1]=s[s.length-1].replace(/(\r?\n|\r)$/," "),u=" ",p=e.createTracker(n),p.move(s.join("")));let g=e.handle(h,t,e,{...p.current(),after:m,before:u});f&&f===g.slice(0,1)&&(g=et(f.charCodeAt(0))+g.slice(1));let y=e.attentionEncodeSurroundingInfo;e.attentionEncodeSurroundingInfo=void 0,f=void 0,y&&(s.length>0&&y.before&&u===s[s.length-1].slice(-1)&&(s[s.length-1]=s[s.length-1].slice(0,-1)+et(u.charCodeAt(0))),y.after&&(f=m)),p.move(g),s.push(g),u=g.slice(-1)}return r.pop(),s.join("")}function Ef(t,e,n){let r=e.indexStack,o=t.children||[],s=e.createTracker(n),l=[],u=-1;for(r.push(-1);++u<o.length;){let f=o[u];r[r.length-1]=u,l.push(s.move(e.handle(f,t,e,{before:`
`,after:`
`,...s.current()}))),f.type!=="list"&&(e.bulletLastUsed=void 0),u<o.length-1&&l.push(s.move(_y(f,o[u+1],t,e)))}return r.pop(),l.join("")}function _y(t,e,n,r){let o=r.join.length;for(;o--;){let s=r.join[o](t,e,n,r);if(s===!0||s===1)break;if(typeof s=="number")return`
`.repeat(1+s);if(s===!1)return`

<!---->

`}return`

`}var Fy=/\r?\n|\r/g;function Sf(t,e){let n=[],r=0,o=0,s;for(;s=Fy.exec(t);)l(t.slice(r,s.index)),n.push(s[0]),r=s.index+s[0].length,o++;return l(t.slice(r)),n.join("");function l(u){n.push(e(u,o,!u))}}function _f(t,e,n){let r=(n.before||"")+(e||"")+(n.after||""),o=[],s=[],l={},u=-1;for(;++u<t.unsafe.length;){let h=t.unsafe[u];if(!ho(t.stack,h))continue;let m=t.compilePattern(h),g;for(;g=m.exec(r);){let y="before"in h||!!h.atBreak,A="after"in h,F=g.index+(y?g[1].length:0);o.includes(F)?(l[F].before&&!y&&(l[F].before=!1),l[F].after&&!A&&(l[F].after=!1)):(o.push(F),l[F]={before:y,after:A})}}o.sort(Py);let f=n.before?n.before.length:0,p=r.length-(n.after?n.after.length:0);for(u=-1;++u<o.length;){let h=o[u];h<f||h>=p||h+1<p&&o[u+1]===h+1&&l[h].after&&!l[h+1].before&&!l[h+1].after||o[u-1]===h-1&&l[h].before&&!l[h-1].before&&!l[h-1].after||(f!==h&&s.push(Tf(r.slice(f,h),"\\")),f=h,/[!-/:-@[-`{-~]/.test(r.charAt(h))&&(!n.encode||!n.encode.includes(r.charAt(h)))?s.push("\\"):(s.push(et(r.charCodeAt(h))),f++))}return s.push(Tf(r.slice(f,p),n.after)),s.join("")}function Py(t,e){return t-e}function Tf(t,e){let n=/\\(?=[!-/:-@[-`{-~])/g,r=[],o=[],s=t+e,l=-1,u=0,f;for(;f=n.exec(s);)r.push(f.index);for(;++l<r.length;)u!==r[l]&&o.push(t.slice(u,r[l])),o.push("\\"),u=r[l];return o.push(t.slice(u)),o.join("")}function Ff(t){let e=t||{},n=e.now||{},r=e.lineShift||0,o=n.line||1,s=n.column||1;return{move:f,current:l,shift:u};function l(){return{now:{line:o,column:s},lineShift:r}}function u(p){r+=p}function f(p){let h=p||"",m=h.split(/\r?\n|\r/g),g=m[m.length-1];return o+=m.length-1,s=m.length===1?s+g.length:1+g.length+r,h}}function Ba(t,e){let n=e||{},r={associationId:Af,containerPhrasing:Oy,containerFlow:Ly,createTracker:Ff,compilePattern:Cf,enter:s,handlers:{...bf},handle:void 0,indentLines:Sf,indexStack:[],join:[...kf],options:{},safe:Ry,stack:[],unsafe:[...vf]};Sa(r,n),r.options.tightDefinitions&&r.join.push(My),r.handle=Kc("type",{invalid:Dy,unknown:Iy,handlers:r.handlers});let o=r.handle(t,void 0,r,{before:`
`,after:`
`,now:{line:1,column:1},lineShift:0});return o&&o.charCodeAt(o.length-1)!==10&&o.charCodeAt(o.length-1)!==13&&(o+=`
`),o;function s(l){return r.stack.push(l),u;function u(){r.stack.pop()}}}function Dy(t){throw new Error("Cannot handle value `"+t+"`, expected node")}function Iy(t){let e=t;throw new Error("Cannot handle unknown node `"+e.type+"`")}function My(t,e){if(t.type==="definition"&&t.type===e.type)return 0}function Oy(t,e){return xf(t,this,e)}function Ly(t,e){return Ef(t,this,e)}function Ry(t,e){return _f(this,t,e)}function bo(t){let e=this;e.compiler=n;function n(r){return Ba(r,{...e.data("settings"),...t,extensions:e.data("toMarkdownExtensions")||[]})}}function Ya(t){if(t)throw t}var Co=it(Wf(),1);function qr(t){if(typeof t!="object"||t===null)return!1;let e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function Va(){let t=[],e={run:n,use:r};return e;function n(...o){let s=-1,l=o.pop();if(typeof l!="function")throw new TypeError("Expected function as last argument, not "+l);u(null,...o);function u(f,...p){let h=t[++s],m=-1;if(f){l(f);return}for(;++m<o.length;)(p[m]===null||p[m]===void 0)&&(p[m]=o[m]);o=p,h?Bf(h,u)(...p):l(null,...p)}}function r(o){if(typeof o!="function")throw new TypeError("Expected `middelware` to be a function, not "+o);return t.push(o),e}}function Bf(t,e){let n;return r;function r(...l){let u=t.length>l.length,f;u&&l.push(o);try{f=t.apply(this,l)}catch(p){let h=p;if(u&&n)throw h;return o(h)}u||(f&&f.then&&typeof f.then=="function"?f.then(s,o):f instanceof Error?o(f):s(f))}function o(l,...u){n||(n=!0,e(l,...u))}function s(l){o(null,l)}}var xe=class extends Error{constructor(e,n,r){super(),typeof n=="string"&&(r=n,n=void 0);let o="",s={},l=!1;if(n&&("line"in n&&"column"in n?s={place:n}:"start"in n&&"end"in n?s={place:n}:"type"in n?s={ancestors:[n],place:n.position}:s={...n}),typeof e=="string"?o=e:!s.cause&&e&&(l=!0,o=e.message,s.cause=e),!s.ruleId&&!s.source&&typeof r=="string"){let f=r.indexOf(":");f===-1?s.ruleId=r:(s.source=r.slice(0,f),s.ruleId=r.slice(f+1))}if(!s.place&&s.ancestors&&s.ancestors){let f=s.ancestors[s.ancestors.length-1];f&&(s.place=f.position)}let u=s.place&&"start"in s.place?s.place.start:s.place;this.ancestors=s.ancestors||void 0,this.cause=s.cause||void 0,this.column=u?u.column:void 0,this.fatal=void 0,this.file="",this.message=o,this.line=u?u.line:void 0,this.name=ln(s.place)||"1:1",this.place=s.place||void 0,this.reason=this.message,this.ruleId=s.ruleId||void 0,this.source=s.source||void 0,this.stack=l&&s.cause&&typeof s.cause.stack=="string"?s.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}};xe.prototype.file="";xe.prototype.name="";xe.prototype.reason="";xe.prototype.message="";xe.prototype.stack="";xe.prototype.column=void 0;xe.prototype.line=void 0;xe.prototype.ancestors=void 0;xe.prototype.cause=void 0;xe.prototype.fatal=void 0;xe.prototype.place=void 0;xe.prototype.ruleId=void 0;xe.prototype.source=void 0;var ft=it(require("node:path"),1);var za=it(require("node:process"),1);var Ua=require("node:url");function vo(t){return!!(t!==null&&typeof t=="object"&&"href"in t&&t.href&&"protocol"in t&&t.protocol&&t.auth===void 0)}var $a=["history","path","basename","stem","extname","dirname"],Kr=class{constructor(e){let n;e?vo(e)?n={path:e}:typeof e=="string"||Ny(e)?n={value:e}:n=e:n={},this.cwd="cwd"in n?"":za.default.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<$a.length;){let s=$a[r];s in n&&n[s]!==void 0&&n[s]!==null&&(this[s]=s==="history"?[...n[s]]:n[s])}let o;for(o in n)$a.includes(o)||(this[o]=n[o])}get basename(){return typeof this.path=="string"?ft.default.basename(this.path):void 0}set basename(e){ja(e,"basename"),Ha(e,"basename"),this.path=ft.default.join(this.dirname||"",e)}get dirname(){return typeof this.path=="string"?ft.default.dirname(this.path):void 0}set dirname(e){Yf(this.basename,"dirname"),this.path=ft.default.join(e||"",this.basename)}get extname(){return typeof this.path=="string"?ft.default.extname(this.path):void 0}set extname(e){if(Ha(e,"extname"),Yf(this.dirname,"extname"),e){if(e.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(e.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=ft.default.join(this.dirname,this.stem+(e||""))}get path(){return this.history[this.history.length-1]}set path(e){vo(e)&&(e=(0,Ua.fileURLToPath)(e)),ja(e,"path"),this.path!==e&&this.history.push(e)}get stem(){return typeof this.path=="string"?ft.default.basename(this.path,this.extname):void 0}set stem(e){ja(e,"stem"),Ha(e,"stem"),this.path=ft.default.join(this.dirname||"",e+(this.extname||""))}fail(e,n,r){let o=this.message(e,n,r);throw o.fatal=!0,o}info(e,n,r){let o=this.message(e,n,r);return o.fatal=void 0,o}message(e,n,r){let o=new xe(e,n,r);return this.path&&(o.name=this.path+":"+o.name,o.file=this.path),o.fatal=!1,this.messages.push(o),o}toString(e){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(e||void 0).decode(this.value)}};function Ha(t,e){if(t&&t.includes(ft.default.sep))throw new Error("`"+e+"` cannot be a path: did not expect `"+ft.default.sep+"`")}function ja(t,e){if(!t)throw new Error("`"+e+"` cannot be empty")}function Yf(t,e){if(!t)throw new Error("Setting `"+e+"` requires `path` to be set too")}function Ny(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}var Vf=(function(t){let r=this.constructor.prototype,o=r[t],s=function(){return o.apply(s,arguments)};return Object.setPrototypeOf(s,r),s});var Wy={}.hasOwnProperty,Za=class t extends Vf{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=Va()}copy(){let e=new t,n=-1;for(;++n<this.attachers.length;){let r=this.attachers[n];e.use(...r)}return e.data((0,Co.default)(!0,{},this.namespace)),e}data(e,n){return typeof e=="string"?arguments.length===2?(Ka("data",this.frozen),this.namespace[e]=n,this):Wy.call(this.namespace,e)&&this.namespace[e]||void 0:e?(Ka("data",this.frozen),this.namespace=e,this):this.namespace}freeze(){if(this.frozen)return this;let e=this;for(;++this.freezeIndex<this.attachers.length;){let[n,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);let o=n.call(e,...r);typeof o=="function"&&this.transformers.use(o)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(e){this.freeze();let n=Ao(e),r=this.parser||this.Parser;return Ga("parse",r),r(String(n),n)}process(e,n){let r=this;return this.freeze(),Ga("process",this.parser||this.Parser),qa("process",this.compiler||this.Compiler),n?o(void 0,n):new Promise(o);function o(s,l){let u=Ao(e),f=r.parse(u);r.run(f,u,function(h,m,g){if(h||!m||!g)return p(h);let y=m,A=r.stringify(y,g);Yy(A)?g.value=A:g.result=A,p(h,g)});function p(h,m){h||!m?l(h):s?s(m):n(void 0,m)}}}processSync(e){let n=!1,r;return this.freeze(),Ga("processSync",this.parser||this.Parser),qa("processSync",this.compiler||this.Compiler),this.process(e,o),Uf("processSync","process",n),r;function o(s,l){n=!0,Ya(s),r=l}}run(e,n,r){zf(e),this.freeze();let o=this.transformers;return!r&&typeof n=="function"&&(r=n,n=void 0),r?s(void 0,r):new Promise(s);function s(l,u){let f=Ao(n);o.run(e,f,p);function p(h,m,g){let y=m||e;h?u(h):l?l(y):r(void 0,y,g)}}}runSync(e,n){let r=!1,o;return this.run(e,n,s),Uf("runSync","run",r),o;function s(l,u){Ya(l),o=u,r=!0}}stringify(e,n){this.freeze();let r=Ao(n),o=this.compiler||this.Compiler;return qa("stringify",o),zf(e),o(e,r)}use(e,...n){let r=this.attachers,o=this.namespace;if(Ka("use",this.frozen),e!=null)if(typeof e=="function")f(e,n);else if(typeof e=="object")Array.isArray(e)?u(e):l(e);else throw new TypeError("Expected usable value, not `"+e+"`");return this;function s(p){if(typeof p=="function")f(p,[]);else if(typeof p=="object")if(Array.isArray(p)){let[h,...m]=p;f(h,m)}else l(p);else throw new TypeError("Expected usable value, not `"+p+"`")}function l(p){if(!("plugins"in p)&&!("settings"in p))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");u(p.plugins),p.settings&&(o.settings=(0,Co.default)(!0,o.settings,p.settings))}function u(p){let h=-1;if(p!=null)if(Array.isArray(p))for(;++h<p.length;){let m=p[h];s(m)}else throw new TypeError("Expected a list of plugins, not `"+p+"`")}function f(p,h){let m=-1,g=-1;for(;++m<r.length;)if(r[m][0]===p){g=m;break}if(g===-1)r.push([p,...h]);else if(h.length>0){let[y,...A]=h,F=r[g][1];qr(F)&&qr(y)&&(y=(0,Co.default)(!0,F,y)),r[g]=[p,y,...A]}}}},Qa=new Za().freeze();function Ga(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `parser`")}function qa(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `compiler`")}function Ka(t,e){if(e)throw new Error("Cannot call `"+t+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function zf(t){if(!qr(t)||typeof t.type!="string")throw new TypeError("Expected node, got `"+t+"`")}function Uf(t,e,n){if(!n)throw new Error("`"+t+"` finished async. Use `"+e+"` instead")}function Ao(t){return By(t)?t:new Kr(t)}function By(t){return!!(t&&typeof t=="object"&&"message"in t&&"messages"in t)}function Yy(t){return typeof t=="string"||Vy(t)}function Vy(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}var $f=Qa().use(sr).use(bo).freeze();var Xa={d:(t,e)=>{for(var n in e)Xa.o(e,n)&&!Xa.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},o:(t,e)=>Object.prototype.hasOwnProperty.call(t,e)},el={};Xa.d(el,{Z:()=>Hy,$:()=>qf});var fr={horizontalTab:-2,virtualSpace:-1,nul:0,eof:null,space:32};function Hf(t){return t<fr.nul||t===fr.space}function Ja(t){return t<fr.horizontalTab}var zy={553:t=>{t.exports=function(e){var n,r;return e._compiled||(n=e.before?"(?:"+e.before+")":"",r=e.after?"(?:"+e.after+")":"",e.atBreak&&(n="[\\r\\n][\\t ]*"+n),e._compiled=new RegExp((n?"("+n+")":"")+(/[|\\{}()[\]^$+*?.-]/.test(e.character)?"\\":"")+e.character+(r||""),"g")),e._compiled}},112:t=>{function e(n,r,o){var s;if(!r)return o;for(typeof r=="string"&&(r=[r]),s=-1;++s<r.length;)if(n.indexOf(r[s])!==-1)return!0;return!1}t.exports=function(n,r){return e(n,r.inConstruct,!0)&&!e(n,r.notInConstruct)}},113:(t,e,n)=>{t.exports=function(u,f,p){for(var h,m,g,y,A,F,S,C,_=(p.before||"")+(f||"")+(p.after||""),P=[],B=[],Y={},E=-1;++E<u.unsafe.length;)if(y=u.unsafe[E],o(u.stack,y))for(A=r(y);F=A.exec(_);)h="before"in y||y.atBreak,m="after"in y,g=F.index+(h?F[1].length:0),P.indexOf(g)===-1?(P.push(g),Y[g]={before:h,after:m}):(Y[g].before&&!h&&(Y[g].before=!1),Y[g].after&&!m&&(Y[g].after=!1));for(P.sort(s),S=p.before?p.before.length:0,C=_.length-(p.after?p.after.length:0),E=-1;++E<P.length;)(g=P[E])<S||g>=C||g+1<C&&P[E+1]===g+1&&Y[g].after&&!Y[g+1].before&&!Y[g+1].after||(S!==g&&B.push(l(_.slice(S,g),"\\")),S=g,!/[!-/:-@[-`{-~]/.test(_.charAt(g))||p.encode&&p.encode.indexOf(_.charAt(g))!==-1?(B.push("&#x"+_.charCodeAt(g).toString(16).toUpperCase()+";"),S++):B.push("\\"));return B.push(l(_.slice(S,C),p.after)),B.join("")};var r=n(553),o=n(112);function s(u,f){return u-f}function l(u,f){for(var p,h=/\\(?=[!-/:-@[-`{-~])/g,m=[],g=[],y=-1,A=0,F=u+f;p=h.exec(F);)m.push(p.index);for(;++y<m.length;)A!==m[y]&&g.push(u.slice(A,m[y])),g.push("\\"),A=m[y];return g.push(u.slice(A)),g.join("")}}},jf={};function Mt(t){var e=jf[t];if(e!==void 0)return e.exports;var n=jf[t]={exports:{}};return zy[t](n,n.exports,Mt),n.exports}Mt.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return Mt.d(e,{a:e}),e},Mt.d=(t,e)=>{for(var n in e)Mt.o(e,n)&&!Mt.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},Mt.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var tl={};(()=>{function t(o={}){let s=o.permalinks||[],l=o.pageResolver||(g=>[g.replace(/ /g,"_").toLowerCase()]),u=o.newClassName||"new",f=o.wikiLinkClassName||"internal",p=o.hrefTemplate||(g=>`#/page/${g}`),h;function m(g){return g[g.length-1]}return{enter:{wikiLink:function(g){h={type:"wikiLink",value:null,data:{alias:null,permalink:null,exists:null}},this.enter(h,g)}},exit:{wikiLinkTarget:function(g){let y=this.sliceSerialize(g);m(this.stack).value=y},wikiLinkAlias:function(g){let y=this.sliceSerialize(g);m(this.stack).data.alias=y},wikiLink:function(g){this.exit(g);let y=h,A=l(y.value),F=A.find((B=>s.indexOf(B)!==-1)),S=F!==void 0,C;C=S?F:A[0]||"";let _=y.value;y.data.alias&&(_=y.data.alias);let P=f;S||(P+=" "+u),y.data.alias=_,y.data.permalink=C,y.data.exists=S,y.data.hName="a",y.data.hProperties={className:P,href:p(C)},y.data.hChildren=[{type:"text",value:_}]}}}}Mt.d(tl,{V:()=>t,x:()=>r});var e=Mt(113),n=Mt.n(e);function r(o={}){let s=o.aliasDivider||":";return{unsafe:[{character:"[",inConstruct:["phrasing","label","reference"]},{character:"]",inConstruct:["label","reference"]}],handlers:{wikiLink:function(l,u,f){let p=f.enter("wikiLink"),h=n()(f,l.value,{before:"[",after:"]"}),m=n()(f,l.data.alias,{before:"[",after:"]"}),g;return g=m!==h?`[[${h}${s}${m}]]`:`[[${h}]]`,p(),g}}}}})();var Uy=tl.V,$y=tl.x,Gf=!1;function qf(t={}){let e=this.data();function n(r,o){e[r]?e[r].push(o):e[r]=[o]}!Gf&&(this.Parser&&this.Parser.prototype&&this.Parser.prototype.blockTokenizers||this.Compiler&&this.Compiler.prototype&&this.Compiler.prototype.visitors)&&(Gf=!0,console.warn("[remark-wiki-link] Warning: please upgrade to remark 13 to use this plugin")),n("micromarkExtensions",(function(){var r=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:{}).aliasDivider||":",o="]]";return{text:{91:{tokenize:function(s,l,u){var f,p,h=0,m=0,g=0;return function(_){return _!=="[[".charCodeAt(m)?u(_):(s.enter("wikiLink"),s.enter("wikiLinkMarker"),y(_))};function y(_){return m===2?(s.exit("wikiLinkMarker"),(function(P){return Ja(P)||P===fr.eof?u(P):(s.enter("wikiLinkData"),s.enter("wikiLinkTarget"),A(P))})(_)):_!=="[[".charCodeAt(m)?u(_):(s.consume(_),m++,y)}function A(_){return _===r.charCodeAt(h)?f?(s.exit("wikiLinkTarget"),s.enter("wikiLinkAliasMarker"),F(_)):u(_):_===o.charCodeAt(g)?f?(s.exit("wikiLinkTarget"),s.exit("wikiLinkData"),s.enter("wikiLinkMarker"),C(_)):u(_):Ja(_)||_===fr.eof?u(_):(Hf(_)||(f=!0),s.consume(_),A)}function F(_){return h===r.length?(s.exit("wikiLinkAliasMarker"),s.enter("wikiLinkAlias"),S(_)):_!==r.charCodeAt(h)?u(_):(s.consume(_),h++,F)}function S(_){return _===o.charCodeAt(g)?p?(s.exit("wikiLinkAlias"),s.exit("wikiLinkData"),s.enter("wikiLinkMarker"),C(_)):u(_):Ja(_)||_===fr.eof?u(_):(Hf(_)||(p=!0),s.consume(_),S)}function C(_){return g===2?(s.exit("wikiLinkMarker"),s.exit("wikiLink"),l(_)):_!==o.charCodeAt(g)?u(_):(s.consume(_),g++,C)}}}}}})(t)),n("fromMarkdownExtensions",Uy(t)),n("toMarkdownExtensions",$y(t))}var Hy=qf,uT=el.Z,Kf=el.$;(function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e})();var jy=/^[A-Za-z][A-Za-z0-9+\-.]*:\S+$/;function nl(t){if(/\s/.test(t))return!1;if(t.includes("://"))try{return new URL(t),!0}catch{return!1}return jy.test(t)}var Dn=require("obsidian");(function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e})();function xo(t){let e=(0,Dn.getFrontMatterInfo)(t);return(0,Dn.parseYaml)(e.frontmatter)??{}}function Zf(t,e){let n=(0,Dn.getFrontMatterInfo)(t);if(Object.keys(e).length===0)return t.slice(n.contentStart);let r=(0,Dn.stringifyYaml)(e);return n.exists?Tu(t,r,n.from,n.to):`---
${r}---
${t}`}(function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e})();function tt(t){if(!Ye(t))return!1;let e=t;return e.startOffset!==void 0&&e.endOffset!==void 0}(function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e})();function Qf(t){return rl(t)&&t.type==="file"}function rl(t){return Ye(t)&&!!t.isCanvas}function In(t,e){return{newContent:e,oldContent:t.original,reference:t}}function Jf(t){return t.sort((e,n)=>{if(Ye(e)&&Ye(n)){let r=tt(e)?e.startOffset:0,o=tt(n)?n.startOffset:0;return e.key.localeCompare(n.key)||Number(tt(n))-Number(tt(e))||r-o}return At(e)&&At(n)?e.position.start.offset-n.position.start.offset:Ye(e)?1:-1})}var Xf=require("obsidian");(function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e})();async function ed(t,e,n){let r=ve(t,e),o=vt(n);await dr(t,o);let s=Eo(t,n);try{await t.vault.copy(r,s)}catch(l){if(!await t.vault.exists(s))throw l}return s}async function dr(t,e){if(await t.vault.adapter.exists(e))return!1;try{return await t.vault.createFolder(e),!0}catch(n){if(!await t.vault.exists(e))throw n;return!0}}function Eo(t,e){let n=xt(e);return t.vault.getAvailablePath(ge(oe(e),qe(e,n)),n.slice(1))}function hr(t){return t.vault.getMarkdownFiles().sort((e,n)=>e.path.localeCompare(n.path))}function il(t,e,n){let r=he(t,e);if(t.vault.adapter.insensitive){let o=oe(n),s=qe(n),l;for(;l=Et(t,o,!0),!l;)s=ge(qe(o),s),o=oe(o);n=ge(l.getParentPrefix(),s)}return r.toLowerCase()===n.toLowerCase()?n:Eo(t,n)}async function ol(t,e){let n=await pr(t,he(t,e));return n.files.length===0&&n.folders.length===0}async function pr(t,e){let n=he(t,e),r={files:[],folders:[]};if((await t.vault.adapter.stat(n))?.type!=="folder")return r;try{return await t.vault.adapter.list(n)}catch(o){if(await t.vault.exists(n))throw o;return r}}async function td(t,e,n,r={}){let s={...{shouldFailOnMissingFile:!0},...r};await $i(async l=>{l.throwIfAborted();let u=await sl(t,e);if(l.throwIfAborted(),u===null)return m();let f=await Hn(n,l,u);if(l.throwIfAborted(),f===null)return!1;let p=!0;if(!await nd(t,e,async g=>{l.throwIfAborted(),await t.vault.process(g,y=>(l.throwIfAborted(),y!==u?(console.warn("Content has changed since it was read. Retrying...",{actualContent:y,expectedContent:u,path:g.path}),p=!1,y):f)),l.throwIfAborted()}))return m();return p;function m(){if(s.shouldFailOnMissingFile){let g=he(t,e);throw new Error(`File '${g}' not found`)}return!0}},s)}async function sl(t,e){let n=null;return await nd(t,e,async r=>{n=await t.vault.read(r)}),n}async function So(t,e,n){let r=ve(t,e,!1,!0),o=il(t,e,n);if(r.path.toLowerCase()===o.toLowerCase())return r.path!==n&&await t.vault.rename(r,o),o;let s=vt(o);await dr(t,s);try{await t.vault.rename(r,o)}catch(l){if(!await t.vault.exists(o)||await t.vault.exists(r.path))throw l}return o}async function al(t,e){if(!be(t,e))return;await Ui();let n=he(t,e);for(let r of t.workspace.getLeavesOfType(hu.Markdown))r.view instanceof Xf.MarkdownView&&r.view.file?.path===n&&r.view.dirty&&await r.view.save()}async function nd(t,e,n){let r=he(t,e),o=fe(t,r);if(!o||o.deleted)return!1;try{return await n(o),!0}catch(s){if(o=fe(t,r),!o||o.deleted)return!1;throw s}}(function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e})();async function Fo(t,e,n,r,o=!0){t.throwIfAborted();let s=await Hn(r,t),l={},u=!1;try{l=xo(e)}catch(g){console.error(new Error(`Frontmatter parsing failed in ${n}`,{cause:g})),u=!0}if(!Jy(s,e,l,n,o))return o?null:e;s.sort((g,y)=>Zt(g)&&Zt(y)?g.reference.position.start.offset-y.reference.position.start.offset:_o(g)&&_o(y)?g.reference.key.localeCompare(y.reference.key)||g.reference.startOffset-y.reference.startOffset:To(g)&&To(y)?g.reference.key.localeCompare(y.reference.key):Zt(g)?-1:1),s=s.filter((g,y)=>g.oldContent===g.newContent?!1:y===0?!0:!ct(g,s[y-1]));for(let g=1;g<s.length;g++){let y=s[g];if(!y)continue;let A=s[g-1];if(A&&Zt(A)&&Zt(y)&&A.reference.position.end.offset&&A.reference.position.end.offset>y.reference.position.start.offset)return console.warn("Overlapping changes",{change:y,previousChange:A}),null}let f="",p=0,h=!1,m=new Map;for(let g of s)if(Zt(g))f+=e.slice(p,g.reference.position.start.offset),f+=g.newContent,p=g.reference.position.end.offset;else if(_o(g))if(u)console.error(`Cannot apply frontmatter change in ${n}, because frontmatter parsing failed`,{change:g});else{let y=m.get(g.reference.key);y||(y=[],m.set(g.reference.key,y)),y.push(g),h=!0}else To(g)&&(u?console.error(`Cannot apply frontmatter change in ${n}, because frontmatter parsing failed`,{change:g}):(aa(l,g.reference.key,g.newContent),h=!0));return await Zy(t,l,m,n),t.throwIfAborted(),f+=e.slice(p),h&&(f=Zf(f,l)),f}async function Zr(t,e,n,r={},o=!0){await td(t,e,async(s,l)=>An(t,e)?await Ky(s,l,he(t,e),n,o):await Fo(s,l,he(t,e),n,o),r)}function Qr(t){return rl(t.reference)}function Gy(t){return Qr(t)&&t.reference.type==="file"}function qy(t){return Qr(t)&&t.reference.type==="text"}function Zt(t){return At(t.reference)}function To(t){return Ye(t.reference)}function _o(t){return tt(t.reference)}async function Ky(t,e,n,r,o=!0){let s=await Hn(r,t),l=Qy(e),u=new Map;for(let f of s){if(!Qr(f))return console.warn("Only canvas changes are supported for canvas files",{change:f,path:n}),null;let p=l.nodes[f.reference.nodeIndex];if(!p)return console.warn("Node not found",{nodeIndex:f.reference.nodeIndex,path:n}),null;if(Gy(f)){if(p.file!==f.oldContent)return console.warn("Content mismatch",{actualContent:p.file,expectedContent:f.oldContent,nodeIndex:f.reference.nodeIndex,path:n,type:"file"}),null;p.file=f.newContent}else if(qy(f)){let h=u.get(f.reference.nodeIndex);h||(h=[],u.set(f.reference.nodeIndex,h)),h.push(f)}}for(let[f,p]of u.entries()){let h=l.nodes[f];if(!h)return console.warn("Node not found",{nodeIndex:f,path:n}),null;if(typeof h.text!="string")return console.warn("Node text is not a string",{nodeIndex:f,path:n}),null;let m=p.map(g=>In(g.reference.originalReference,g.newContent));h.text=await Fo(t,h.text,`${n}.node${String(f)}.VIRTUAL_FILE.md`,m,o)}return JSON.stringify(l,null,"	")}async function Zy(t,e,n,r){for(let[o,s]of n.entries()){let l=er(e,o);if(typeof l!="string")return;let u=s.map(p=>({newContent:p.newContent,oldContent:p.oldContent,reference:{link:"",original:"",position:{end:{col:p.reference.endOffset,line:0,offset:p.reference.endOffset},start:{col:p.reference.startOffset,line:0,offset:p.reference.startOffset}}}})),f=await Fo(t,l,`${r}.frontmatter.${o}.VIRTUAL_FILE.md`,u);if(f===null)return;aa(e,o,f)}}function Qy(t){let e;try{e=JSON.parse(t)}catch{e=null}return(e===null||typeof e!="object")&&(e={}),e}function Jy(t,e,n,r,o){let s=Qn("FileChange:validateChanges"),l=o?console.warn.bind(console):s;for(let u of t)if(Zt(u)){let f=u.reference.position.start.offset,p=u.reference.position.end.offset,h=e.slice(f,p);if(h!==u.oldContent)return l("Content mismatch",{actualContent:h,endOffset:p,expectedContent:u.oldContent,path:r,startOffset:f}),!1}else if(_o(u)){let f=er(n,u.reference.key);if(typeof f!="string")return l("Property value is not a string",{frontmatterKey:u.reference.key,path:r,propertyValue:f}),!1;let p=f.slice(u.reference.startOffset,u.reference.endOffset);if(p!==u.oldContent)return l("Content mismatch",{actualContent:p,expectedContent:u.oldContent,frontmatterKey:u.reference.key,path:r,startOffset:u.reference.startOffset}),!1}else if(To(u)){let f=er(n,u.reference.key);if(f!==u.oldContent)return l("Content mismatch",{actualContent:f,expectedContent:u.oldContent,frontmatterKey:u.reference.key,path:r}),!1}return!0}(function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e})();async function rd(t){await new Promise(e=>{t.metadataCache.onCleanCache(e)})}function Ot(t){let e=[];return t.links&&e.push(...t.links),t.embeds&&e.push(...t.embeds),t.frontmatterLinks&&e.push(...t.frontmatterLinks),Jf(e),e=e.filter((n,r)=>{if(r===0)return!0;let o=e[r-1];if(!o)return!0;if(At(n)&&At(o))return n.position.start.offset!==o.position.start.offset;if(Ye(n)&&Ye(o)){let s=tt(n)?n.startOffset:0,l=tt(o)?o.startOffset:0;return n.key!==o.key||tt(n)!==tt(o)||s!==l}return!0}),e}function ll(t,e){let n=ve(t,e,!0);return Jr(t,[n],()=>t.metadataCache.getBacklinksForFile(n))}async function Qt(t,e,n={}){let r=t.metadataCache.getBacklinksForFile.safe;if(r)return r(e);let o=new du;return await $i(async s=>{s.throwIfAborted();let l=ve(t,e);await rd(t),s.throwIfAborted(),o=ll(t,l);for(let u of o.keys()){s.throwIfAborted();let f=fe(t,u);if(!f)return!1;await al(t,f),s.throwIfAborted();let p=await sl(t,f);if(s.throwIfAborted(),!p)return!1;let h=xo(p),m=o.get(u);if(!m)return!1;for(let g of m){let y;if(At(g))y=p.slice(g.position.start.offset,g.position.end.offset);else if(Ye(g)){let A=er(h,g.key);if(typeof A!="string")return!1;let F=0,S=A.length;tt(g)&&(F=g.startOffset,S=g.endOffset),y=A.slice(F,S)}else return!0;if(y!==g.original)return!1}}return!0},n),o}async function Lt(t,e){let n=fe(t,e);if(!n||n.deleted)return null;await al(t,n);let r=t.metadataCache.fileCache[n.path];return r&&r.mtime===n.stat.mtime&&r.size===n.stat.size&&t.metadataCache.metadataCache[r.hash]||(await t.metadataCache.computeFileMetadataAsync(n),await rd(t)),t.metadataCache.getFileCache(n)}function Xy(t,e){let n=new Set;for(let r of e){if(!r.deleted)continue;let o=r;for(;o.deleted;)n.add(o.path),t.vault.fileMap[o.path]=o,o=o.parent??Gn(t,vt(o.path),!0);st(r)&&t.metadataCache.uniqueFileLookup.add(r.name.toLowerCase(),r)}return()=>{for(let r of n)delete t.vault.fileMap[r];for(let r of e)r.deleted&&st(r)&&t.metadataCache.uniqueFileLookup.remove(r.name.toLowerCase(),r)}}function Jr(t,e,n){let r=Xy(t,e);try{return n()}finally{r()}}(function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e})();function id(t){return t.vault.getConfig("newLinkFormat")==="relative"}function ul(t){return!t.vault.getConfig("useMarkdownLinks")}(function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e})();var eb="\\|",tb=/[\\\x00\x08\x0B\x0C\x0E-\x1F ]/g,nb=/[\\[\]<>_*~=`$]/g,ad=/(?<!\\)\|/g,ld="|",cl=(t=>(t.Markdown="Markdown",t.ObsidianSettingsDefault="ObsidianSettingsDefault",t.PreserveExisting="PreserveExisting",t.Wikilink="Wikilink",t))(cl||{});function rb(t){let e=Jt(t.app,t.link,t.oldSourcePathOrFile??t.newSourcePathOrFile);return e?hl({app:t.app,link:t.link,linkStyle:t.linkStyle,newSourcePathOrFile:t.newSourcePathOrFile,newTargetPathOrFile:e,oldSourcePathOrFile:t.oldSourcePathOrFile,shouldUpdateFileNameAlias:t.shouldUpdateFileNameAlias}):t.link.original}async function fl(t,e,n,r={}){await Zr(t,e,async()=>{let o=await Lt(t,e);return await db(o,An(t,e),n)},r)}function dl(t){return Ge(t,tb,({substring:e})=>encodeURIComponent(e))}function Jt(t,e,n,r=!1){let{linkPath:o}=cn(e.link),s=he(t,n),l=t.metadataCache.getFirstLinkpathDest(o,s);if(l)return l;if(!r)return null;if(o.startsWith("/"))return ve(t,o,!0);let u=ge(oe(s),`./${o}`);return u.startsWith("../")?null:ve(t,u,!0)}function Do(t){let{app:e}=t,r=(e.fileManager.generateMarkdownLink.defaultOptionsFn??(()=>({})))();t={...{isEmptyEmbedAliasAllowed:!0},...r,...t};let s=ve(e,t.targetPathOrFile,t.isNonExistingFileAllowed);return Jr(e,[s],()=>ub(t))}function Xr(t){let e=ib(t);return e[0]?.raw===t?e[0]:null}function ib(t){let e=new Set,n="![",r=" [",o=Ge(t,n,h=>(e.add(h.offset),r)),l=$f().use(sr).use(Kf,{aliasDivider:ld}).parse(o),u=[],f=[];Gr(l,h=>{let m;switch(h.type){case"link":m=pb(h,t);break;case"wikiLink":m=mb(h,t);break;default:return}e.has(m.startOffset-1)&&(m.isEmbed=!0,m.startOffset--,m.raw=`!${m.raw}`),u.push(m)}),u.sort((h,m)=>h.startOffset-m.startOffset);let p=0;for(let h of u)od(t,p,h.startOffset-1,f),p=h.endOffset+1;return od(t,p,t.length-1,f),u.push(...f),u.sort((h,m)=>h.startOffset-m.startOffset),u}function ob(t){let{app:e,displayText:n,isWikilink:r,newSourcePathOrFile:o,oldSourcePathOrFile:s,oldTargetPath:l,targetPathOrFile:u}=t;if(r===!1)return!1;if(!n)return!0;let f=ve(e,u,!0),p=he(e,o),h=he(e,s??o),m=oe(p),g=oe(h),y=new Set;for(let F of[f.path,l]){if(!F)continue;let S=he(e,F);y.add(S),y.add(qe(S)),y.add(jn(m,S)),y.add(jn(g,S))}for(let F of[h,p])y.add(e.metadataCache.fileToLinktext(f,F,!1));let A=Ge((0,Po.normalizePath)(n.split(" > ")[0]??""),/^\.\//g,"").toLowerCase();for(let F of y){if(F.toLowerCase()===A)return!0;let S=oe(F),C=qe(F,xt(F));if(ge(S,C).toLowerCase()===A)return!0}return!1}function cn(t){let e=(0,Po.parseLinktext)(Ir(t));return{linkPath:e.path,subpath:e.subpath}}function sb(t){return Xr(t)?.hasAngleBrackets??!1}function Io(t){return Xr(t)?.isEmbed??!1}function ab(t){return Xr(t)?.url.startsWith("./")??!1}function ei(t){return Xr(t)?.isWikilink??!1}function hl(t){let{app:e,link:n,linkStyle:r,newSourcePathOrFile:o,newTargetPathOrFile:s,oldSourcePathOrFile:l,oldTargetPathOrFile:u,shouldUpdateFileNameAlias:f}=t;if(!s)return n.original;let p=ve(e,s,!0),h=he(e,u??s),m=cd(e,n.original,r),{subpath:g}=cn(n.link),y=!f;if(An(e,o)&&Qf(n))return p.path+g;let A=Xr(n.original),F;return m&&A?.alias&&(F=A.alias,y=!0),F??=ob({app:e,displayText:n.displayText,isWikilink:m,newSourcePathOrFile:o,oldSourcePathOrFile:l,oldTargetPath:h,targetPathOrFile:p})?void 0:A?.alias,y||(F===qe(h,xt(h))?F=p.basename:F===qe(h)&&(F=p.name)),Do({alias:F,app:e,linkStyle:r,originalLink:n.original,sourcePathOrFile:o,subpath:g,targetPathOrFile:p})}async function Mo(t){let{app:e,linkStyle:n,newSourcePathOrFile:r,oldSourcePathOrFile:o,shouldUpdateEmbedOnlyLinks:s,shouldUpdateFileNameAlias:l}=t;An(e,r)&&!e.internalPlugins.getEnabledPluginById(ot.Canvas)||await fl(e,r,u=>{let f=Io(u.original);if(!(s!==void 0&&s!==f))return rb({app:e,link:u,linkStyle:n,newSourcePathOrFile:r,oldSourcePathOrFile:o,shouldUpdateFileNameAlias:l})},t)}function od(t,e,n,r){if(e>n)return;let o=t.slice(e,n+1);Ge(o,/(?<Url>\S+)/g,(s,l)=>{nl(l)&&r.push({encodedUrl:dl(l),endOffset:e+s.offset+l.length,hasAngleBrackets:!1,isEmbed:!1,isExternal:!0,isWikilink:!1,raw:l,startOffset:e+s.offset,url:l})})}function lb(t,e,n,r,o){n==="/"&&(n="");let s;return e.path===n&&r?s=r:o.shouldForceRelativePath?s=jn(oe(n),o.isWikilink?Lu(t,e):e.path)+r:s=t.metadataCache.fileToLinktext(e,n,o.isWikilink)+r,o.shouldForceRelativePath&&o.shouldUseLeadingDot&&!s.startsWith(".")&&!s.startsWith("#")&&(s=`./${s}`),s}function ub(t){let{app:e}=t,n=ve(e,t.targetPathOrFile,t.isNonExistingFileAllowed),r=he(e,t.sourcePathOrFile),o=t.subpath??"",s=hb(t,n),l=lb(e,n,r,o,s);return s.isWikilink?fb(l,t.alias,s.isEmbed):cb(l,n,t,s)}function cb(t,e,n,r){let{app:o}=n,s=r.isEmbed?"!":"",l=r.shouldUseAngleBrackets?`<${t}>`:dl(t),u=n.alias??"";!u&&(!r.isEmbed||!n.isEmptyEmbedAliasAllowed)&&(u=!n.shouldIncludeAttachmentExtensionToEmbedAlias||be(o,e)?e.basename:e.name);let f=Ge(u,nb,"\\$&");return`${s}[${f}](${l})`}function fb(t,e,n){let r=n?"!":"",o=e??"";if(o&&o.toLowerCase()===t.toLowerCase())return`${r}[[${o}]]`;let s=o?`|${o}`:"";return`${r}[[${t}${s}]]`}async function db(t,e,n,r){if(r??=Ie(),r.throwIfAborted(),!t)return[];let o=[],s=(t.sections??[]).filter(l=>l.type==="table").map(l=>({end:l.position.end.offset,start:l.position.start.offset}));for(let l of Ot(t)){r.throwIfAborted();let u=await n(l,r);if(r.throwIfAborted(),u===void 0)continue;let f=In(l,u);e?Qr(f)?o.push(f):console.warn("Unsupported file change",f):(gb(f,s)&&(f.newContent=f.newContent.replaceAll(ad,eb)),o.push(f))}return o}function hb(t,e){let{app:n}=t;return{isEmbed:t.isEmbed??(t.originalLink?Io(t.originalLink):void 0)??!be(n,e),isWikilink:cd(n,t.originalLink,t.linkStyle),shouldForceRelativePath:t.shouldForceRelativePath??id(n),shouldUseAngleBrackets:t.shouldUseAngleBrackets??(t.originalLink?sb(t.originalLink):void 0)??!1,shouldUseLeadingDot:t.shouldUseLeadingDot??(t.originalLink?ab(t.originalLink):void 0)??!1}}function ud(t,e){return e.slice(t.position?.start.offset??0,t.position?.end.offset??0)}function pb(t,e){let s=ud(t,e),l=t.children[0],u=e.slice((l?.position?.end.offset??1)+2,(t.position?.end.offset??0)-1),f=s.startsWith("<")||u.startsWith("<"),p=nl(t.url),h=t.url;if(!p&&!f)try{h=decodeURIComponent(h)}catch(m){console.error(`Failed to decode URL ${h}`,m)}return{alias:l?.value,encodedUrl:p?dl(h):void 0,endOffset:t.position?.end.offset??0,hasAngleBrackets:f,isEmbed:!1,isExternal:p,isWikilink:!1,raw:s,startOffset:t.position?.start.offset??0,title:t.title??void 0,url:h}}function mb(t,e){return{alias:e.includes(ld)?t.data.alias:void 0,endOffset:t.position?.end.offset??0,isEmbed:!1,isExternal:!1,isWikilink:!0,raw:ud(t,e),startOffset:t.position?.start.offset??0,url:t.value}}function gb(t,e){return!Zt(t)||!ad.test(t.newContent)?!1:e.some(n=>n.start<=t.reference.position.start.offset&&t.reference.position.end.offset<=n.end)}function cd(t,e,n){switch(n??"PreserveExisting"){case"Markdown":return!1;case"ObsidianSettingsDefault":return ul(t);case"PreserveExisting":return e===void 0?ul(t):ei(e);case"Wikilink":return!0;default:throw new Error(`Invalid link style: ${n}.`)}}function fd(t,e){let n=Object.keys(e).map(r=>wb(t,r,e[r]));return n.length===1?n[0]:function(){n.forEach(r=>r())}}function wb(t,e,n){let r=t[e],o=t.hasOwnProperty(e),s=o?r:function(){return Object.getPrototypeOf(t)[e].apply(this,arguments)},l=n(s);return r&&Object.setPrototypeOf(l,r),Object.setPrototypeOf(u,l),t[e]=u,f;function u(...p){return l===s&&t[e]===u&&f(),l.apply(this,p)}function f(){t[e]===u&&(o?t[e]=s:delete t[e]),l!==s&&(l=s,Object.setPrototypeOf(u,r||Function))}}(function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e})();function yb(t,e){return fd(t,e)}function dd(t,e,n){let r=yb(e,n),o=!1;function s(){if(!o)try{r()}finally{o=!0}}return t.register(s),r}var hd=require("obsidian");(function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e})();async function ti(t,e){let n=Et(t,e);for(;n;){if(!await ol(t,n))return;let r=n.parent;await Xt(t,n.path),n=r}}async function Xt(t,e,n,r,o){let s=Mr(t,e);if(!s)return!1;let l=st(s)||(o??!0);if(st(s)){let u=await Qt(t,s);n&&u.clear(n),u.count()!==0&&(r&&new hd.Notice(`Attachment ${s.path} is still used by other notes. It will not be deleted.`),l=!1)}else if(Or(s)){let u=await pr(t,s);for(let f of[...u.files,...u.folders])l&&=await Xt(t,f,n,r);l&&=await ol(t,s)}if(l)try{await t.fileManager.trashFile(s)}catch(u){await t.vault.exists(s.path)&&(Dr(new Error(`Failed to delete ${s.path}`,{cause:u})),l=!1)}return l}(function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e})();var pl=new Map,ni=new Set,Oo=new Map,Te=(t=>(t.Delete="Delete",t.DeleteWithEmptyParents="DeleteWithEmptyParents",t.Keep="Keep",t))(Te||{});function wd(t,e){let n=Lo(t.app),r=t.manifest.id;n.set(r,e),md(t.app),t.register(()=>{n.delete(r),md(t.app)});let o=t.app,s=t.abortSignal??Ie();t.registerEvent(o.vault.on("delete",l=>{Cb(t,l,s)})),t.registerEvent(o.vault.on("rename",(l,u)=>{Tb(t,l,u,s)})),t.registerEvent(o.metadataCache.on("deleted",(l,u)=>{Eb(t,l,u)})),dd(t,o.fileManager,{runAsyncLinkUpdate:l=>u=>Fb(o,l,u)})}async function yd(t,e,n){let r=fn(t);if(r.emptyAttachmentFolderBehavior!=="Keep")for(let o of e)switch(r.emptyAttachmentFolderBehavior){case"Delete":await Xt(t,o,n,void 0,!0);break;case"DeleteWithEmptyParents":await ti(t,o);break;default:break}}async function bb(t,e,n,r,o){let s=Oo.get(e);if(s){Oo.delete(e);for(let l of s)await ml(t,l.oldPath,n,r,o,l.combinedBacklinksMap)}}async function kb(t,e,n,r,o,s){if(s.throwIfAborted(),r.set(e,n),!ri(t,e))return;let l=fn(t),u=await nr(t,e),f=l.shouldRenameAttachmentFolder?await nr(t,n):u,p=u==="/",h=Et(t,u);if(!h||u===f&&!l.shouldRenameAttachmentFiles)return;let m=[];if(await la(t,e))gd.Vault.recurseChildren(h,g=>{s.throwIfAborted(),st(g)&&m.push(g)});else for(let g of o){s.throwIfAborted();let y=Jt(t,g,e);if(y&&(p||y.path.startsWith(u))){let A=await Qt(t,y);s.throwIfAborted(),A.keys().length===1&&m.push(y)}}for(let g of m){if(s.throwIfAborted(),ri(t,g.path))continue;let y;if(l.shouldRenameAttachmentFiles)y=await Br(t,g,n,!0),s.throwIfAborted();else{let A=p?g.path:jn(u,g.path),F=ge(f,oe(A));y=ge(F,g.name)}if(g.path!==y){if(l.shouldDeleteConflictingAttachments){let A=fe(t,y);A&&(console.warn(`Removing conflicting attachment ${A.path}.`),await t.fileManager.trashFile(A),s.throwIfAborted())}else{let A=oe(y),F=xt(y),S=qe(y,F);y=t.vault.getAvailablePath(ge(A,S),F.slice(1))}r.set(g.path,y)}}}function Lo(t){return Gt(t,"renameDeleteHandlersMap",new Map).value}function fn(t){let e=Lo(t),n=Array.from(e.values()).reverse(),r={};r.isNote=o=>Lr(t,o),r.isPathIgnored=()=>!1;for(let o of n){let s=o();r.shouldDeleteConflictingAttachments||=s.shouldDeleteConflictingAttachments??!1,s.emptyAttachmentFolderBehavior&&(r.emptyAttachmentFolderBehavior??=s.emptyAttachmentFolderBehavior),r.shouldHandleDeletions||=s.shouldHandleDeletions??!1,r.shouldHandleRenames||=s.shouldHandleRenames??!1,r.shouldRenameAttachmentFiles||=s.shouldRenameAttachmentFiles??!1,r.shouldRenameAttachmentFolder||=s.shouldRenameAttachmentFolder??!1,r.shouldUpdateFileNameAliases||=s.shouldUpdateFileNameAliases??!1;let l=r.isPathIgnored;r.isPathIgnored=f=>l(f)||(s.isPathIgnored?.(f)??!1);let u=r.isNote;r.isNote=f=>u(f)&&(s.isNote?.(f)??!0)}return r.emptyAttachmentFolderBehavior??="Keep",r}async function vb(t,e,n,r,o){if(!t.vault.adapter.insensitive||e.toLowerCase()!==n.toLowerCase())return!1;let s=ge(oe(n),`__temp__${qe(n)}`);return await kd(t,n,s),await ml(t,e,s,r,o),await t.vault.rename(ve(t,s),n),!0}async function Ab(t,e,n){if(n.throwIfAborted(),Je("RenameDeleteHandler:handleDelete")(`Handle Delete ${e}`),!ri(t,e))return;let r=fn(t);if(!r.shouldHandleDeletions)return;if(r.isPathIgnored?.(e)){console.warn(`Skipping delete handler of ${e} as the path is ignored.`);return}let o=pl.get(e);pl.delete(e);let s=new Set;if(o){let f=Ot(o);for(let p of f){let h=Jt(t,p,e);h&&(ri(t,h.path)||(s.add(h.parent?.path??""),await Xt(t,h,e,!1,r.emptyAttachmentFolderBehavior!=="Keep"),n.throwIfAborted()))}}await yd(t,Array.from(s),e),n.throwIfAborted();let l=await nr(t,e),u=Et(t,l);u&&await la(t,e)&&(n.throwIfAborted(),await Xt(t,u,e,!1,r.emptyAttachmentFolderBehavior!=="Keep"),n.throwIfAborted())}function Cb(t,e,n){let r=t.app;if(!gl(t))return;let o=e.path;ut(r,s=>Ab(r,o,s),n)}function xb(t,e,n){let r=fn(t);if(r.isPathIgnored?.(e.path)){console.warn(`Skipping metadata delete handler of ${e.path} as the path is ignored.`);return}r.shouldHandleDeletions&&be(t,e)&&n&&pl.set(e.path,n)}function Eb(t,e,n){gl(t)&&xb(t.app,e,n)}function Sb(t,e,n,r){let o=bd(e,n);if(Je("RenameDeleteHandler:handleRename")(`Handle Rename ${o}`),ni.has(o)){ni.delete(o);return}let s=fn(t);if(!s.shouldHandleRenames)return;if(s.isPathIgnored?.(e)){console.warn(`Skipping rename handler of old path ${e} as the path is ignored.`);return}if(s.isPathIgnored?.(n)){console.warn(`Skipping rename handler of new path ${n} as the path is ignored.`);return}let l=t.metadataCache.getCache(e)??t.metadataCache.getCache(n),u=l?Ot(l):[],f=ll(t,e).data;ut(t,p=>ml(t,e,n,f,u,void 0,p),r)}async function ml(t,e,n,r,o,s,l){if(l??=Ie(),l.throwIfAborted(),await bb(t,e,n,r,o),l.throwIfAborted(),await _b(t,e,n,r,o),l.throwIfAborted(),!await vb(t,e,n,r,o)){l.throwIfAborted();try{let u=new Map;await kb(t,e,n,u,o,l),l.throwIfAborted();let f=new Map;pd(r,u,f,e);for(let m of u.keys()){if(m===e)continue;let g=(await Qt(t,m)).data;pd(g,u,f,m)}let p=new Set;for(let[m,g]of u.entries()){if(m===e)continue;let y=await kd(t,m,g);u.set(m,y),p.add(oe(m))}await yd(t,Array.from(p),e),l.throwIfAborted();let h=fn(t);for(let[m,g]of Array.from(f.entries()).concat(Array.from(s?.entries()??[])))await fl(t,m,y=>{let A=g.get(Ji(y));if(!A)return;let F=u.get(A);if(F)return hl({app:t,link:y,newSourcePathOrFile:m,newTargetPathOrFile:F,oldTargetPathOrFile:A,shouldUpdateFileNameAlias:h.shouldUpdateFileNameAliases})},{shouldFailOnMissingFile:!1}),l.throwIfAborted();if(ri(t,n)&&(await Mo({app:t,newSourcePathOrFile:n,oldSourcePathOrFile:e,shouldFailOnMissingFile:!1,shouldUpdateFileNameAlias:h.shouldUpdateFileNameAliases}),l.throwIfAborted()),!fe(t,n)){let m=Oo.get(n);m||(m=[],Oo.set(n,m)),m.push({combinedBacklinksMap:f,oldPath:e})}}finally{let u=Array.from(ni);ut(t,()=>{for(let f of u)ni.delete(f)},l)}}}function Tb(t,e,n,r){if(!gl(t)||!st(e))return;let o=e.path;Sb(t.app,n,o,r)}function pd(t,e,n,r){for(let[o,s]of t.entries()){let l=e.get(o)??o,u=n.get(l)??new Map;n.set(l,u);for(let f of s)u.set(Ji(f),r)}}function ri(t,e){return fn(t).isNote?.(e)??!1}function md(t){let e=Lo(t);Je("RenameDeleteHandler:logRegisteredHandlers")(`Plugins with registered rename/delete handlers: ${JSON.stringify(Array.from(e.keys()))}`)}function bd(t,e){return`${t} -> ${e}`}async function _b(t,e,n,r,o){let s=t.metadataCache.getCache(e)??t.metadataCache.getCache(n),l=s?Ot(s):[],u=ve(t,e,!0),f=new Map;await Jr(t,[u],async()=>{f=(await Qt(t,u)).data});for(let p of l)o.includes(p)||o.push(p);for(let[p,h]of f.entries()){let m=r.get(p);m||(m=[],r.set(p,m));for(let g of h)m.includes(g)||m.push(g)}}async function kd(t,e,n){if(n=il(t,e,n),e===n)return n;let r=bd(e,n);return ni.add(r),n=await So(t,e,n),n}async function Fb(t,e,n){await e.call(t.fileManager,r);async function r(o){let s=!1,l=t.vault.on("rename",()=>{s=!0});try{await n(o)}finally{t.vault.offref(l)}let u=fn(t);s&&u.shouldHandleRenames&&Pr(o,f=>u.isPathIgnored?.(f.sourceFile.path)?(console.warn(`Roll back to default link update of source file ${f.sourceFile.path} as the path is ignored.`),!0):u.isPathIgnored?.(f.resolvedFile.path)?(console.warn(`Roll back to default link update of resolved file ${f.resolvedFile.path} as the path is ignored.`),!0):!t.internalPlugins.getEnabledPluginById(ot.Canvas)||t.plugins.getPlugin("backlink-cache")?!1:f.sourceFile.extension==="canvas"||f.resolvedFile.extension==="canvas")}}function gl(t){let e=t.app,n=t.manifest.id,r=Lo(e);return Array.from(r.keys())[0]===n}var j1=require("obsidian");var vd=require("obsidian");var dn=class extends Map{constructor(n){super();this.title=n}add(n,r){this.has(n)||this.set(n,[]);let o=this.get(n);o&&o.push(r)}toString(n,r){if(this.size>0){let o=`# ${this.title} (${String(this.size)} files)
`;for(let s of this.keys()){let l=fe(n,s);if(!l)continue;let u=Do({app:n,sourcePathOrFile:r,targetPathOrFile:l});o+=`${u}:
`;for(let f of this.get(s)??[])At(f)?o+=`- (line ${String(f.position.start.line+1)}): \`${f.link}\`
`:Ye(f)&&(o+=`- (key ${f.key}): \`${f.link}\`
`);o+=`

`}return o}return`# ${this.title}
No problems found

`}},ii=class{constructor(e){this.plugin=e;}async checkConsistency(e,n,r,o,s,l){if(this.plugin.settings.isPathIgnored(e.path))return;let u=await Lt(this.plugin.app,e.path);if(!u)return;let f=u.links??[],p=u.embeds??[],h=u.frontmatterLinks??[];for(let m of f)await this.isValidLink(m,e.path)||n.add(e.path,m),ei(m.original)&&o.add(e.path,m);for(let m of p)await this.isValidLink(m,e.path)||r.add(e.path,m),ei(m.original)&&s.add(e.path,m);for(let m of h)await this.isValidLink(m,e.path)||l.add(e.path,m)}async convertAllNoteEmbedsPathsToRelative(e,n){return await this.convertAllNoteRefPathsToRelative(e,!0,n)}async convertAllNoteLinksPathsToRelative(e,n){return await this.convertAllNoteRefPathsToRelative(e,!1,n)}async getCachedNotesThatHaveLinkToFile(e){let n=fe(this.plugin.app,e);return n?(await Qt(this.plugin.app,n)).keys():[]}getFullPathForLink(e,n){({linkPath:e}=cn(e));let r=oe(n);return ge(r,e)}async replaceAllNoteWikilinksWithMarkdownLinks(e,n,r){if(this.plugin.settings.isPathIgnored(e))return 0;let o=fe(this.plugin.app,e);if(!o)return console.warn(`can't update wikilinks in note, file not found: ${e}`),0;let s=await Lt(this.plugin.app,o);if(r.throwIfAborted(),!s)return 0;let u=((n?s.embeds:s.links)??[]).filter(f=>ei(f.original)).length;return await Mo({app:this.plugin.app,linkStyle:cl.Markdown,newSourcePathOrFile:o,shouldUpdateEmbedOnlyLinks:n}),u}async updateChangedPathsInNote(e,n){if(this.plugin.settings.isPathIgnored(e))return;let r=fe(this.plugin.app,e);if(!r){console.warn(`can't update links in note, file not found: ${e}`);return}let o=new Map;for(let s of n)o.set(s.oldPath,s.newPath);await this.updateLinks(r,r.path,o)}async convertAllNoteRefPathsToRelative(e,n,r){if(this.plugin.settings.isPathIgnored(e))return[];let o=fe(this.plugin.app,e);if(!o)return[];let s=[];return await Zr(this.plugin.app,o,async l=>{let u=await Lt(this.plugin.app,o);if(l.throwIfAborted(),!u)return[];let f=(n?u.embeds:u.links)??[],p=[];for(let h of f){let m=this.convertLink({forceRelativePath:!0,link:h,note:o,oldNotePath:e});p.push(In(h,m)),s.push({newLink:m,old:h})}return p},{abortSignal:r}),s}convertLink({forceRelativePath:e,link:n,note:r,oldNotePath:o,pathChangeMap:s}){let{linkPath:l,subpath:u}=cn(n.link),f=Jt(this.plugin.app,n,o)?.path??ge(oe(o),l),p=s?s.get(f):Jt(this.plugin.app,n,r.path)?.path??ge(oe(r.path),l);if(!p)return n.original;let h=fe(this.plugin.app,p)??fe(this.plugin.app,f);if(!h)return n.original;let m=n.displayText&&ge(r.parent?.path??"",n.displayText)===f?void 0:n.displayText;return Do({alias:m,app:this.plugin.app,originalLink:n.original,shouldForceRelativePath:e,sourcePathOrFile:r.path,subpath:u,targetPathOrFile:h})}async isValidLink(e,n){let{linkPath:r,subpath:o}=cn(e.link),s;r?r.startsWith("/")?s=(0,vd.normalizePath)(r):s=ge(oe(n),r):s=n;let l=fe(this.plugin.app,s);if(!l)return!1;if(!o)return!0;let u=l.extension.toLocaleLowerCase();if(u==="pdf")return o.startsWith("#page=");if(u!==Ii)return!1;let f=await Lt(this.plugin.app,l);if(!f)return!1;let p="#^";if(o.startsWith(p))return Object.keys(f.blocks??{}).includes(vn(o,p));let h="#";return(f.headings??[]).map(m=>m.heading.replaceAll(h," ")).includes(vn(o,h))}async updateLinks(e,n,r){await Zr(this.plugin.app,e,async()=>{let o=await Lt(this.plugin.app,e);return o?Ot(o).map(l=>In(l,this.convertLink({link:l,note:e,oldNotePath:n,pathChangeMap:r}))):[]})}};var oi=class{constructor(e,n){this.plugin=e;this.lh=n;}async collectAttachmentsForCachedNote(e){if(this.plugin.settings.isPathIgnored(e))return{movedAttachments:[]};let n={movedAttachments:[]},r=await Lt(this.plugin.app,e);if(!r)return n;for(let o of Ot(r)){let{linkPath:s}=cn(o.link);if(!s)continue;let l=this.lh.getFullPathForLink(s,e);if(n.movedAttachments.findIndex(h=>h.oldPath===l)!==-1)continue;let u=Jt(this.plugin.app,o,e);if(!u){let h=Io(o.original)?"embed":"link";console.warn(`${e} has bad ${h} (file does not exist): ${s}`);continue}if(this.isNoteEx(u)||this.plugin.settings.isExcludedFromAttachmentCollecting(u.path))continue;let f=await Br(this.plugin.app,u.path,e,!0);if(oe(f)===oe(u.path))continue;let p=await this.moveAttachment(u,f,[e]);n.movedAttachments=n.movedAttachments.concat(p.movedAttachments)}return n}async deleteEmptyFolders(e){if(this.plugin.settings.isPathIgnored(e))return;e=vn(e,"./");let n=await pr(this.plugin.app,e);for(let r of n.folders)await this.deleteEmptyFolders(r);if(n=await pr(this.plugin.app,e),n.files.length===0&&n.folders.length===0&&(this.plugin.consoleDebug(`delete empty folder: 
   ${e}`),await this.plugin.app.vault.exists(e)))try{await this.plugin.app.vault.adapter.rmdir(e,!1)}catch(r){if(await this.plugin.app.vault.adapter.exists(e))throw r}}isNoteEx(e){if(!e||!Lr(this.plugin.app,e))return!1;let n=he(this.plugin.app,e);return this.plugin.settings.treatAsAttachmentExtensions.every(r=>!n.endsWith(r))}async createFolderForAttachmentFromPath(e){await dr(this.plugin.app,oe(e))}async deleteFile(e){if(await this.plugin.app.fileManager.trashFile(e),!!e.parent)switch(this.plugin.settings.emptyAttachmentFolderBehavior){case Te.Delete:await Xt(this.plugin.app,e.parent,void 0,void 0,!0);break;case Te.DeleteWithEmptyParents:await ti(this.plugin.app,e.parent);break;default:break}}async moveAttachment(e,n,r){let o=e.path,s={movedAttachments:[]};if(this.plugin.settings.isPathIgnored(o)||this.isNoteEx(e))return s;if(o===n)return console.warn("Can't move file. Source and destination path the same."),s;await this.createFolderForAttachmentFromPath(n);let l=await this.lh.getCachedNotesThatHaveLinkToFile(o);for(let h of r)l.remove(h);if(o!==e.path)return console.warn("File was moved already"),await this.moveAttachment(e,n,r);let u=e.parent,f=l.length===0,p=fe(this.plugin.app,n);if(p&&(this.plugin.settings.shouldDeleteExistingFilesWhenMovingNote?(this.plugin.consoleDebug(`delete: ${n}`),await this.deleteFile(p)):n=Eo(this.plugin.app,n)),this.plugin.consoleDebug(`${f?"move":"copy"}
  from: ${o}
  to: ${n}`),s.movedAttachments.push({newPath:n,oldPath:o}),f?await So(this.plugin.app,e,n):await ed(this.plugin.app,e,n),u)switch(this.plugin.settings.emptyAttachmentFolderBehavior){case Te.Delete:await Xt(this.plugin.app,u,void 0,void 0,!0);break;case Te.DeleteWithEmptyParents:await ti(this.plugin.app,u);break;default:break}return s}};(function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e})();var hn=class{getTransformer(e){if(e===this.id)return this;throw new Error(`Transformer with id ${e} not found`)}transformObjectRecursively(e){return this.transformValueRecursively(e,"")}getTransformerId(e,n){return this.canTransform(e,n)?this.id:null}transformValueRecursively(e,n){let r=this.getTransformerId(e,n);if(r){let l=this.transformValue(e,n);return l===void 0?void 0:{__transformerId:r,transformedValue:l}}if(e===null)return null;if(typeof e!="object")return e;if(Array.isArray(e))return e.map((l,u)=>this.transformValueRecursively(l,String(u)));let o=e;if(o.__transformerId)return this.getTransformer(o.__transformerId).restoreValue(o.transformedValue,n);let s={};for(let l of Xn(e)){let u=e[l],f=this.transformValueRecursively(u,l);s[l]=f}return s}};(function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e})();var dt=class extends hn{};(function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e})();var Ro=class extends dt{get id(){return"date"}canTransform(e){return e instanceof Date}restoreValue(e){return new Date(e)}transformValue(e){return e.toISOString()}};var Ad=it(Mn(),1);(function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e})();var No=class extends dt{get id(){return"duration"}canTransform(e){let n=e??{};return!!n.asHours&&!!n.asMinutes&&!!n.asSeconds&&!!n.asMilliseconds}restoreValue(e){return(0,Ad.duration)(e)}transformValue(e){return e.toISOString()}};(function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e})();var Wo=class extends hn{constructor(e){super(),this.transformers=e}get id(){return"group"}canTransform(e,n){return this.getFirstTransformerThatCanTransform(e,n)!==null}getTransformer(e){return this.transformers.find(n=>n.id===e)??kn(`No transformer with id ${e} found`)}transformValue(e,n){let r=this.getFirstTransformerThatCanTransform(e,n);if(r===null)throw new Error("No transformer can transform the value");return r.transformValue(e,n)}getTransformerId(e,n){let r=this.getFirstTransformerThatCanTransform(e,n);return r===null?null:r.id}restoreValue(){throw new Error("GroupTransformer does not support restoring values")}getFirstTransformerThatCanTransform(e,n){return this.transformers.find(r=>r.canTransform(e,n))??null}};(function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e})();var Bo=class extends dt{get id(){return"map"}canTransform(e){return e instanceof Map}restoreValue(e){return new Map(e)}transformValue(e){return Array.from(e.entries())}};(function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e})();var Yo=class extends dt{get id(){return"set"}canTransform(e){return e instanceof Set}restoreValue(e){return new Set(e)}transformValue(e){return Array.from(e)}};(function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e})();var Pb="_",Vo=class extends hn{get id(){return"skip-private-property"}canTransform(e,n){return n.startsWith(Pb)}transformValue(){}restoreValue(){throw new Error("SkipPrivatePropertyTransformer does not support restoring values")}};(function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e})();var si=class{keyValueMap=new Map;valueKeyMap=new Map;constructor(e=[]){for(let[n,r]of e)this.set(n,r)}clear(){this.keyValueMap.clear(),this.valueKeyMap.clear()}deleteKey(e){let n=this.getValue(e);n!==void 0&&this.valueKeyMap.delete(n),this.keyValueMap.delete(e)}deleteValue(e){let n=this.getKey(e);n!==void 0&&this.keyValueMap.delete(n),this.valueKeyMap.delete(e)}entries(){return this.keyValueMap.entries()}getKey(e){return this.valueKeyMap.get(e)}getValue(e){return this.keyValueMap.get(e)}hasKey(e){return this.keyValueMap.has(e)}hasValue(e){return this.valueKeyMap.has(e)}keys(){return this.keyValueMap.keys()}set(e,n){this.deleteKey(e),this.deleteValue(n),this.keyValueMap.set(e,n),this.valueKeyMap.set(n,e)}values(){return this.valueKeyMap.keys()}};(function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e})();var zo=class extends dt{get id(){return"two-way-map"}canTransform(e){return e instanceof si}restoreValue(e){return new si(e)}transformValue(e){return Array.from(e.entries())}};(function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e})();var Db=new Wo([new Vo,new Ro,new No,new Bo,new Yo,new zo]),Uo=class extends Pt{constructor(e){super(),this.plugin=e,this.app=e.app,this.defaultSettings=this.createDefaultSettings(),this.currentSettingsWrapper=this.createDefaultSettingsWrapper(),this.lastSavedSettingsWrapper=this.createDefaultSettingsWrapper(),this.propertyNames=Xn(this.currentSettingsWrapper.settings),this.registerValidators(),this.registerLegacySettingsConverters()}app;defaultSettings;get settingsWrapper(){return this.currentSettingsWrapper}currentSettingsWrapper;lastSavedSettingsWrapper;legacySettingsConverters=[];propertyNames;validators=new Map;async editAndSave(e,n){await this.edit(e),await this.saveToFile(n)}async ensureSafe(e){let n=await this.validate(e);for(let r of this.propertyNames)n[r]&&(e[r]=this.defaultSettings[r])}async getSafeCopy(e){let n=await this.cloneSettings(e);return await this.ensureSafe(n),n}async loadFromFile(e){let n=await this.plugin.loadData();this.lastSavedSettingsWrapper=this.createDefaultSettingsWrapper(),this.currentSettingsWrapper=this.createDefaultSettingsWrapper();try{if(n==null)return;if(typeof n!="object"){console.error(`Invalid settings from data.json. Expected Object, got: ${typeof n}`);return}let r=n,o=await this.rawRecordToSettings(r),s=await this.validate(o);for(let u of this.propertyNames)this.setPropertyImpl(u,o[u],s[u]);this.lastSavedSettingsWrapper=await this.cloneSettingsWrapper(this.currentSettingsWrapper);let l=await this.settingsToRawRecord(this.currentSettingsWrapper.settings);ct(l,n)||await this.saveToFileImpl()}finally{await this.triggerAsync("loadSettings",this.currentSettingsWrapper,e)}}on(e,n,r){return super.on(e,n,r)}async revalidate(){return await this.edit(Qe),this.currentSettingsWrapper.validationMessages}async saveToFile(e){ct(this.lastSavedSettingsWrapper.settings,this.currentSettingsWrapper.settings)||(await this.saveToFileImpl(),await this.triggerAsync("saveSettings",this.currentSettingsWrapper,this.lastSavedSettingsWrapper,e),this.lastSavedSettingsWrapper=await this.cloneSettingsWrapper(this.currentSettingsWrapper))}async setProperty(e,n){return await this.edit(r=>{r[e]=n}),this.currentSettingsWrapper.validationMessages[e]}async validate(e){let n={};for(let[r,o]of this.validators.entries()){let s=await o(e[r],e);s&&(n[r]=s)}return n}getTransformer(){return Db}async onLoadRecord(e){for(let n of this.legacySettingsConverters)n(e);await Promise.resolve()}async onSavingRecord(e){await _t()}registerLegacySettingsConverter(e,n){let r=this;this.legacySettingsConverters.push(o);function o(s){let l=new Set(Object.keys(new e)),u=new Set(r.propertyNames),f=s;n(f);for(let p of Object.keys(f))u.has(p)||l.has(p)&&delete s[p]}}registerLegacySettingsConverters(){}registerValidator(e,n){this.validators.set(e,n)}registerValidators(){}async cloneSettings(e){let n=await this.settingsToRawRecord(e),r=JSON.stringify(n),o=JSON.parse(r);return await this.rawRecordToSettings(o)}async cloneSettingsWrapper(e){return{safeSettings:await this.cloneSettings(e.safeSettings),settings:await this.cloneSettings(e.settings),validationMessages:{...e.validationMessages}}}createDefaultSettingsWrapper(){return{safeSettings:this.createDefaultSettings(),settings:this.createDefaultSettings(),validationMessages:{}}}async edit(e){try{await e(this.currentSettingsWrapper.settings)}finally{let n=await this.validate(this.currentSettingsWrapper.settings);for(let r of this.propertyNames){let o=n[r]??"";this.currentSettingsWrapper.validationMessages[r]=o,this.currentSettingsWrapper.safeSettings[r]=o?this.defaultSettings[r]:this.currentSettingsWrapper.settings[r]}}}isValidPropertyName(e){return typeof e!="string"?!1:this.propertyNames.includes(e)}async rawRecordToSettings(e){e=this.getTransformer().transformObjectRecursively(e),await this.onLoadRecord(e);let n=this.createDefaultSettings();for(let[r,o]of Object.entries(e)){if(!this.isValidPropertyName(r)){console.warn(`Unknown property: ${r}`);continue}typeof o!=typeof this.defaultSettings[r]&&console.warn("Possible invalid value type. It might lead to an unexpected behavior of the plugin. There is also a chance it is a false-negative warning, as we are unable to determine the exact type of the value in runtime.",{defaultValue:this.defaultSettings[r],propertyName:r,value:o}),n[r]=o}return n}async saveToFileImpl(){await this.plugin.saveData(await this.settingsToRawRecord(this.currentSettingsWrapper.settings))}setPropertyImpl(e,n,r){this.currentSettingsWrapper.settings[e]=n,this.currentSettingsWrapper.validationMessages[e]=r??"",this.currentSettingsWrapper.safeSettings[e]=r?this.defaultSettings[e]:n}async settingsToRawRecord(e){let n={};for(let r of this.propertyNames)n[r]=e[r];return await this.onSavingRecord(n),this.getTransformer().transformObjectRecursively(n)}};var Cd=/(?:)/,$o=/$./,Ho=class{consistencyReportFile="consistency-report.md";emptyAttachmentFolderBehavior=Te.DeleteWithEmptyParents;shouldChangeNoteBacklinksDisplayText=!0;shouldCollectAttachmentsAutomatically=!1;shouldDeleteAttachmentsWithNote=!1;shouldDeleteExistingFilesWhenMovingNote=!1;shouldMoveAttachmentsWithNote=!1;shouldShowBackupWarning=!0;shouldUpdateLinks=!0;treatAsAttachmentExtensions=[".excalidraw.md"];get excludePaths(){return this._excludePaths}set excludePaths(e){this._excludePaths=e.filter(Boolean),this._excludePathsRegExp=yl(this._excludePaths,$o)}get excludePathsFromAttachmentCollecting(){return this._excludePathsFromAttachmentCollecting}set excludePathsFromAttachmentCollecting(e){this._excludePathsFromAttachmentCollecting=e.filter(Boolean),this._excludePathsFromAttachmentCollectingRegExp=yl(this._excludePathsFromAttachmentCollecting,$o)}get hadDangerousSettingsReverted(){return this._hadDangerousSettingsReverted}get includePaths(){return this._includePaths}set includePaths(e){this._includePaths=e.filter(Boolean),this._includePathsRegExp=yl(this._includePaths,Cd)}_excludePaths=["/consistency-report\\.md$/"];_excludePathsFromAttachmentCollecting=[];_excludePathsFromAttachmentCollectingRegExp=$o;_excludePathsRegExp=$o;_hadDangerousSettingsReverted=!1;_includePaths=[];_includePathsRegExp=Cd;isExcludedFromAttachmentCollecting(e){return this._excludePathsFromAttachmentCollectingRegExp.test(e)}isPathIgnored(e){return!this._includePathsRegExp.test(e)||this._excludePathsRegExp.test(e)}revertDangerousSettings(){this.shouldShowBackupWarning&&(this._hadDangerousSettingsReverted=this.shouldDeleteAttachmentsWithNote||this.shouldDeleteExistingFilesWhenMovingNote||this.shouldMoveAttachmentsWithNote||this.shouldCollectAttachmentsAutomatically,this.shouldDeleteAttachmentsWithNote=!1,this.shouldDeleteExistingFilesWhenMovingNote=!1,this.shouldMoveAttachmentsWithNote=!1,this.shouldCollectAttachmentsAutomatically=!1)}};function yl(t,e){if(t.length===0)return e;let n=t.map(r=>r.startsWith("/")&&r.endsWith("/")?r.slice(1,-1):`^${js(r)}`).map(r=>`(${r})`).join("|");return new RegExp(n)}var jo=class extends Uo{createDefaultSettings(){return new Ho}async onLoadRecord(e){await super.onLoadRecord(e);let n=e,r=n.excludePaths??[];if(n.ignoreFiles){for(let o of n.ignoreFiles)r.push(`/${o}$/`);delete n.ignoreFiles}if(n.ignoreFolders){for(let o of n.ignoreFolders??[])r.push(o);delete n.ignoreFolders}r.length>0&&(n.excludePaths=r),n.deleteEmptyFolders!==void 0&&(n.emptyAttachmentFolderBehavior=n.deleteEmptyFolders?Te.DeleteWithEmptyParents:Te.Keep,delete n.deleteEmptyFolders),n.autoCollectAttachments!==void 0&&(n.shouldCollectAttachmentsAutomatically=n.autoCollectAttachments,delete n.autoCollectAttachments),n.changeNoteBacklinksAlt!==void 0&&(n.shouldChangeNoteBacklinksDisplayText=n.changeNoteBacklinksAlt,delete n.changeNoteBacklinksAlt),n.deleteAttachmentsWithNote!==void 0&&(n.shouldDeleteAttachmentsWithNote=n.deleteAttachmentsWithNote,delete n.deleteAttachmentsWithNote),n.deleteExistFilesWhenMoveNote!==void 0&&(n.shouldDeleteExistingFilesWhenMovingNote=n.deleteExistFilesWhenMoveNote,delete n.deleteExistFilesWhenMoveNote),n.moveAttachmentsWithNote!==void 0&&(n.shouldMoveAttachmentsWithNote=n.moveAttachmentsWithNote,delete n.moveAttachmentsWithNote),n.showBackupWarning!==void 0&&(n.shouldShowBackupWarning=n.showBackupWarning,delete n.showBackupWarning),n.updateLinks!==void 0&&(n.shouldUpdateLinks=n.updateLinks,delete n.updateLinks)}registerValidators(){super.registerValidators(),this.registerValidator("includePaths",xd),this.registerValidator("excludePaths",xd)}};function xd(t){for(let e of t)if(e.startsWith("/")&&e.endsWith("/")){let n=e.slice(1,-1);if(!Su(n))return`Invalid regular expression ${e}`}}var Yd=require("obsidian");(function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e})();function Ed(t,e){let n=Object.keys(t).find(r=>t[r]===e);if(n===void 0)throw new Error(`Invalid enum value: ${e}`);return n}function Sd(t,e){let n=t[e];if(n===void 0)throw new Error(`Invalid enum key: ${e}`);return n}(function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e})();function ht(t,e){t.createEl("strong",{cls:"markdown-rendered code"},n=>{n.createEl("code",{text:e})})}function Td(t){return`${String(t)}px`}var On=require("obsidian");(function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e})();function Go(t){let e=t.parentElement;if(!e)throw new Error("Element must be attached to the DOM");if(e.classList.contains(W.SettingComponentWrapper))return e;let n=Array.from(e.children),r=createDiv();se(r,W.SettingComponentWrapper);for(let o of n)r.appendChild(o);return e.appendChild(r),r}var _d=require("obsidian");(function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e})();var bl=class{constructor(e){this.abstractTextComponent=e}empty(){this.abstractTextComponent.setValue("")}isEmpty(){return this.abstractTextComponent.getValue()===""}setPlaceholderValue(e){return this.abstractTextComponent.setPlaceholder(e),this}};function Fd(t){return Ib(t)?t:t instanceof _d.AbstractTextComponent?new bl(t):null}function Ib(t){let e=t;return typeof e.setPlaceholderValue=="function"&&typeof e.isEmpty=="function"}var Oe=require("obsidian");(function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e})();var qo=class{constructor(e){this.el=e;let n=Go(e);this._validatorEl=n.createEl("input",{attr:{tabindex:-1}}),se(this._validatorEl,W.OverlayValidator),this._validatorEl.addEventListener("focus",()=>{this.el.focus()}),this._validatorEl.isActiveElement=this.isElementOrDescendantActive.bind(this);let r=this.el.querySelector("[tabindex]");r||(this.el.getAttr("tabindex")===null&&(this.el.tabIndex=-1),r=this.el),this.el.addEventListener("focusin",()=>{this.forceBlurValidatorEl()}),this.el.addEventListener("click",()=>{r.focus()}),this.el.addEventListener("focusout",()=>{window.setTimeout(()=>{this.isElementOrDescendantActive()||this.forceBlurValidatorEl()},0)})}get validatorEl(){return this._validatorEl}_validatorEl;forceBlurValidatorEl(){this._validatorEl.dispatchEvent(new Event("blur"))}isElementOrDescendantActive(){return this.el.contains(document.activeElement)}},pn=class{constructor(e){this.validatorEl=e}};function Pd(t){return Mb(t)?t:t instanceof Oe.ColorComponent?new pn(t.colorPickerEl):t instanceof Oe.DropdownComponent?new pn(t.selectEl):t instanceof Oe.ProgressBarComponent?new qo(t.progressBar):t instanceof Oe.SearchComponent?new pn(t.inputEl):t instanceof Oe.SliderComponent?new pn(t.sliderEl):t instanceof Oe.TextAreaComponent?new pn(t.inputEl):t instanceof Oe.TextComponent?new pn(t.inputEl):t instanceof Oe.ToggleComponent?new qo(t.toggleEl):null}function Mb(t){return!!t.validatorEl}var Ob=require("obsidian");(function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e})();function Dd(t){return t.validationMessage!==void 0}(function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e})();var kl="PluginSettingsTab",Ko=class extends On.PluginSettingTab{constructor(e){super(e.app,e),this.plugin=e,se(this.containerEl,W.PluginSettingsTab),this.saveSettingsDebounced=(0,On.debounce)(Jn(()=>this.plugin.settingsManager.saveToFile(kl)),this.saveSettingsDebounceTimeoutInMilliseconds),this.asyncEventsComponent=new qi,this.asyncEvents=new Pt}get isOpen(){return this._isOpen}get saveSettingsDebounceTimeoutInMilliseconds(){return 2e3}_isOpen=!1;asyncEvents;asyncEventsComponent;saveSettingsDebounced;get pluginSettings(){return this.plugin.settingsManager.settingsWrapper.settings}bind(e,n,r){let s={...{componentToPluginSettingsValueConverter:_=>_,onChanged:Qe,pluginSettingsToComponentValueConverter:_=>_,shouldResetSettingWhenComponentIsEmpty:!0,shouldShowPlaceholderForDefaultValues:!0,shouldShowValidationMessage:!0},...r},l=Pd(e)?.validatorEl,u=Fd(e),f=this.pluginSettings[n],p=this.plugin.settingsManager.defaultSettings[n];u?.setPlaceholderValue(s.pluginSettingsToComponentValueConverter(p));let h,m=null,g=null;if(l){let _=Go(l);m=_.createDiv(),se(m,W.Tooltip,W.TooltipValidator),g=m.createSpan();let P=m.createDiv();se(P,W.TooltipArrow),m.hide(),_.appendChild(m)}this.asyncEventsComponent.registerAsyncEvent(this.on("validationMessageChanged",(_,P)=>{n===_&&(h=P,S())}));let y=!1;u&&s.shouldShowPlaceholderForDefaultValues&&ct(f,p)?u.empty():e.setValue(s.pluginSettingsToComponentValueConverter(f));let A=!1,S=(0,On.debounce)(()=>{requestAnimationFrame(()=>{C()})},100);return e.onChange(async _=>{if(A){A=!1;return}y=!1;let P=this.pluginSettings[n],B,Y=!0;if(u?.isEmpty()&&s.shouldResetSettingWhenComponentIsEmpty)B=p;else{let E=s.componentToPluginSettingsValueConverter(_);Dd(E)?(h=E.validationMessage,Y=!1):B=E}Y&&(h=await this.plugin.settingsManager.setProperty(n,B),u&&s.shouldShowPlaceholderForDefaultValues&&!u.isEmpty()&&ct(B,p)&&(y=!0)),S(),B!==void 0&&await s.onChanged(B,P),this.saveSettingsDebounced()}),l?.addEventListener("focus",()=>{S()}),l?.addEventListener("blur",()=>{S()}),l?.addEventListener("click",()=>{requestAnimationFrame(()=>{S()})}),h=this.plugin.settingsManager.settingsWrapper.validationMessages[n]??"",S(),e;function C(){y&&!l?.isActiveElement()&&(y=!1,u?.isEmpty()||(A=!0,u?.empty())),l&&(h===""&&(l.setCustomValidity(""),l.checkValidity(),h=l.validationMessage),l.setCustomValidity(h),s.shouldShowValidationMessage?(g&&(g.textContent=h),m?.toggle(!!h)):h&&(0,On.setTooltip)(l,h))}}display(){this.containerEl.empty(),this._isOpen=!0,this.asyncEventsComponent.load(),this.asyncEventsComponent.registerAsyncEvent(this.plugin.settingsManager.on("loadSettings",this.onLoadSettings.bind(this))),this.asyncEventsComponent.registerAsyncEvent(this.plugin.settingsManager.on("saveSettings",this.onSaveSettings.bind(this)))}hide(){super.hide(),this.saveSettingsDebounced.cancel(),this._isOpen=!1,this.asyncEventsComponent.unload(),this.asyncEventsComponent.load(),lt(()=>this.hideAsync())}async hideAsync(){await this.plugin.settingsManager.saveToFile(kl)}show(){this.app.setting.openTab(this)}async onLoadSettings(e,n){this.display(),await _t()}async revalidate(){let e=await this.plugin.settingsManager.revalidate();await this.updateValidations(e)}on(e,n,r){return this.asyncEvents.on(e,n,r)}async onSaveSettings(e,n,r){if(r===kl){await this.updateValidations(e.validationMessages);return}this.display()}async updateValidations(e){for(let[n,r]of Object.entries(e))await this.asyncEvents.triggerAsync("validationMessageChanged",n,r)}};var Bd=require("obsidian");var Id=require("obsidian");(function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e})();var Zo=class extends Id.ValueComponent{inputEl;get validatorEl(){return this.inputEl}changeCallback;constructor(e){super(),se(e,W.CheckboxComponent),this.inputEl=e.createEl("input",{type:"checkbox"}),this.inputEl.addEventListener("change",this.onChanged.bind(this))}getValue(){return this.inputEl.checked}onChange(e){return this.changeCallback=e,this}onChanged(){this.changeCallback?.(this.getValue())}setDisabled(e){return super.setDisabled(e),this.inputEl.disabled=e,this}setValue(e){return this.inputEl.checked=e,this}};var gr=require("obsidian");(function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e})();var Qo=class extends gr.ValueComponent{get inputEl(){return this.textAreaComponent.inputEl}get validatorEl(){return this.inputEl}codeEl;placeholder="";preEl;tabSize;textAreaComponent;constructor(e){super(),se(e,W.CodeHighlighterComponent);let n=e.createDiv();se(n,W.SettingComponentWrapper),this.textAreaComponent=new gr.TextAreaComponent(n),this.preEl=n.createEl("pre"),this.codeEl=this.preEl.createEl("code"),this.inputEl.addEventListener("input",Jn(this.updateHighlightedCode.bind(this))),this.inputEl.addEventListener("scroll",this.handleScroll.bind(this)),this.inputEl.addEventListener("keydown",this.handleKeyDown.bind(this));let r=2;this.tabSize=r}empty(){this.setValue("")}getValue(){return this.textAreaComponent.getValue()}isEmpty(){return this.textAreaComponent.getValue()===""}onChange(e){return this.textAreaComponent.onChange(()=>e(this.getValue())),this}setDisabled(e){return super.setDisabled(e),this.textAreaComponent.setDisabled(e),this}setLanguage(e){let n="language-";for(let r of[this.preEl,this.codeEl]){for(let o of Array.from(r.classList))o.startsWith(n)&&r.classList.remove(o);r.classList.add(`${n}${e}`)}return this}setPlaceholder(e){return this.placeholder=e,lt(this.updateHighlightedCode.bind(this)),this}setPlaceholderValue(e){return this.setPlaceholder(e),this}setTabSize(e){return this.tabSize=e,this}setValue(e){return this.textAreaComponent.setValue(e),lt(this.updateHighlightedCode.bind(this)),this}handleKeyDown(e){if(e.key!=="Tab")return;e.preventDefault();let n=this.getValue(),r=this.inputEl.selectionStart,o=this.inputEl.selectionEnd,s=n.slice(0,r),l=n.slice(o),u=" ".repeat(this.tabSize),f=s;e.shiftKey?s.endsWith(u)&&(f=s.slice(0,-this.tabSize)):f=s+u;let p=`${f}${l}`;this.setValue(p),this.inputEl.selectionStart=f.length,this.inputEl.selectionEnd=f.length}handleScroll(){this.preEl.scrollTop=this.inputEl.scrollTop,this.preEl.scrollLeft=this.inputEl.scrollLeft}async updateHighlightedCode(){this.codeEl.textContent=this.inputEl.value||this.placeholder,(await(0,gr.loadPrism)()).highlightElement(this.codeEl),this.preEl.toggleClass(W.IsPlaceholder,this.isEmpty()),requestAnimationFrame(()=>{let n=Math.max(0,this.inputEl.scrollHeight-this.preEl.scrollHeight);this.preEl.setCssProps({"--bottom-gap":Td(n)}),this.handleScroll()})}};var vl=it(Mn(),1);var Jo=require("obsidian");(function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e})();var Ee=class extends Jo.ValueComponent{inputEl;get validatorEl(){return this.inputEl}textComponent;constructor(e,n,r){super(),this.textComponent=new Jo.TextComponent(e),this.inputEl=this.textComponent.inputEl,this.inputEl.type=n,se(e,r)}getValue(){return this.valueFromString(this.textComponent.getValue())}onChange(e){return this.textComponent.onChange(()=>e(this.getValue())),this}onChanged(){this.textComponent.onChanged()}setDisabled(e){return super.setDisabled(e),this.textComponent.setDisabled(e),this}setValue(e){return this.textComponent.setValue(this.valueToString(e)),this}valueToString(e){return String(e)}};(function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e})();var Ze=class extends Ee{setMax(e){return this.inputEl.max=this.valueToString(e),this}setMin(e){return this.inputEl.min=this.valueToString(e),this}setStep(e){return this.inputEl.step=String(e),this}};(function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e})();var Md="YYYY-MM-DD",Xo=class extends Ze{constructor(e){super(e,"date",W.DateComponent)}valueFromString(e){return(0,vl.default)(e,Md).toDate()}valueToString(e){return(0,vl.default)(e).format(Md)}};var Al=it(Mn(),1);(function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e})();var Od="YYYY-MM-DDTHH:mm",es=class extends Ze{constructor(e){super(e,"datetime-local",W.DateTimeComponent)}valueFromString(e){return(0,Al.default)(e,Od).toDate()}valueToString(e){return(0,Al.default)(e).format(Od)}};(function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e})();var ts=class extends Ee{constructor(e){super(e,"email",W.EmailComponent)}empty(){this.setValue("")}isEmpty(){return this.getValue()===""}setPlaceholderValue(e){return this.textComponent.setPlaceholder(e),this}valueFromString(e){return e}};(function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e})();var ns=class extends Ee{constructor(e){super(e,"file",W.FileComponent)}getValue(){return this.inputEl.files?.[0]??null}valueFromString(){return this.getValue()}valueToString(e){return e?.name??""}};var Cl=it(Mn(),1);(function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e})();var Ld="YYYY-MM",rs=class extends Ze{constructor(e){super(e,"month",W.MonthComponent)}valueFromString(e){let n=(0,Cl.default)(e,Ld);if(!n.isValid())throw new Error("Invalid month");return{month:n.month()+1,year:n.year()}}valueToString(e){return(0,Cl.default)().year(e.year).month(e.month-1).format(Ld)}};var is=require("obsidian");(function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e})();var wr=class extends is.ValueComponent{get selectEl(){return this.dropdownComponent.selectEl}get validatorEl(){return this.selectEl}dropdownComponent;constructor(e){super(),this.dropdownComponent=new is.DropdownComponent(e),this.dropdownComponent.selectEl.multiple=!0,se(e,W.MultipleDropdownComponent)}addOption(e,n){return this.dropdownComponent.addOption(e,n),this}addOptions(e){return this.dropdownComponent.addOptions(e),this}getValue(){return Array.from(this.dropdownComponent.selectEl.selectedOptions).map(e=>e.value)}onChange(e){return this.dropdownComponent.onChange(()=>e(this.getValue())),this}setDisabled(e){return super.setDisabled(e),this.dropdownComponent.setDisabled(e),this}setValue(e){for(let n of Array.from(this.dropdownComponent.selectEl.options))n.selected=e.includes(n.value);return this}};(function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e})();var os=class extends Ee{constructor(e){super(e,"email",W.MultipleEmailComponent),this.inputEl.multiple=!0}valueFromString(e){return e.split(",").map(n=>n.trim())}valueToString(e){return e.join(", ")}};(function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e})();var ss=class extends Ee{constructor(e){super(e,"file",W.MultipleFileComponent),this.inputEl.multiple=!0}getValue(){return Array.from(this.inputEl.files??[])}valueFromString(){return this.getValue()}valueToString(e){return e[0]?.name??""}};var ls=require("obsidian");(function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e})();var as=class extends ls.ValueComponent{get inputEl(){return this.textAreaComponent.inputEl}get validatorEl(){return this.inputEl}textAreaComponent;constructor(e){super(),this.textAreaComponent=new ls.TextAreaComponent(e),se(e,W.MultipleTextComponent)}empty(){this.textAreaComponent.setValue("")}getValue(){return this.textAreaComponent.getValue().split(`
`)}isEmpty(){return this.textAreaComponent.getValue()===""}onChange(e){return this.textAreaComponent.onChange(()=>e(this.getValue())),this}setDisabled(e){return super.setDisabled(e),this.textAreaComponent.setDisabled(e),this}setPlaceholder(e){return this.textAreaComponent.setPlaceholder(e),this}setPlaceholderValue(e){return this.setPlaceholder(this.valueToString(e)),this}setValue(e){return this.textAreaComponent.setValue(this.valueToString(e)),this}valueToString(e){return e.join(`
`)}};(function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e})();var us=class extends Ze{constructor(e){super(e,"number",W.NumberComponent)}empty(){this.textComponent.setValue("")}isEmpty(){return this.textComponent.getValue()===""}setPlaceholder(e){return this.textComponent.setPlaceholder(e),this}setPlaceholderValue(e){return this.textComponent.setPlaceholder(this.valueToString(e)),this}valueFromString(e){return parseInt(e,10)}};(function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e})();var cs=class extends Ee{constructor(e){super(e,"password",W.PasswordComponent)}setPlaceholder(e){return this.textComponent.setPlaceholder(e),this}valueFromString(e){return e}};(function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e})();var fs=class extends Ee{constructor(e){super(e,"tel",W.TelephoneComponent)}empty(){this.textComponent.setValue("")}isEmpty(){return this.textComponent.getValue()===""}setPlaceholderValue(e){return this.textComponent.setPlaceholder(e),this}valueFromString(e){return e}};var hs=it(Mn(),1);(function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e})();var ds=class extends Ze{constructor(e){super(e,"time",W.TimeComponent)}valueFromString(e){return(0,hs.duration)(e)}valueToString(e){let n;return e.milliseconds()>0?n="HH:mm:ss.SSS":e.seconds()>0?n="HH:mm:ss":n="HH:mm",(0,hs.utc)(e.asMilliseconds()).format(n)}};var Rd=require("obsidian");(function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e})();var ps=class extends Rd.ValueComponent{inputEl;get validatorEl(){return this.inputEl}changeCallback;constructor(e){super(),se(e,W.TriStateCheckboxComponent),this.inputEl=e.createEl("input",{type:"checkbox"}),this.inputEl.addEventListener("change",this.onChanged.bind(this))}getValue(){return this.inputEl.indeterminate?null:this.inputEl.checked}onChange(e){return this.changeCallback=e,this}onChanged(){this.changeCallback?.(this.getValue())}setDisabled(e){return super.setDisabled(e),this.inputEl.disabled=e,this}setValue(e){return this.inputEl.indeterminate=e===null,this.inputEl.checked=e??!1,this}};var gs=require("obsidian");(function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e})();var ms=class extends gs.ValueComponent{get selectEl(){return this.dropdownComponent.selectEl}get validatorEl(){return this.selectEl}dropdownComponent;values=[];constructor(e){super(),this.dropdownComponent=new gs.DropdownComponent(e),se(e,W.TypedDropdownComponent)}addOption(e,n){let r=this.values.indexOf(e);return r===-1&&(this.values.push(e),r=this.values.length-1),this.dropdownComponent.addOption(String(r),n),this}addOptions(e){for(let[n,r]of e.entries())this.addOption(n,r);return this}getValue(){return this.values[this.dropdownComponent.selectEl.selectedIndex]??null}onChange(e){return this.dropdownComponent.onChange(()=>e(this.getValue())),this}setDisabled(e){return super.setDisabled(e),this.dropdownComponent.setDisabled(e),this}setValue(e){let n=e===null?-1:this.values.indexOf(e);return this.dropdownComponent.selectEl.selectedIndex=n,this}};var Nd=require("obsidian");(function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e})();var ws=class extends Nd.ValueComponent{get selectEl(){return this.multipleDropdownComponent.selectEl}get validatorEl(){return this.selectEl}multipleDropdownComponent;values=[];constructor(e){super(),this.multipleDropdownComponent=new wr(e),se(e,W.TypedMultipleDropdownComponent)}addOption(e,n){let r=this.values.indexOf(e);return r===-1&&(this.values.push(e),r=this.values.length-1),this.multipleDropdownComponent.addOption(String(r),n),this}addOptions(e){for(let[n,r]of e.entries())this.addOption(n,r);return this}getValue(){return this.multipleDropdownComponent.getValue().map(n=>parseInt(n,10)).map(n=>this.values[n]).filter(n=>n!==void 0)}onChange(e){return this.multipleDropdownComponent.onChange(()=>e(this.getValue())),this}setDisabled(e){return super.setDisabled(e),this.multipleDropdownComponent.setDisabled(e),this}setValue(e){let n=e.map(r=>this.values.indexOf(r)).filter(r=>r!==-1);return this.multipleDropdownComponent.setValue(n.map(r=>String(r))),this}};(function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e})();var ys=class extends Ee{constructor(e){super(e,"url",W.UrlComponent)}empty(){this.setValue("")}isEmpty(){return this.getValue()===""}setPlaceholderValue(e){return this.textComponent.setPlaceholder(e),this}valueFromString(e){return e}};var xl=it(Mn(),1);(function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e})();var Wd="YYYY-[W]WW",bs=class extends Ze{constructor(e){super(e,"week",W.WeekComponent)}valueFromString(e){let n=(0,xl.default)(e,Wd);if(!n.isValid())throw new Error("Invalid week");return{weekNumber:n.isoWeek(),year:n.year()}}valueToString(e){return(0,xl.default)().year(e.year).isoWeek(e.weekNumber).format(Wd)}};(function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e})();var $e=class extends Bd.Setting{addCheckbox(e){return this.addComponent(Zo,e)}addCodeHighlighter(e){return this.addComponent(Qo,e)}addComponent(e,n){let r=new e(this.controlEl);return this.components.push(r),n(r),this}addDate(e){return this.addComponent(Xo,e)}addDateTime(e){return this.addComponent(es,e)}addEmail(e){return this.addComponent(ts,e)}addFile(e){return this.addComponent(ns,e)}addMonth(e){return this.addComponent(rs,e)}addMultipleDropdown(e){return this.addComponent(wr,e)}addMultipleEmail(e){return this.addComponent(os,e)}addMultipleFile(e){return this.addComponent(ss,e)}addMultipleText(e){return this.addComponent(as,e)}addNumber(e){return this.addComponent(us,e)}addPassword(e){return this.addComponent(cs,e)}addTelephone(e){return this.addComponent(fs,e)}addTime(e){return this.addComponent(ds,e)}addTriStateCheckbox(e){return this.addComponent(ps,e)}addTypedDropdown(e){return this.addComponent(ms,e)}addTypedMultipleDropdown(e){return this.addComponent(ws,e)}addUrl(e){return this.addComponent(ys,e)}addWeek(e){return this.addComponent(bs,e)}};var ks=class extends Ko{display(){super.display(),this.containerEl.empty();let e="Move Attachments with Note";new $e(this.containerEl).setName(e).setDesc("Automatically move attachments when a note is relocated. This includes attachments located in the same folder or any of its subfolders.").addToggle(s=>this.bind(s,"shouldMoveAttachmentsWithNote",{onChanged:async()=>{await this.checkDangerousSetting("shouldMoveAttachmentsWithNote",e)}}));let n="Delete Unused Attachments with Note";new $e(this.containerEl).setName(n).setDesc("Automatically remove attachments that are no longer referenced in other notes when the note is deleted.").addToggle(s=>this.bind(s,"shouldDeleteAttachmentsWithNote",{onChanged:async()=>{await this.checkDangerousSetting("shouldDeleteAttachmentsWithNote",n)}})),new $e(this.containerEl).setName("Update Links").setDesc("Automatically update links to attachments and other notes when moving notes or attachments.").addToggle(s=>this.bind(s,"shouldUpdateLinks")),new $e(this.containerEl).setName("Empty attachment folder behavior").setDesc(createFragment(s=>{s.appendText("When the attachment folder becomes empty, "),s.createEl("br"),ht(s,"Keep"),s.appendText(" - will keep the empty attachment folder, "),s.createEl("br"),ht(s,"Delete"),s.appendText(" - will delete the empty attachment folder, "),s.createEl("br"),ht(s,"Delete with empty parents"),s.appendText(" - will delete the empty attachment folder and its empty parent folders.")})).addDropdown(s=>{s.addOptions({[Te.Keep]:"Keep",[Te.Delete]:"Delete",[Te.DeleteWithEmptyParents]:"Delete with empty parents"}),this.bind(s,"emptyAttachmentFolderBehavior",{componentToPluginSettingsValueConverter:l=>Sd(Te,l),pluginSettingsToComponentValueConverter:l=>Ed(Te,l)})});let r="Delete Duplicate Attachments on Note Move";new $e(this.containerEl).setName(r).setDesc("Automatically delete attachments when moving a note if a file with the same name exists in the destination folder. If disabled, the file will be renamed and moved.").addToggle(s=>this.bind(s,"shouldDeleteExistingFilesWhenMovingNote",{onChanged:async()=>{await this.checkDangerousSetting("shouldDeleteExistingFilesWhenMovingNote",r)}})),new $e(this.containerEl).setName("Update Backlink Text on Note Rename").setDesc("When a note is renamed, its linked references are automatically updated. If this option is enabled, the text of backlinks to this note will also be modified.").addToggle(s=>this.bind(s,"shouldChangeNoteBacklinksDisplayText")),new $e(this.containerEl).setName("Consistency Report Filename").setDesc("Specify the name of the file for the consistency report.").addText(s=>{this.bind(s,"consistencyReportFile")});let o="Auto Collect Attachments";new $e(this.containerEl).setName(o).setDesc("Automatically collect attachments when the note is edited.").addToggle(s=>this.bind(s,"shouldCollectAttachmentsAutomatically",{onChanged:async()=>{await this.checkDangerousSetting("shouldCollectAttachmentsAutomatically",o)}})),new $e(this.containerEl).setName("Include paths").setDesc(createFragment(s=>{s.appendText("Include notes from the following paths"),s.createEl("br"),s.appendText("Insert each path on a new line"),s.createEl("br"),s.appendText("You can use path string or "),ht(s,"/regular expression/"),s.createEl("br"),s.appendText("If the setting is empty, all notes are included")})).addMultipleText(s=>{this.bind(s,"includePaths")}),new $e(this.containerEl).setName("Exclude paths").setDesc(createFragment(s=>{s.appendText("Exclude notes from the following paths"),s.createEl("br"),s.appendText("Insert each path on a new line"),s.createEl("br"),s.appendText("You can use path string or "),ht(s,"/regular expression/"),s.createEl("br"),s.appendText("If the setting is empty, no notes are excluded")})).addMultipleText(s=>{this.bind(s,"excludePaths")}),new $e(this.containerEl).setName("Exclude paths from attachment collecting").setDesc(createFragment(s=>{s.appendText("Exclude attachments from the following paths when "),ht(s,"Collect attachments"),s.appendText(" command is executed."),s.createEl("br"),s.appendText("Insert each path on a new line"),s.createEl("br"),s.appendText("You can use path string or "),ht(s,"/regular expression/"),s.createEl("br"),s.appendText("If the setting is empty, no paths are excluded from attachment collecting.")})).addMultipleText(s=>{this.bind(s,"excludePathsFromAttachmentCollecting")}),new $e(this.containerEl).setName("Treat as attachment extensions").setDesc(createFragment(s=>{s.appendText("Treat files with these extensions as attachments."),s.createEl("br"),s.appendText("By default, "),ht(s,".md"),s.appendText(" and "),ht(s,".canvas"),s.appendText(" linked files are not treated as attachments and are not moved with the note."),s.createEl("br"),s.appendText("You can add custom extensions, e.g. "),ht(s,".foo.md"),s.appendText(", "),ht(s,".bar.canvas"),s.appendText(", to override this behavior.")})).addMultipleText(s=>{this.bind(s,"treatAsAttachmentExtensions")})}async checkDangerousSetting(e,n){this.plugin.settings[e]&&await Gi({app:this.app,message:createFragment(r=>{r.createDiv({cls:"community-modal-readme"},o=>{o.appendText("You enabled "),o.createEl("strong",{cls:"markdown-rendered-code",text:n}),o.appendText(" setting. Without proper configuration it might lead to inconvenient attachment rearrangements or even data loss in your vault."),o.createEl("br"),o.appendText("It is "),o.createEl("strong",{text:"STRONGLY"}),o.appendText(" recommended to backup your vault before using the plugin."),o.createEl("br"),o.createEl("a",{href:"https://github.com/dy-sh/obsidian-consistent-attachments-and-links?tab=readme-ov-file",text:"Read more"}),o.appendText(" about how to use the plugin.")})}),title:createFragment(r=>{(0,Yd.setIcon)(r.createSpan(),"triangle-alert"),r.appendText(" Consistent Attachments and Links")})})}};var vs=class extends Zi{deletedNoteCache=new Map;fh;lh;async onLoadSettings(e,n){await super.onLoadSettings(e,n),e.settings.revertDangerousSettings()}async onSaveSettings(e,n,r){await super.onSaveSettings(e,n,r),this.lh=new ii(this),this.fh=new oi(this,this.lh)}createSettingsManager(){return new jo(this)}createSettingsTab(){return new ks(this)}async onLayoutReady(){await this.showBackupWarning(),this.registerEvent(this.app.metadataCache.on("deleted",(e,n)=>{n&&this.handleDeletedMetadata(e,n)})),this.registerEvent(this.app.metadataCache.on("changed",e=>{ut(this.app,n=>this.handleMetadataCacheChanged(e,n),this.abortSignal)}))}async onloadImpl(){await super.onloadImpl(),wd(this,()=>({emptyAttachmentFolderBehavior:this.settings.emptyAttachmentFolderBehavior,isNote:n=>this.fh.isNoteEx(n),isPathIgnored:n=>this.settings.isPathIgnored(n),shouldDeleteConflictingAttachments:this.settings.shouldDeleteExistingFilesWhenMovingNote,shouldHandleDeletions:this.settings.shouldDeleteAttachmentsWithNote,shouldHandleRenames:this.settings.shouldUpdateLinks,shouldRenameAttachmentFolder:this.settings.shouldMoveAttachmentsWithNote,shouldUpdateFileNameAliases:this.settings.shouldChangeNoteBacklinksDisplayText})),this.addCommand({callback:()=>this.collectAllAttachments(),id:"collect-all-attachments",name:"Collect All Attachments"}),this.addCommand({checkCallback:e=>this.collectAttachmentsCurrentFolder(e),id:"collect-attachments-current-folder",name:"Collect Attachments in Current Folder"}),this.addCommand({checkCallback:this.collectAttachmentsCurrentNote.bind(this),id:"collect-attachments-current-note",name:"Collect Attachments in Current Note"}),this.addCommand({callback:()=>this.deleteEmptyFolders(),id:"delete-empty-folders",name:"Delete Empty Folders"}),this.addCommand({callback:()=>this.convertAllLinkPathsToRelative(this.abortSignal),id:"convert-all-link-paths-to-relative",name:"Convert All Link Paths to Relative"}),this.addCommand({checkCallback:this.convertAllLinkPathsToRelativeCurrentNote.bind(this),id:"convert-all-link-paths-to-relative-current-note",name:"Convert All Link Paths to Relative in Current Note"}),this.addCommand({callback:()=>this.convertAllEmbedsPathsToRelative(),id:"convert-all-embed-paths-to-relative",name:"Convert All Embed Paths to Relative"}),this.addCommand({checkCallback:this.convertAllEmbedsPathsToRelativeCurrentNote.bind(this),id:"convert-all-embed-paths-to-relative-current-note",name:"Convert All Embed Paths to Relative in Current Note"}),this.addCommand({callback:()=>this.replaceAllWikilinksWithMarkdownLinks(),id:"replace-all-wikilinks-with-markdown-links",name:"Replace All Wiki Links with Markdown Links"}),this.addCommand({checkCallback:this.replaceAllWikilinksWithMarkdownLinksCurrentNote.bind(this),id:"replace-all-wikilinks-with-markdown-links-current-note",name:"Replace All Wiki Links with Markdown Links in Current Note"}),this.addCommand({callback:()=>this.replaceAllWikiEmbedsWithMarkdownEmbeds(),id:"replace-all-wiki-embeds-with-markdown-embeds",name:"Replace All Wiki Embeds with Markdown Embeds"}),this.addCommand({checkCallback:this.replaceAllWikiEmbedsWithMarkdownEmbedsCurrentNote.bind(this),id:"replace-all-wiki-embeds-with-markdown-embeds-current-note",name:"Replace All Wiki Embeds with Markdown Embeds in Current Note"}),this.addCommand({callback:()=>this.reorganizeVault(),id:"reorganize-vault",name:"Reorganize Vault"}),this.addCommand({callback:()=>this.checkConsistency(),id:"check-consistency",name:"Check Vault consistency"}),this.registerEvent(this.app.workspace.on("file-menu",(e,n)=>{this.handleFileMenu(e,n)})),this.lh=new ii(this),this.fh=new oi(this,this.lh)}async checkConsistency(){await this.saveAllOpenNotes();let e=new dn("Bad links"),n=new dn("Bad embeds"),r=new dn("Wiki links"),o=new dn("Wiki embeds"),s=new dn("Bad frontmatter links");await xn({abortSignal:this.abortSignal,buildNoticeMessage:(h,m)=>`Checking note ${m} - ${h.path}`,items:hr(this.app),processItem:async h=>{await this.lh.checkConsistency(h,e,n,r,o,s)},progressBarTitle:"Consistent Attachments and Links: Checking vault consistency...",shouldContinueOnError:!0,shouldShowProgressBar:!0});let l=this.settings.consistencyReportFile,u=[e,n,r,o,s].map(h=>h.toString(this.app,l)).join("");await dr(this.app,oe(l));let f=await Mu(this.app,l);await this.app.vault.modify(f,u);let p=!1;this.app.workspace.iterateAllLeaves(h=>{h.getDisplayText()!==""&&l.startsWith(h.getDisplayText())&&(p=!0)}),p||await this.app.workspace.openLinkText(l,"/",!1)}async collectAllAttachments(){await this.collectAttachmentsInFolder("/",this.abortSignal)}async collectAttachments(e,n,r=!0){if(n.throwIfAborted(),this.settings.isPathIgnored(e.path)){r&&new ke.Notice("Note path is ignored");return}await this.saveAllOpenNotes(),n.throwIfAborted();let o=await this.fh.collectAttachmentsForCachedNote(e.path);n.throwIfAborted(),o.movedAttachments.length>0&&(await this.lh.updateChangedPathsInNote(e.path,o.movedAttachments),n.throwIfAborted()),o.movedAttachments.length===0?r&&new ke.Notice("No files found that need to be moved"):new ke.Notice(`Moved ${String(o.movedAttachments.length)} attachment${o.movedAttachments.length>1?"s":""}`)}collectAttachmentsCurrentFolder(e){let n=this.app.workspace.getActiveFile();return!n||!be(this.app,n)?!1:(e||ut(this.app,r=>this.collectAttachmentsInFolder(n.parent?.path??"/",r),this.abortSignal),!0)}collectAttachmentsCurrentNote(e){let n=this.app.workspace.getActiveFile();return!n||!be(this.app,n)?!1:(e||ut(this.app,r=>this.collectAttachments(n,r),this.abortSignal),!0)}async collectAttachmentsInFolder(e,n){n.throwIfAborted();let r=0,o=0;await this.saveAllOpenNotes(),await xn({abortSignal:n,buildNoticeMessage:(s,l)=>`Collecting attachments ${l} - ${s.path}`,items:Iu(this.app,e,!0),processItem:async s=>{if(n.throwIfAborted(),this.settings.isPathIgnored(s.path))return;let l=await this.fh.collectAttachmentsForCachedNote(s.path);n.throwIfAborted(),l.movedAttachments.length>0&&(await this.lh.updateChangedPathsInNote(s.path,l.movedAttachments),n.throwIfAborted(),r+=l.movedAttachments.length,o++)},progressBarTitle:"Consistent Attachments and Links: Collecting attachments...",shouldContinueOnError:!0,shouldShowProgressBar:!0}),r===0?new ke.Notice("No files found that need to be moved"):new ke.Notice(`Moved ${String(r)} attachment${r>1?"s":""} from ${String(o)} note${o>1?"s":""}`)}async convertAllEmbedsPathsToRelative(){await this.saveAllOpenNotes();let e=0,n=0;await xn({abortSignal:this.abortSignal,buildNoticeMessage:(r,o)=>`Converting embed paths to relative ${o} - ${r.path}`,items:hr(this.app),processItem:async r=>{if(this.settings.isPathIgnored(r.path))return;let o=await this.lh.convertAllNoteEmbedsPathsToRelative(r.path,this.abortSignal);o.length>0&&(e+=o.length,n++)},progressBarTitle:"Consistent Attachments and Links: Converting embed paths to relative...",shouldContinueOnError:!0,shouldShowProgressBar:!0}),e===0?new ke.Notice("No embeds found that need to be converted"):new ke.Notice(`Converted ${String(e)} embed${e>1?"s":""} from ${String(n)} note${n>1?"s":""}`)}convertAllEmbedsPathsToRelativeCurrentNote(e){let n=this.app.workspace.getActiveFile();return!n||!be(this.app,n)?!1:(e||ut(this.app,_r(r=>this.lh.convertAllNoteEmbedsPathsToRelative(n.path,r)),this.abortSignal),!0)}async convertAllLinkPathsToRelative(e){e.throwIfAborted(),await this.saveAllOpenNotes(),e.throwIfAborted();let n=0,r=0;await xn({abortSignal:e,buildNoticeMessage:(o,s)=>`Converting link paths to relative ${s} - ${o.path}`,items:hr(this.app),processItem:async o=>{if(this.settings.isPathIgnored(o.path))return;let s=await this.lh.convertAllNoteLinksPathsToRelative(o.path,e);s.length>0&&(n+=s.length,r++)},progressBarTitle:"Consistent Attachments and Links: Converting link paths to relative...",shouldContinueOnError:!0,shouldShowProgressBar:!0}),n===0?new ke.Notice("No links found that need to be converted"):new ke.Notice(`Converted ${String(n)} link${n>1?"s":""} from ${String(r)} note${r>1?"s":""}`)}convertAllLinkPathsToRelativeCurrentNote(e){let n=this.app.workspace.getActiveFile();return!n||!be(this.app,n)?!1:(e||ut(this.app,_r(r=>this.lh.convertAllNoteLinksPathsToRelative(n.path,r)),this.abortSignal),!0)}async deleteEmptyFolders(){await this.fh.deleteEmptyFolders("/")}handleDeletedMetadata(e,n){!this.settings.shouldDeleteAttachmentsWithNote||this.settings.isPathIgnored(e.path)||!be(this.app,e)||this.deletedNoteCache.set(e.path,n)}handleFileMenu(e,n){Or(n)&&e.addItem(r=>{r.setTitle("Collect attachments in folder").setIcon("download").onClick(()=>this.collectAttachmentsInFolder(n.path,this.abortSignal))})}async handleMetadataCacheChanged(e,n){if(n.throwIfAborted(),!this.settings.shouldCollectAttachmentsAutomatically)return;let r=document.querySelector(".suggestion-container");r&&r.style.display!=="none"||await this.collectAttachments(e,n,!1)}async reorganizeVault(){await this.saveAllOpenNotes(),await this.replaceAllWikilinksWithMarkdownLinks(),await this.replaceAllWikiEmbedsWithMarkdownEmbeds(),await this.convertAllEmbedsPathsToRelative(),await this.convertAllLinkPathsToRelative(this.abortSignal),await this.collectAllAttachments(),await this.deleteEmptyFolders(),new ke.Notice("Reorganization of the vault completed")}async replaceAllWikiEmbedsWithMarkdownEmbeds(){await this.saveAllOpenNotes();let e=0,n=0;await xn({abortSignal:this.abortSignal,buildNoticeMessage:(r,o)=>`Replacing wiki embeds with markdown embeds ${o} - ${r.path}`,items:hr(this.app),processItem:async r=>{if(this.settings.isPathIgnored(r.path))return;let o=await this.lh.replaceAllNoteWikilinksWithMarkdownLinks(r.path,!0,this.abortSignal);e+=o,n++},progressBarTitle:"Consistent Attachments and Links: Replacing wiki embeds with markdown embeds...",shouldContinueOnError:!0,shouldShowProgressBar:!0}),e===0?new ke.Notice("No wiki embeds found that need to be replaced"):new ke.Notice(`Replaced ${String(e)} wiki embed${e>1?"s":""} from ${String(n)} note${n>1?"s":""}`)}replaceAllWikiEmbedsWithMarkdownEmbedsCurrentNote(e){let n=this.app.workspace.getActiveFile();return!n||!be(this.app,n)?!1:(e||ut(this.app,_r(r=>this.lh.replaceAllNoteWikilinksWithMarkdownLinks(n.path,!0,r)),this.abortSignal),!0)}async replaceAllWikilinksWithMarkdownLinks(){await this.saveAllOpenNotes();let e=0,n=0;await xn({abortSignal:this.abortSignal,buildNoticeMessage:(r,o)=>`Replacing wikilinks with markdown links ${o} - ${r.path}`,items:hr(this.app),processItem:async r=>{if(this.settings.isPathIgnored(r.path))return;let o=await this.lh.replaceAllNoteWikilinksWithMarkdownLinks(r.path,!1,this.abortSignal);e+=o,n++},progressBarTitle:"Consistent Attachments and Links: Replacing wikilinks with markdown links...",shouldContinueOnError:!0,shouldShowProgressBar:!0}),e===0?new ke.Notice("No wiki links found that need to be replaced"):new ke.Notice(`Replaced ${String(e)} wikilink${e>1?"s":""} from ${String(n)} note${n>1?"s":""}`)}replaceAllWikilinksWithMarkdownLinksCurrentNote(e){let n=this.app.workspace.getActiveFile();return!n||!be(this.app,n)?!1:(e||ut(this.app,_r(r=>this.lh.replaceAllNoteWikilinksWithMarkdownLinks(n.path,!1,r)),this.abortSignal),!0)}async saveAllOpenNotes(){for(let e of this.app.workspace.getLeavesOfType("markdown"))e.view instanceof ke.MarkdownView&&await e.view.save()}async showBackupWarning(){this.settings.shouldShowBackupWarning&&(await Gi({app:this.app,message:createFragment(e=>{e.createDiv({cls:"community-modal-readme"},n=>{n.appendText("Using 'Consistent Attachments and Links' plugin without proper configuration might lead to inconvenient attachment rearrangements or even data loss in your vault."),n.createEl("br"),n.appendText("It is "),n.createEl("strong",{text:"STRONGLY"}),n.appendText(" recommended to backup your vault before using the plugin."),n.createEl("br"),this.settings.hadDangerousSettingsReverted&&(n.appendText("Some of your plugin settings has been changed to their safe values."),n.createEl("br")),n.createEl("a",{href:"https://github.com/dy-sh/obsidian-consistent-attachments-and-links?tab=readme-ov-file",text:"Read more"}),n.appendText(" about how to use the plugin."),n.createEl("br"),n.appendText("This warning will not appear again.")})}),title:createFragment(e=>{(0,ke.setIcon)(e.createSpan(),"triangle-alert"),e.appendText(" Consistent Attachments and Links")})}),await this.settingsManager.editAndSave(e=>{e.shouldShowBackupWarning=!1}))}};var Lb=vs;
/*! Bundled license information:

moment/moment.js:
  (*! moment.js *)
  (*! version : 2.30.1 *)
  (*! authors : Tim Wood, Iskren Chernev, Moment.js contributors *)
  (*! license : MIT *)
  (*! momentjs.com *)
*/

/* nosourcemap */